import{r as n,j as e,g as _t,s as It,e as Un,u as Ls,R as Ue,C as Mt,S as zn,B as $n,f as Wn,h as Le,i as _n}from"./react-CXx_vHpz.js";import{V as Bs,R as Us,A as zs,C as $s,T as Ws,D as _s,P as Vn,S as Hn,O as Vs,a as Yn,b as Hs,c as Kt,d as Ys,e as qs,f as qn,g as Gs,h as Ks,i as Gn,j as Kn,k as Jn,l as Js,I as Xn,m as Xs,n as Zs,o as Zn,p as Qs,q as Qn,L as ea,r as ta,s as er,t as tr,u as sa,v as sr,w as ar,x as aa,y as nr,z as na,B as rr,E as ir,F as ra,G as or,H as ia,J as lr,K as oa,M as cr,N as dr,Q as la,U as ca,W as da,X as ur}from"./radix-ui-aCwUixFr.js";import{t as hr}from"./tailwind-plugins-D696Ktp4.js";import{X as Jt,U as Ps,M as ua,L as Xt,E as ha,a as Zt,S as Es,P as it,Z as ma,b as Vt,H as Ht,c as et,C as xa,d as mr,e as fa,f as ga,g as pa,h as ya,R as ja,T as xr,D as De,i as ba,j as fr,k as gr,l as Yt,m as pr,F as We,n as va,o as yr,p as jr,q as Rs,r as Qt,s as es,t as wa,u as Na,v as br,w as vr,I as wr,x as Nr,y as Sr,z as Cr,A as Fr,B as Sa}from"./lucide-Bfvr4gL6.js";import{Q as Ca,u as Fa,a as kr}from"./react-query-CIGuacYA.js";import{p as _e,t as ge,v as ae,b as Pr,u as Ee,a as Ot,o as ka,s as fe,c as Er}from"./drizzle-DACOT_fa.js";import{G as tt,P as Rr,a as ts,s as ot,b as Tr,c as Ar}from"./pdf-tools-r-skSOYy.js";import{L as lt}from"./router-BPQ_yNC-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))r(m);new MutationObserver(m=>{for(const l of m)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(m){const l={};return m.integrity&&(l.integrity=m.integrity),m.referrerPolicy&&(l.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?l.credentials="include":m.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(m){if(m.ep)return;m.ep=!0;const l=a(m);fetch(m.href,l)}})();function Pa(s){var t,a,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var m=s.length;for(t=0;t<m;t++)s[t]&&(a=Pa(s[t]))&&(r&&(r+=" "),r+=a)}else for(a in s)s[a]&&(r&&(r+=" "),r+=a);return r}function Ea(){for(var s,t,a=0,r="",m=arguments.length;a<m;a++)(s=arguments[a])&&(t=Pa(s))&&(r&&(r+=" "),r+=t);return r}const Ts=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,As=Ea,ht=(s,t)=>a=>{var r;if((t==null?void 0:t.variants)==null)return As(s,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:m,defaultVariants:l}=t,h=Object.keys(m).map(x=>{const g=a==null?void 0:a[x],v=l==null?void 0:l[x];if(g===null)return null;const N=Ts(g)||Ts(v);return m[x][N]}),c=a&&Object.entries(a).reduce((x,g)=>{let[v,N]=g;return N===void 0||(x[v]=N),x},{}),o=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((x,g)=>{let{class:v,className:N,...S}=g;return Object.entries(S).every(A=>{let[H,_]=A;return Array.isArray(_)?_.includes({...l,...c}[H]):{...l,...c}[H]===_})?[...x,v,N]:x},[]);return As(s,h,o,a==null?void 0:a.class,a==null?void 0:a.className)};function G(...s){return hr(Ea(s))}const Dr=Vn,Ra=n.forwardRef(({className:s,...t},a)=>e.jsx(Bs,{ref:a,className:G("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));Ra.displayName=Bs.displayName;const Ir=ht("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Mr=n.forwardRef(({className:s,variant:t,...a},r)=>e.jsx(Us,{ref:r,className:G(Ir({variant:t}),s),...a}));Mr.displayName=Us.displayName;const Or=n.forwardRef(({className:s,...t},a)=>e.jsx(zs,{ref:a,className:G("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));Or.displayName=zs.displayName;const Lr=n.forwardRef(({className:s,...t},a)=>e.jsx($s,{ref:a,className:G("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(Jt,{className:"h-4 w-4"})}));Lr.displayName=$s.displayName;const Br=n.forwardRef(({className:s,...t},a)=>e.jsx(Ws,{ref:a,className:G("text-sm font-semibold",s),...t}));Br.displayName=Ws.displayName;const Ur=n.forwardRef(({className:s,...t},a)=>e.jsx(_s,{ref:a,className:G("text-sm opacity-90",s),...t}));Ur.displayName=_s.displayName;const zr=()=>e.jsx(Dr,{children:e.jsx(Ra,{})}),$r=1,Wr=1e6;let Lt=0;function _r(){return Lt=(Lt+1)%Number.MAX_SAFE_INTEGER,Lt.toString()}const Bt=new Map,Ds=s=>{if(Bt.has(s))return;const t=setTimeout(()=>{Bt.delete(s),$e({type:"REMOVE_TOAST",toastId:s})},Wr);Bt.set(s,t)},Vr=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,$r)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?Ds(a):s.toasts.forEach(r=>{Ds(r.id)}),{...s,toasts:s.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==t.toastId)}}},st=[];let at={toasts:[]};function $e(s){at=Vr(at,s),st.forEach(t=>{t(at)})}function Hr({...s}){const t=_r(),a=m=>$e({type:"UPDATE_TOAST",toast:{...m,id:t}}),r=()=>$e({type:"DISMISS_TOAST",toastId:t});return $e({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:m=>{m||r()}}}),{id:t,dismiss:r,update:a}}function ss(){const[s,t]=n.useState(at);return n.useEffect(()=>(st.push(t),()=>{const a=st.indexOf(t);a>-1&&st.splice(a,1)}),[s]),{...s,toast:Hr,dismiss:a=>$e({type:"DISMISS_TOAST",toastId:a})}}const Ut=768;function Ta(){const[s,t]=n.useState(void 0);return n.useEffect(()=>{const a=window.matchMedia(`(max-width: ${Ut-1}px)`),r=()=>{t(window.innerWidth<Ut)};return a.addEventListener("change",r),t(window.innerWidth<Ut),()=>a.removeEventListener("change",r)},[]),!!s}const Yr={theme:"system",setTheme:()=>null},qr=n.createContext(Yr);function Gr({children:s,defaultTheme:t="dark",storageKey:a="pdf4ever-theme",...r}){const[m,l]=n.useState(()=>localStorage.getItem(a)||t);n.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),m==="system"){const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(o);return}c.classList.add(m)},[m]);const h={theme:m,setTheme:c=>{localStorage.setItem(a,c),l(c)}};return e.jsx(qr.Provider,{...r,value:h,children:s})}const Kr=ht("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=n.forwardRef(({className:s,variant:t,size:a,asChild:r=!1,...m},l)=>{const h=r?Hn:"button";return e.jsx(h,{className:G(Kr({variant:t,size:a,className:s})),ref:l,...m})});I.displayName="Button";const Is=(s,t,a)=>{if(s&&"reportValidity"in s){const r=_t(a,t);s.setCustomValidity(r&&r.message||""),s.reportValidity()}},Aa=(s,t)=>{for(const a in t.fields){const r=t.fields[a];r&&r.ref&&"reportValidity"in r.ref?Is(r.ref,a,s):r.refs&&r.refs.forEach(m=>Is(m,a,s))}},Jr=(s,t)=>{t.shouldUseNativeValidation&&Aa(s,t);const a={};for(const r in s){const m=_t(t.fields,r),l=Object.assign(s[r]||{},{ref:m&&m.ref});if(Xr(t.names||Object.keys(s),r)){const h=Object.assign({},_t(a,r));It(h,"root",l),It(a,r,h)}else It(a,r,l)}return a},Xr=(s,t)=>s.some(a=>a.startsWith(t+"."));var Zr=function(s,t){for(var a={};s.length;){var r=s[0],m=r.code,l=r.message,h=r.path.join(".");if(!a[h])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];a[h]={message:c.message,type:c.code}}else a[h]={message:l,type:m};if("unionErrors"in r&&r.unionErrors.forEach(function(g){return g.errors.forEach(function(v){return s.push(v)})}),t){var o=a[h].types,x=o&&o[r.code];a[h]=Un(h,t,a,m,x?[].concat(x,r.message):r.message)}s.shift()}return a},Da=function(s,t,a){return a===void 0&&(a={}),function(r,m,l){try{return Promise.resolve(function(h,c){try{var o=Promise.resolve(s[a.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(x){return l.shouldUseNativeValidation&&Aa({},l),{errors:{},values:a.raw?r:x}})}catch(x){return c(x)}return o&&o.then?o.then(void 0,c):o}(0,function(h){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(h))return{values:{},errors:Jr(Zr(h.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw h}))}catch(h){return Promise.reject(h)}}};const Ia=qn,Qr=Yn,Ma=n.forwardRef(({className:s,...t},a)=>e.jsx(Vs,{ref:a,className:G("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));Ma.displayName=Vs.displayName;const as=n.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(Qr,{children:[e.jsx(Ma,{}),e.jsxs(Hs,{ref:r,className:G("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(Kt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));as.displayName=Hs.displayName;const ns=({className:s,...t})=>e.jsx("div",{className:G("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});ns.displayName="DialogHeader";const rs=n.forwardRef(({className:s,children:t,...a},r)=>e.jsx(Ys,{ref:r,className:G("text-lg font-semibold leading-none tracking-tight",s),...a,children:t}));rs.displayName=Ys.displayName;const is=n.forwardRef(({className:s,children:t,...a},r)=>e.jsx(qs,{ref:r,className:G("text-sm text-muted-foreground",s),...a,children:t}));is.displayName=qs.displayName;const ei=n.forwardRef((s,t)=>e.jsx(Kt,{ref:t,...s}));ei.displayName=Kt.displayName;const ce=n.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:G("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a}));ce.displayName="Input";const ti=ht("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ce=n.forwardRef(({className:s,...t},a)=>e.jsx(Gs,{ref:a,className:G(ti(),s),...t}));Ce.displayName=Gs.displayName;const os=_e("users",{id:Ee("id").primaryKey().defaultRandom(),email:ae("email",{length:255}).unique().notNull(),password:ae("password",{length:255}),firstName:ae("first_name",{length:100}),lastName:ae("last_name",{length:100}),profileImageUrl:ae("profile_image_url",{length:500}),isVerified:Pr("is_verified").default(!1),authProvider:ae("auth_provider",{length:50}).default("email"),authProviderId:ae("auth_provider_id",{length:255}),createdAt:ge("created_at").defaultNow(),updatedAt:ge("updated_at").defaultNow()});_e("accounts",{id:Ee("id").primaryKey().defaultRandom(),userId:Ee("user_id").references(()=>os.id,{onDelete:"cascade"}).notNull(),provider:ae("provider",{length:50}).notNull(),providerAccountId:ae("provider_account_id",{length:255}).notNull(),accessToken:Ot("access_token"),refreshToken:Ot("refresh_token"),expiresAt:ge("expires_at"),tokenType:ae("token_type",{length:50}),scope:ae("scope",{length:255}),idToken:Ot("id_token"),createdAt:ge("created_at").defaultNow()});_e("verification_tokens",{id:Ee("id").primaryKey().defaultRandom(),email:ae("email",{length:255}).notNull(),token:ae("token",{length:255}).notNull(),expiresAt:ge("expires_at").notNull(),createdAt:ge("created_at").defaultNow()});_e("password_reset_tokens",{id:Ee("id").primaryKey().defaultRandom(),email:ae("email",{length:255}).notNull(),token:ae("token",{length:255}).notNull(),expiresAt:ge("expires_at").notNull(),createdAt:ge("created_at").defaultNow()});_e("sessions",{id:Ee("id").primaryKey().defaultRandom(),userId:Ee("user_id").references(()=>os.id,{onDelete:"cascade"}).notNull(),token:ae("token",{length:255}).notNull().unique(),expiresAt:ge("expires_at").notNull(),createdAt:ge("created_at").defaultNow()});const si=ka({email:fe().email("Invalid email address"),password:fe().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/\d/,"Password must contain at least one number").regex(/[!@#$%^&*(),.?":{}|<>]/,"Password must contain at least one special character"),firstName:fe().min(1,"First name is required"),lastName:fe().min(1,"Last name is required")}),ai=ka({email:fe().email("Invalid email address"),password:fe().min(1,"Password is required")});Er(os,{email:fe().email("Invalid email address"),password:fe().optional(),firstName:fe().optional(),lastName:fe().optional()}).omit({id:!0,createdAt:!0,updatedAt:!0,isVerified:!0,authProvider:!0,authProviderId:!0});async function ni(s){if(!s.ok){const t=await s.text()||s.statusText;throw new Error(`${s.status}: ${t}`)}}async function Oa(s,t="GET",a={}){const r=await fetch(s,{method:t,...a,headers:{"Content-Type":"application/json",...a.headers}});if(!r.ok){const m=await r.text();throw new Error(`${r.status}: ${m}`)}return r.json()}const ri=({on401:s})=>async({queryKey:t})=>{const a=await fetch(t[0],{credentials:"include"});return await ni(a),await a.json()};new Ca({defaultOptions:{queries:{queryFn:ri({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function ii({open:s,onOpenChange:t,onSuccess:a}){const[r,m]=n.useState(!1),{toast:l}=ss(),h=Ls({resolver:Da(si),defaultValues:{email:"",password:"",firstName:"",lastName:""}}),c=Fa({mutationFn:async g=>Oa("/api/auth/signup","POST",{body:JSON.stringify(g),headers:{"Content-Type":"application/json"}}),onSuccess:g=>{l({title:"Account created successfully!",description:"Please check your email for verification instructions."}),a(g.user,g.token),t(!1),h.reset()},onError:g=>{l({title:"Signup failed",description:g.message||"An error occurred during signup",variant:"destructive"})}}),o=g=>{c.mutate(g)},x=()=>{window.location.href="/api/auth/google"};return e.jsx(Ia,{open:s,onOpenChange:t,children:e.jsxs(as,{className:"sm:max-w-md",children:[e.jsxs(ns,{children:[e.jsx(rs,{className:"text-2xl font-bold text-center",children:"Create Account"}),e.jsx(is,{className:"text-center",children:"Join PDF4EVER to start editing your PDFs securely"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(I,{onClick:x,variant:"outline",className:"w-full flex items-center gap-2 h-11",type:"button",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:h.handleSubmit(o),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ce,{htmlFor:"firstName",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ps,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(ce,{id:"firstName",placeholder:"John",className:"pl-10",...h.register("firstName")})]}),h.formState.errors.firstName&&e.jsx("p",{className:"text-sm text-red-600",children:h.formState.errors.firstName.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ce,{htmlFor:"lastName",children:"Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ps,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(ce,{id:"lastName",placeholder:"Doe",className:"pl-10",...h.register("lastName")})]}),h.formState.errors.lastName&&e.jsx("p",{className:"text-sm text-red-600",children:h.formState.errors.lastName.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ce,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ua,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(ce,{id:"email",type:"email",placeholder:"john@example.com",className:"pl-10",...h.register("email")})]}),h.formState.errors.email&&e.jsx("p",{className:"text-sm text-red-600",children:h.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ce,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(ce,{id:"password",type:r?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10",...h.register("password")}),e.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!r),children:r?e.jsx(ha,{className:"h-4 w-4"}):e.jsx(Zt,{className:"h-4 w-4"})})]}),h.formState.errors.password&&e.jsx("p",{className:"text-sm text-red-600",children:h.formState.errors.password.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 8 characters with uppercase, lowercase, number, and special character."})]}),e.jsx(I,{type:"submit",className:"w-full",disabled:c.isPending,children:c.isPending?"Creating Account...":"Create Account"})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Already have an account?"," "]}),e.jsx(I,{variant:"link",className:"p-0 h-auto font-normal",onClick:()=>t(!1),children:"Sign in"})]}),e.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:[e.jsx("p",{children:"Your privacy is our priority. We don't store your PDF files."}),e.jsx("p",{children:"All editing happens locally in your browser."})]})]})]})})}function oi({open:s,onOpenChange:t,onSuccess:a,onSwitchToSignup:r}){const[m,l]=n.useState(!1),{toast:h}=ss(),c=Ls({resolver:Da(ai),defaultValues:{email:"",password:""}}),o=Fa({mutationFn:async v=>Oa("/api/auth/login","POST",{body:JSON.stringify(v),headers:{"Content-Type":"application/json"}}),onSuccess:v=>{h({title:"Welcome back!",description:"You have been successfully logged in."}),a(v.user,v.token),t(!1),c.reset()},onError:v=>{h({title:"Login failed",description:v.message||"Invalid email or password",variant:"destructive"})}}),x=v=>{o.mutate(v)},g=()=>{window.location.href="/api/auth/google"};return e.jsx(Ia,{open:s,onOpenChange:t,children:e.jsxs(as,{className:"sm:max-w-md",children:[e.jsxs(ns,{children:[e.jsx(rs,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),e.jsx(is,{className:"text-center",children:"Sign in to your PDF4EVER account"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(I,{onClick:g,variant:"outline",className:"w-full flex items-center gap-2 h-11",type:"button",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:c.handleSubmit(x),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ce,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ua,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(ce,{id:"email",type:"email",placeholder:"john@example.com",className:"pl-10",...c.register("email")})]}),c.formState.errors.email&&e.jsx("p",{className:"text-sm text-red-600",children:c.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ce,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(ce,{id:"password",type:m?"text":"password",placeholder:"••••••••",className:"pl-10 pr-10",...c.register("password")}),e.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!m),children:m?e.jsx(ha,{className:"h-4 w-4"}):e.jsx(Zt,{className:"h-4 w-4"})})]}),c.formState.errors.password&&e.jsx("p",{className:"text-sm text-red-600",children:c.formState.errors.password.message})]}),e.jsx(I,{type:"submit",className:"w-full",disabled:o.isPending,children:o.isPending?"Signing In...":"Sign In"})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Don't have an account?"," "]}),e.jsx(I,{variant:"link",className:"p-0 h-auto font-normal",onClick:r,children:"Sign up"})]}),e.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:[e.jsx("p",{children:"Your privacy is our priority. We don't store your PDF files."}),e.jsx("p",{children:"All editing happens locally in your browser."})]})]})]})})}const li=n.createContext(void 0);function ci(){return n.useContext(li)??null}const de=n.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:G("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));de.displayName="Card";const Fe=n.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:G("flex flex-col space-y-1.5 p-6",s),...t}));Fe.displayName="CardHeader";const ke=n.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:G("text-2xl font-semibold leading-none tracking-tight",s),...t}));ke.displayName="CardTitle";const di=n.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:G("text-sm text-muted-foreground",s),...t}));di.displayName="CardDescription";const ue=n.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:G("p-6 pt-0",s),...t}));ue.displayName="CardContent";const ui=n.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:G("flex items-center p-6 pt-0",s),...t}));ui.displayName="CardFooter";function hi(){const[s,t]=n.useState(!1),[a,r]=n.useState(!1),m=ci(),l=(c,o)=>{m&&m.login&&m.login(c,o)},h=()=>{r(!1),t(!0)};return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("section",{className:"container mx-auto px-4 py-20 text-center",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:[e.jsx("span",{style:{color:"#005aff"},children:"Edit PDFs"})," ",e.jsx("span",{style:{color:"#ff3900"},children:"with Complete Privacy"})]}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto",children:"Professional PDF editing tools that work entirely in your browser. Your files never leave your device - guaranteed privacy protection."})]})}),e.jsxs("section",{className:"container mx-auto px-4 py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Why Choose PDF4EVER?"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsx(de,{className:"text-center p-6",children:e.jsxs(ue,{className:"pt-6",children:[e.jsx(Es,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Complete Privacy"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"All processing happens locally. We never store your files on our servers."})]})}),e.jsx(de,{className:"text-center p-6",children:e.jsxs(ue,{className:"pt-6",children:[e.jsx(Xt,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Data Respect"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Your personal information is never shared with third parties. We protect your privacy above all."})]})}),e.jsx(de,{className:"text-center p-6",children:e.jsxs(ue,{className:"pt-6",children:[e.jsx(it,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Professional Tools"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Advanced editing, annotations, signatures, OCR, and form filling capabilities."})]})}),e.jsx(de,{className:"text-center p-6",children:e.jsxs(ue,{className:"pt-6",children:[e.jsx(ma,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Lightning Fast"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No uploads, no waiting. Start editing immediately in your browser."})]})})]})]}),e.jsx("section",{className:"bg-gradient-to-r from-blue-50 to-orange-50 dark:from-gray-800 dark:to-gray-700 py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("h2",{className:"text-4xl font-bold mb-8",children:["Why We Built ",e.jsx("span",{style:{color:"#005aff"},children:"PDF4"}),e.jsx("span",{style:{color:"#ff3900"},children:"EVER"})]}),e.jsxs("div",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed space-y-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:'When you "buy" something today, you hardly own half of what you purchase.'}),'Most companies have switched to subscription-based payments that drain your wallet month after month, or offer "free" trials designed to gouge you when you forget to cancel.']}),e.jsx("p",{}),e.jsxs("p",{children:[e.jsx("strong",{children:"That's why PDF4EVER offers a simple one-time purchase that includes all future upgrades forever."})," ","No hidden fees, no upgrade charges, no subscription traps - just honest software ownership."]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 shadow-lg mt-8",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 text-blue-600 dark:text-blue-400",children:"Our Promise"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-left",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-2",children:"💰 One-Time Payment"}),e.jsx("p",{children:"Pay once, own it forever. Includes all future upgrades and features at no additional cost."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-2",children:"🎯 Real Customer Support"}),e.jsx("p",{children:"In the era of AI, being able to get a real person to help you anymor"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-2",children:"🛡️ No Data Harvesting"}),e.jsx("p",{children:"We don't sell your data, track your behavior, or profit from your privacy."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-lg mb-2",children:"✊ Fair Business Model"}),e.jsx("p",{children:"Honest pricing for honest people. No tricks, no traps, no exploitation."})]})]})]}),e.jsx("p",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400 mt-8",children:"PDF4EVER is built for people who believe you should actually own what you buy."}),e.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-6 mt-8",children:e.jsxs("p",{className:"text-lg",children:[e.jsx("strong",{children:"Can't afford the one-time payment but still need to use the service?"})," "]})})]})]})})}),e.jsx("section",{className:"bg-gray-50 dark:bg-gray-800 py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Everything You Need"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:["Text editing and formatting","Digital signatures","Form filling","OCR text extraction","Page merging and splitting","Annotation tools","Font matching","Invoice generation","Watermark removal"].map((c,o)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c})]},o))})]})}),e.jsx("section",{className:"container mx-auto px-4 py-16 text-center",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx(Es,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Your Privacy is Sacred"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8",children:"We believe your documents should remain yours. That's why PDF4EVER processes everything locally in your browser. No file uploads, no cloud storage, no data collection. Just pure, secure PDF editing."}),e.jsxs("div",{className:"flex justify-center items-center space-x-8 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("div",{children:"✓ No file uploads"}),e.jsx("div",{children:"✓ No cloud storage"}),e.jsx("div",{children:"✓ No tracking"}),e.jsx("div",{children:"✓ 100% local processing"})]})]})}),e.jsx("section",{style:{backgroundColor:"#005aff"},className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-white",children:"Ready to Start Editing?"}),e.jsx("p",{className:"text-xl mb-8 text-white opacity-90",children:"Join thousands of users who trust PDF4EVER for secure document editing."}),e.jsx(I,{size:"lg",onClick:()=>t(!0),className:"bg-white text-blue-600 hover:bg-gray-100 border-2 border-white",style:{backgroundColor:"white",color:"#005aff"},children:"Create Free Account"})]})}),e.jsx("footer",{className:"bg-gray-900 text-white py-8",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx("img",{src:"/70x70logo.png",alt:"PDF4EVER Logo",className:"h-8 w-8"}),e.jsxs("span",{className:"text-xl font-bold",children:[e.jsx("span",{style:{color:"#005aff"},children:"PDF4"}),e.jsx("span",{style:{color:"#ff3900"},children:"EVER"})]})]}),e.jsxs("div",{className:"flex justify-center space-x-6 mb-4 text-sm",children:[e.jsx("a",{href:"/privacy-policy",className:"text-gray-300 hover:text-white transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"/terms-of-service",className:"text-gray-300 hover:text-white transition-colors",children:"Terms of Service"})]}),e.jsx("p",{className:"text-gray-400",children:"© 2024 PDF4EVER. Privacy-first PDF editing for everyone."})]})}),e.jsx(ii,{open:s,onOpenChange:t,onSuccess:l}),e.jsx(oi,{open:a,onOpenChange:r,onSuccess:l,onSwitchToSignup:h})]})}const ct=n.forwardRef(({className:s,...t},a)=>e.jsxs(Ks,{ref:a,className:G("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(Gn,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Kn,{className:"absolute h-full bg-primary"})}),e.jsx(Jn,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ct.displayName=Ks.displayName;const mi=ht("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:s,variant:t,...a}){return e.jsx("div",{className:G(mi({variant:t}),s),...a})}function xi({canvasRef:s,currentPage:t,zoom:a=1,onAnnotationsChange:r,showControls:m=!0}){const[l,h]=n.useState([]),[c,o]=n.useState("select"),[x,g]=n.useState("#ffff00"),[v,N]=n.useState(2),[S,A]=n.useState(20),[H,_]=n.useState(!1),[O,W]=n.useState(null),[k,Y]=n.useState([]),[V,i]=n.useState([]),[d,p]=n.useState(-1),[f,y]=n.useState(null),[j,M]=n.useState(""),b=n.useRef(null);n.useRef(null),n.useEffect(()=>{if(s.current&&b.current){const q=s.current,E=b.current;E.width=q.width,E.height=q.height,E.style.position="absolute",E.style.top="0",E.style.left="0",E.style.pointerEvents=c==="select"?"none":"auto",E.style.zIndex="10"}},[s,c]),n.useEffect(()=>{B(),r==null||r(l)},[l,t,a]);const B=n.useCallback(()=>{const q=b.current;if(!q)return;const E=q.getContext("2d");E&&(E.clearRect(0,0,q.width,q.height),l.filter(U=>U.page===t).forEach(U=>{E.save(),E.strokeStyle=U.color,E.fillStyle=U.color,E.lineWidth=U.strokeWidth*a;const $=U.x*a,Q=U.y*a,ie=U.width*a,oe=U.height*a;switch(U.type){case"highlight":E.globalAlpha=.3,E.fillRect($,Q,ie,oe);break;case"rectangle":E.strokeRect($,Q,ie,oe),f===U.id&&(E.strokeStyle="#0066ff",E.lineWidth=2,E.strokeRect($-2,Q-2,ie+4,oe+4));break;case"circle":E.beginPath(),E.ellipse($+ie/2,Q+oe/2,ie/2,oe/2,0,0,2*Math.PI),E.stroke();break;case"freeform":if(U.points&&U.points.length>1){E.beginPath(),E.moveTo(U.points[0]*a,U.points[1]*a);for(let se=2;se<U.points.length;se+=2)E.lineTo(U.points[se]*a,U.points[se+1]*a);E.stroke()}break;case"signature":if(U.points&&U.points.length>1){E.lineWidth=2*a,E.beginPath(),E.moveTo(U.points[0]*a,U.points[1]*a);for(let se=2;se<U.points.length;se+=2)E.lineTo(U.points[se]*a,U.points[se+1]*a);E.stroke()}break;case"text":U.text&&(E.font=`${(U.fontSize||16)*a}px Arial`,E.fillText(U.text,$,Q+(U.fontSize||16)*a));break}E.restore()}))},[l,t,a,f]),F=n.useCallback(q=>{const E=b.current;if(!E)return{x:0,y:0};const U=E.getBoundingClientRect();return{x:(q.clientX-U.left)/a,y:(q.clientY-U.top)/a}},[a]),z=n.useCallback(q=>{if(c==="select")return;const E=F(q);_(!0),W(E),(c==="freeform"||c==="signature")&&Y([E.x,E.y])},[c,F]),C=n.useCallback(q=>{if(!H||!O)return;const E=F(q);if(c==="freeform"||c==="signature"){Y(Q=>[...Q,E.x,E.y]);const U=b.current,$=U==null?void 0:U.getContext("2d");$&&k.length>2&&($.strokeStyle=x,$.lineWidth=v*a,$.lineCap="round",$.lineJoin="round",$.beginPath(),$.moveTo(k[k.length-4]*a,k[k.length-3]*a),$.lineTo(E.x*a,E.y*a),$.stroke())}else c==="eraser"&&R(E.x,E.y)},[H,O,c,k,x,v,a,F]),D=n.useCallback(q=>{if(!H||!O||c==="select")return;const E=F(q),U=`annotation-${Date.now()}`;let $;switch(c){case"highlight":case"rectangle":$={id:U,type:c,x:Math.min(O.x,E.x),y:Math.min(O.y,E.y),width:Math.abs(E.x-O.x),height:Math.abs(E.y-O.y),color:x,strokeWidth:v,page:t,points:k,fontSize:16};break;case"circle":$={id:U,type:"circle",x:Math.min(O.x,E.x),y:Math.min(O.y,E.y),width:Math.abs(E.x-O.x),height:Math.abs(E.y-O.y),color:x,strokeWidth:v,page:t,points:k,fontSize:16};break;case"checkmark":case"x-mark":$={id:U,type:c,x:Math.min(O.x,E.x),y:Math.min(O.y,E.y),width:Math.abs(E.x-O.x),height:Math.abs(E.y-O.y),color:x,strokeWidth:v,page:t,points:k,fontSize:16};break;case"freeform":case"signature":if(k.length>2){const ie=Math.min(...k.filter((ye,te)=>te%2===0)),oe=Math.max(...k.filter((ye,te)=>te%2===0)),se=Math.min(...k.filter((ye,te)=>te%2===1)),Ie=Math.max(...k.filter((ye,te)=>te%2===1));$={id:U,type:c,x:ie,y:se,width:oe-ie,height:Ie-se,color:x,strokeWidth:v,page:t,points:k,fontSize:16}}else{_(!1),W(null),Y([]);return}break;default:_(!1),W(null),Y([]);return}const Q=[...l,$];h(Q),P(Q),_(!1),W(null),Y([])},[H,O,c,k,x,v,t,l,F]),R=n.useCallback((q,E)=>{const U=l.filter($=>{if($.page!==t)return!1;const Q=$.x+$.width/2,ie=$.y+$.height/2;return Math.sqrt(Math.pow(Q-q,2)+Math.pow(ie-E,2))<S/2});if(U.length>0){const $=l.filter(Q=>!U.includes(Q));h($)}},[l,t,S]);n.useCallback(q=>{const E=l.filter(U=>U.id!==q);h(E),P(E),f===q&&y(null)},[l,f]);const P=n.useCallback(q=>{const E=V.slice(0,d+1);E.push([...q]),i(E),p(E.length-1)},[V,d]),K=n.useCallback(()=>{d>0&&(p(d-1),h([...V[d-1]]))},[V,d]),X=n.useCallback(()=>{d<V.length-1&&(p(d+1),h([...V[d+1]]))},[V,d]),he=n.useCallback(()=>{h([]),P([])},[P]),Z=n.useCallback(()=>{const q=JSON.stringify(l,null,2),E=new Blob([q],{type:"application/json"}),U=URL.createObjectURL(E),$=document.createElement("a");$.href=U,$.download=`annotations-page-${t}.json`,$.click(),URL.revokeObjectURL(U)},[l,t]),ee=l.filter(q=>q.page===t);return e.jsxs(e.Fragment,{children:[m&&e.jsxs(de,{className:"mb-4",children:[e.jsx(Fe,{children:e.jsxs(ke,{className:"flex items-center gap-2",children:[e.jsx(it,{className:"h-5 w-5"}),"Annotation Tools"]})}),e.jsx(ue,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(I,{variant:c==="select"?"default":"outline",size:"sm",onClick:()=>o("select"),children:[e.jsx(Vt,{className:"h-4 w-4 mr-1"}),"Select"]}),e.jsxs(I,{variant:c==="highlight"?"default":"outline",size:"sm",onClick:()=>o("highlight"),children:[e.jsx(Ht,{className:"h-4 w-4 mr-1"}),"Highlight"]}),e.jsxs(I,{variant:c==="rectangle"?"default":"outline",size:"sm",onClick:()=>o("rectangle"),children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),"Rectangle"]}),e.jsxs(I,{variant:c==="circle"?"default":"outline",size:"sm",onClick:()=>o("circle"),children:[e.jsx(xa,{className:"h-4 w-4 mr-1"}),"Circle"]}),e.jsxs(I,{variant:c==="freeform"?"default":"outline",size:"sm",onClick:()=>o("freeform"),children:[e.jsx(mr,{className:"h-4 w-4 mr-1"}),"Draw"]}),e.jsxs(I,{variant:c==="signature"?"default":"outline",size:"sm",onClick:()=>o("signature"),children:[e.jsx(fa,{className:"h-4 w-4 mr-1"}),"Sign"]}),e.jsxs(I,{variant:c==="eraser"?"default":"outline",size:"sm",onClick:()=>o("eraser"),children:[e.jsx(ga,{className:"h-4 w-4 mr-1"}),"Eraser"]})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"h-4 w-4"}),e.jsx("input",{type:"color",value:x,onChange:q=>g(q.target.value),className:"w-8 h-8 rounded border cursor-pointer"})]}),c!=="eraser"&&e.jsxs("div",{className:"flex items-center gap-2 min-w-32",children:[e.jsx("span",{className:"text-sm",children:"Stroke:"}),e.jsx(ct,{value:[v],onValueChange:q=>N(q[0]),max:10,min:1,step:1,className:"flex-1"}),e.jsx("span",{className:"text-sm w-6",children:v})]}),c==="eraser"&&e.jsxs("div",{className:"flex items-center gap-2 min-w-32",children:[e.jsx("span",{className:"text-sm",children:"Size:"}),e.jsx(ct,{value:[S],onValueChange:q=>A(q[0]),max:50,min:5,step:5,className:"flex-1"}),e.jsxs("span",{className:"text-sm w-8",children:[S,"px"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(I,{variant:"outline",size:"sm",onClick:K,disabled:d<=0,children:[e.jsx(ya,{className:"h-4 w-4 mr-1"}),"Undo"]}),e.jsxs(I,{variant:"outline",size:"sm",onClick:X,disabled:d>=V.length-1,children:[e.jsx(ja,{className:"h-4 w-4 mr-1"}),"Redo"]}),e.jsxs(I,{variant:"outline",size:"sm",onClick:he,disabled:ee.length===0,children:[e.jsx(xr,{className:"h-4 w-4 mr-1"}),"Clear All"]}),e.jsxs(I,{variant:"outline",size:"sm",onClick:Z,disabled:l.length===0,children:[e.jsx(De,{className:"h-4 w-4 mr-1"}),"Export"]}),e.jsxs(Pe,{variant:"secondary",className:"ml-auto",children:[ee.length," annotation(s)"]})]})]})})]}),e.jsx("canvas",{ref:b,onMouseDown:z,onMouseMove:C,onMouseUp:D,style:{position:"absolute",top:0,left:0,pointerEvents:c==="select"?"none":"auto",cursor:c==="eraser"?`url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='${S}' height='${S}' viewBox='0 0 ${S} ${S}'><circle cx='${S/2}' cy='${S/2}' r='${S/2}' fill='none' stroke='red' stroke-width='2'/></svg>") ${S/2} ${S/2}, crosshair`:c==="select"?"default":"crosshair",zIndex:10}})]})}const La=({textBoxes:s,selectedBoxIds:t,onSelect:a,onMultiSelect:r,onClearSelection:m,onUpdate:l,onRemove:h,onAdd:c,currentPage:o,canvasRef:x,fontList:g=[]})=>{const v=s.filter(A=>A.page===o),N=A=>{A.target===A.currentTarget&&m()},S=A=>{var W;if(A.target!==A.currentTarget)return;const H=(W=x.current)==null?void 0:W.getBoundingClientRect();if(!H)return;const _=A.clientX-H.left,O=A.clientY-H.top;c({text:"Double-click to edit",x:_,y:O,width:200,height:30,fontSize:16,fontFamily:"Arial",color:"#000000",page:o,rotation:0,align:"left",font:"Arial",size:16})};return e.jsx("div",{className:"relative w-full h-full",onClick:N,onDoubleClick:S,children:v.map(A=>e.jsx(fi,{box:A,isSelected:t.has(A.id),onSelect:a,onMultiSelect:r,onUpdate:l,onRemove:h,fontList:g},A.id))})},fi=({box:s,isSelected:t,onSelect:a,onMultiSelect:r,onUpdate:m})=>{const[l,h]=n.useState(!1),c=n.useRef(null);n.useEffect(()=>{l&&c.current&&(c.current.focus(),c.current.select())},[l]);const o=S=>{S.stopPropagation(),S.ctrlKey||S.metaKey?r(s.id):a(s.id)},x=S=>{S.stopPropagation(),h(!0)},g=S=>{m(s.id,{text:S.target.value})},v=()=>{h(!1)},N=S=>{S.key==="Escape"?h(!1):S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),h(!1))};return e.jsx("div",{className:`absolute transform ${t?"ring-2 ring-blue-500":""}`,style:{left:`${s.x}px`,top:`${s.y}px`,width:`${s.width}px`,height:`${s.height}px`,transform:`rotate(${s.rotation||0}deg)`,cursor:t?"move":"pointer"},onClick:o,onDoubleClick:x,children:l?e.jsx("textarea",{ref:c,className:"w-full h-full p-0 m-0 bg-transparent resize-none outline-none",value:s.text,onChange:g,onBlur:v,onKeyDown:N,style:{fontFamily:s.fontFamily||"Arial",fontSize:`${s.fontSize||16}px`,color:s.color||"#000000",fontWeight:s.fontWeight||"normal",fontStyle:s.fontStyle||"normal",textAlign:s.align||"left"}}):e.jsx("div",{className:"w-full h-full overflow-hidden",style:{fontFamily:s.fontFamily||"Arial",fontSize:`${s.fontSize||16}px`,color:s.color||"#000000",fontWeight:s.fontWeight||"normal",fontStyle:s.fontStyle||"normal",textAlign:s.align||"left",whiteSpace:"pre-wrap"},children:s.text})})};function pe(s){return s.map(t=>({...t}))}const gi=({initialTextBoxes:s=[],onTextBoxesChange:t,currentPage:a,canvasRef:r,fontList:m=[]})=>{const[l,h]=n.useState(pe(s)),[c,o]=n.useState(new Set),x=n.useRef([]),g=n.useRef([]),v=n.useCallback(d=>{x.current.push(pe(d)),g.current=[]},[]),N=n.useCallback(d=>{o(new Set([d]))},[]),S=n.useCallback(d=>{o(p=>{const f=new Set(p);return f.add(d),f})},[]),A=n.useCallback(()=>{o(new Set)},[]),H=n.useCallback(()=>{if(x.current.length===0)return;const d=x.current.pop();d&&(g.current.push(pe(l)),h(pe(d)),o(new Set),t&&t(pe(d)))},[l,t]),_=n.useCallback(()=>{if(g.current.length===0)return;const d=g.current.pop();d&&(x.current.push(pe(l)),h(pe(d)),o(new Set),t&&t(pe(d)))},[l,t]),O=n.useCallback(d=>{const p=`textbox_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,f={...d,id:p},y=[...l,f];v(l),h(y),o(new Set([p])),t&&t(y)},[l,v,t]),W=n.useCallback((d,p)=>{if(l.findIndex(j=>j.id===d)===-1)return;const y=l.map(j=>j.id===d?{...j,...p}:j);v(l),h(y),t&&t(y)},[l,v,t]),k=n.useCallback(d=>{const p=l.filter(f=>f.id!==d);v(l),h(p),o(f=>{const y=new Set(f);return y.delete(d),y}),t&&t(p)},[l,v,t]),[Y,V]=n.useState([]),i=n.useCallback(d=>{const p=l.find(M=>M.id===d);if(!p)return;const f=`textbox_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,y={...p,id:f,x:p.x+24,y:p.y+24},j=[...l,y];v(l),h(j),o(new Set([f])),t&&t(j)},[l,v,t]);return n.useEffect(()=>{const d=p=>{document.activeElement&&(document.activeElement.tagName==="TEXTAREA"||document.activeElement.tagName==="INPUT")||((p.ctrlKey||p.metaKey)&&p.key.toLowerCase()==="z"?(p.preventDefault(),H()):(p.ctrlKey||p.metaKey)&&p.key.toLowerCase()==="y"?(p.preventDefault(),_()):(p.ctrlKey||p.metaKey)&&p.key.toLowerCase()==="d"&&c.size===1?(p.preventDefault(),i(Array.from(c)[0])):(p.key==="Delete"||p.key==="Backspace")&&c.size>0&&(p.preventDefault(),c.forEach(f=>k(f))))};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[c,H,_,i,k]),n.useEffect(()=>{h(pe(s)),o(new Set)},[s]),e.jsx(La,{textLayerElements:Y,textBoxes:l,selectedBoxIds:c,onSelect:N,onMultiSelect:S,onClearSelection:A,onUpdate:W,onRemove:k,onAdd:O,currentPage:a,canvasRef:r,fontList:m})},qt=sr,Gt=ar,dt=n.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(Js,{ref:r,className:G("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(Xn,{asChild:!0,children:e.jsx(ba,{className:"h-4 w-4 opacity-50"})})]}));dt.displayName=Js.displayName;const Ba=n.forwardRef(({className:s,...t},a)=>e.jsx(Xs,{ref:a,className:G("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(fr,{className:"h-4 w-4"})}));Ba.displayName=Xs.displayName;const Ua=n.forwardRef(({className:s,...t},a)=>e.jsx(Zs,{ref:a,className:G("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(ba,{className:"h-4 w-4"})}));Ua.displayName=Zs.displayName;const ut=n.forwardRef(({className:s,children:t,position:a="popper",...r},m)=>e.jsx(Zn,{children:e.jsxs(Qs,{ref:m,className:G("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...r,children:[e.jsx(Ba,{}),e.jsx(Qn,{className:G("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(Ua,{})]})}));ut.displayName=Qs.displayName;const pi=n.forwardRef(({className:s,...t},a)=>e.jsx(ea,{ref:a,className:G("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));pi.displayName=ea.displayName;const Se=n.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(ta,{ref:r,className:G("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(er,{children:e.jsx(gr,{className:"h-4 w-4"})})}),e.jsx(tr,{children:t})]}));Se.displayName=ta.displayName;const yi=n.forwardRef(({className:s,...t},a)=>e.jsx(sa,{ref:a,className:G("-mx-1 my-1 h-px bg-muted",s),...t}));yi.displayName=sa.displayName;const ls=n.forwardRef(({className:s,value:t,...a},r)=>e.jsx(aa,{ref:r,className:G("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...a,children:e.jsx(nr,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ls.displayName=aa.displayName;const za={Arial:"/fonts/arial.ttf",Helvetica:"/fonts/helvetica.ttf","Times New Roman":"/fonts/times-new-roman.ttf","Courier New":"/fonts/courier-new.ttf",Verdana:"/fonts/verdana.ttf",Georgia:"/fonts/georgia.ttf","Trebuchet MS":"/fonts/trebuchet-ms.ttf",Tahoma:"/fonts/tahoma.ttf",Impact:"/fonts/impact.ttf","Comic Sans MS":"/fonts/comic-sans-ms.ttf",Roboto:"/fonts/roboto.ttf","Open Sans":"/fonts/open-sans.ttf",Lato:"/fonts/lato.ttf",Montserrat:"/fonts/montserrat.ttf",Oswald:"/fonts/oswald.ttf",Raleway:"/fonts/raleway.ttf","PT Sans":"/fonts/pt-sans.ttf","Source Sans Pro":"/fonts/source-sans-pro.ttf",Merriweather:"/fonts/merriweather.ttf","Noto Sans":"/fonts/noto-sans.ttf",Ubuntu:"/fonts/ubuntu.ttf",Nunito:"/fonts/nunito.ttf","Work Sans":"/fonts/work-sans.ttf",Rubik:"/fonts/rubik.ttf",Poppins:"/fonts/poppins.ttf",Inter:"/fonts/inter.ttf","Fira Sans":"/fonts/fira-sans.ttf",Cabin:"/fonts/cabin.ttf","Playfair Display":"/fonts/playfair-display.ttf","Titillium Web":"/fonts/titillium-web.ttf",Inconsolata:"/fonts/inconsolata.ttf","IBM Plex Sans":"/fonts/ibm-plex-sans.ttf",Quicksand:"/fonts/quicksand.ttf",Assistant:"/fonts/assistant.ttf",Mukta:"/fonts/mukta.ttf",Arimo:"/fonts/arimo.ttf",Karla:"/fonts/karla.ttf","Josefin Sans":"/fonts/josefin-sans.ttf",Manrope:"/fonts/manrope.ttf","Zilla Slab":"/fonts/zilla-slab.ttf","Space Grotesk":"/fonts/space-grotesk.ttf",Barlow:"/fonts/barlow.ttf",Cairo:"/fonts/cairo.ttf","DM Sans":"/fonts/dm-sans.ttf",Mulish:"/fonts/mulish.ttf",Heebo:"/fonts/heebo.ttf","Exo 2":"/fonts/exo-2.ttf","Be Vietnam Pro":"/fonts/be-vietnam-pro.ttf",Anton:"/fonts/anton.ttf"};async function ji(s){const t={};for(const[a,r]of Object.entries(za))try{const m=await fetch(r);if(m.ok){const l=await m.arrayBuffer(),h=await s.embedFont(l);t[a]=h,console.log(`Successfully loaded font: ${a}`)}else console.warn(`Font file not found: ${a} at ${r}`)}catch(m){console.warn(`Font load failed: ${a} from ${r}`,m)}return t}function bi(){return Object.keys(za)}function vi(s){const[t,a]=n.useState({}),[r,m]=n.useState(!1),[l,h]=n.useState([]);return n.useEffect(()=>{h(bi())},[]),n.useEffect(()=>{if(!s)return;(async()=>{m(!0);try{const x=await ji(s);a(x)}catch(x){console.error("Error loading fonts:",x)}finally{m(!1)}})()},[s]),{embeddedFonts:t,isLoading:r,availableFontNames:l,getFontInfoList:()=>Object.keys(t).map(o=>({name:o,family:o,style:"normal",weight:"normal",loaded:!0}))}}const wi=[{name:"Helvetica",family:"Helvetica",style:"normal",weight:"normal",loaded:!0},{name:"Times-Roman",family:"Times",style:"normal",weight:"normal",loaded:!0},{name:"Courier",family:"Courier",style:"normal",weight:"normal",loaded:!0},{name:"Arial",family:"Arial",style:"normal",weight:"normal",loaded:!0},{name:"Georgia",family:"Georgia",style:"normal",weight:"normal",loaded:!0},{name:"Verdana",family:"Verdana",style:"normal",weight:"normal",loaded:!0}],zt=["Open Sans","Roboto","Lato","Montserrat","Source Sans Pro","Raleway","Ubuntu","Nunito","Poppins","Merriweather"];function Ni({selectedFont:s,onFontChange:t,fontSize:a,onFontSizeChange:r,fontWeight:m,onFontWeightChange:l,fontStyle:h,onFontStyleChange:c,showAdvanced:o=!1,pdfDoc:x}){const[g,v]=n.useState([]),[N,S]=n.useState(!1),[A,H]=n.useState(0),[_,O]=n.useState("The quick brown fox jumps over the lazy dog"),[W,k]=n.useState(""),{embeddedFonts:Y,getFontInfoList:V}=vi(x),i=n.useCallback(async y=>{try{if(document.querySelector(`link[href*="${y.replace(/\s+/g,"+")}"]`))return!0;const j=document.createElement("link");return j.href=`https://fonts.googleapis.com/css2?family=${y.replace(/\s+/g,"+")}:wght@300;400;500;600;700&display=swap`,j.rel="stylesheet",document.head.appendChild(j),await new Si(y).load(),!0}catch(j){return console.warn(`Failed to load font: ${y}`,j),!1}},[]);n.useEffect(()=>{const y=[...wi];if(Y&&V){const j=V();y.push(...j)}v(y)},[Y,V]);const d=n.useCallback(async()=>{S(!0),H(0);const y=[];for(let j=0;j<zt.length;j++){const M=zt[j];H((j+1)/zt.length*100);const b=await i(M);y.push({name:M,family:M,style:"normal",weight:"normal",loaded:b,variants:["300","400","500","600","700"]})}v(j=>{const M=j.map(B=>B.name),b=y.filter(B=>!M.includes(B.name));return[...j,...b]}),S(!1)},[i]),p=g.filter(y=>y.name.toLowerCase().includes(W.toLowerCase())||y.family.toLowerCase().includes(W.toLowerCase())),f=g.find(y=>y.name===s);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(qt,{value:s,onValueChange:t,children:[e.jsx(dt,{className:"w-48",children:e.jsx(Gt,{placeholder:"Select font"})}),e.jsx(ut,{className:"max-h-60",children:p.map(y=>e.jsx(Se,{value:y.name,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{style:{fontFamily:y.family},children:y.name}),!y.loaded&&e.jsx(Pe,{variant:"outline",className:"text-xs",children:"Not loaded"})]})},y.name))})]}),e.jsx(ce,{type:"number",value:a,onChange:y=>r(Number(y.target.value)),className:"w-20",min:8,max:144,placeholder:"Size"}),e.jsx(I,{variant:m==="bold"?"default":"outline",size:"sm",onClick:()=>l(m==="bold"?"normal":"bold"),children:e.jsx("strong",{children:"B"})}),e.jsx(I,{variant:h==="italic"?"default":"outline",size:"sm",onClick:()=>c(h==="italic"?"normal":"italic"),children:e.jsx("em",{children:"I"})}),!N&&e.jsxs(I,{variant:"outline",size:"sm",onClick:d,children:[e.jsx(De,{className:"h-4 w-4 mr-1"}),"Load More Fonts"]})]}),N&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ls,{value:A}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Loading fonts... ",Math.round(A),"%"]})]}),o&&e.jsxs(de,{children:[e.jsx(Fe,{children:e.jsxs(ke,{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"h-5 w-5"}),"Font Tools"]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ce,{value:W,onChange:y=>k(y.target.value),placeholder:"Search fonts...",className:"pl-10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Preview Text:"}),e.jsx(ce,{value:_,onChange:y=>O(y.target.value),placeholder:"Enter preview text..."}),f&&e.jsx("div",{className:"p-4 border rounded bg-white dark:bg-gray-900",style:{fontFamily:f.family,fontSize:`${a}px`,fontWeight:m,fontStyle:h},children:_})]}),f&&e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("h4",{className:"font-medium",children:"Font Information:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Family:"})," ",f.family]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Style:"})," ",f.style]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Weight:"})," ",f.weight]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx(Pe,{variant:f.loaded?"default":"secondary",className:"ml-2",children:f.loaded?"Loaded":"Not Loaded"})]})]}),f.variants&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Available weights:"}),e.jsx("div",{className:"flex gap-1 mt-1",children:f.variants.map(y=>e.jsx(Pe,{variant:"outline",className:"text-xs",children:y},y))})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsxs("p",{children:["Available fonts: ",g.length]}),e.jsxs("p",{children:["Loaded fonts: ",g.filter(y=>y.loaded).length]})]})]})]})]})}class Si{constructor(t){this.family=t}load(){return new Promise((t,a)=>{const r="BESbswy",h=document.createElement("canvas").getContext("2d");if(!h){a(new Error("Canvas context not available"));return}const c=document.createElement("style");c.innerHTML=`
        @font-face {
          font-family: 'font-observer-test';
          src: local('${this.family}');
          font-weight: normal;
          font-style: normal;
        }
      `,document.head.appendChild(c);const o=setTimeout(()=>{a(new Error(`Font '${this.family}' load timed out after 3000ms`))},3e3),x=()=>{h.font="normal 16px 'font-observer-test'";const g=h.measureText(r).width;h.font="normal 16px 'serif'";const v=h.measureText(r).width;h.font="normal 16px 'sans-serif'";const N=h.measureText(r).width;if(g!==v&&g!==N){clearTimeout(o),document.head.removeChild(c),t(!0);return}setTimeout(x,50)};x()})}}function Ci({whiteoutBlocks:s,setWhiteoutBlocks:t,isActive:a,currentPage:r,canvasRef:m,scale:l,page:h}){const[c,o]=n.useState(!1),[x,g]=n.useState({x:0,y:0}),[v,N]=n.useState(null),[S,A]=n.useState(null),H=k=>{var d;if(!a)return;const Y=(d=m.current)==null?void 0:d.getBoundingClientRect();if(!Y)return;const V=(k.clientX-Y.left)/l,i=(k.clientY-Y.top)/l;g({x:V,y:i}),o(!0)},_=k=>{var d;if(!c||!a)return;const Y=(d=m.current)==null?void 0:d.getBoundingClientRect();if(!Y)return;const V=(k.clientX-Y.left)/l,i=(k.clientY-Y.top)/l;N({id:"temp-whiteout",x:Math.min(x.x,V),y:Math.min(x.y,i),width:Math.abs(V-x.x),height:Math.abs(i-x.y),page:r,color:"#ffffff"})},O=k=>{var d;if(!c||!a)return;const Y=(d=m.current)==null?void 0:d.getBoundingClientRect();if(!Y)return;const V=(k.clientX-Y.left)/l,i=(k.clientY-Y.top)/l;if(Math.abs(V-x.x)>5&&Math.abs(i-x.y)>5){const p={id:`whiteout-${Date.now()}`,x:Math.min(x.x,V),y:Math.min(x.y,i),width:Math.abs(V-x.x),height:Math.abs(i-x.y),page:r,color:"#ffffff"};t(f=>[...f,p])}o(!1),N(null)},W=s.filter(k=>k.page===r);return e.jsxs("div",{className:"whiteout-layer absolute inset-0 z-15",onMouseDown:H,onMouseMove:_,onMouseUp:O,style:{pointerEvents:a?"auto":"none"},children:[W.map(k=>e.jsx("div",{className:`absolute whiteout-block ${S===k.id?"selected":""}`,style:{left:`${k.x*l}px`,top:`${k.y*l}px`,width:`${k.width*l}px`,height:`${k.height*l}px`,backgroundColor:"white",border:S===k.id?"1px dashed #0066cc":"1px solid #e0e0e0",zIndex:20},onClick:Y=>{Y.stopPropagation(),A(k.id)}},k.id)),c&&v&&v.page===r&&e.jsx("div",{className:"absolute whiteout-block",style:{left:`${v.x*l}px`,top:`${v.y*l}px`,width:`${v.width*l}px`,height:`${v.height*l}px`,backgroundColor:"rgba(255,255,255,0.5)",border:"1px dashed #999",pointerEvents:"none",zIndex:30}})]})}tt.workerSrc="/pdf.worker.js";let $t=!1;const Fi=()=>{if(!$t)try{tt.workerSrc||(tt.workerSrc="/pdf.worker.js"),$t=!0,console.log("PDF.js worker initialized with source:",tt.workerSrc)}catch(s){console.error("PDF.js worker setup error:",s),$t=!0}};typeof window<"u"&&Fi();async function ki(s,t){try{if(console.log("Starting PDF save with fields:",t),!s||s.size===0)throw new Error("Invalid or empty file provided");const a=await s.arrayBuffer();if(console.log("Buffer size:",a.byteLength),!a||a.byteLength===0)throw new Error("Failed to read file data");const r=await Rr.load(a);console.log("PDF loaded successfully"),console.log("Testing basic PDF save...");const m=await r.save();console.log("Basic PDF save successful, bytes:",m.length);const l=r.getForm();console.log("Form accessed successfully");const h=l.getFields();console.log(`Available fields in PDF (${h.length}):`,h.map(g=>g.getName()));const c=t.filter(g=>g.value&&g.value.trim()!==""&&g.value!=="Off");if(console.log("Fields with values:",c.length,c),c.length===0){console.warn("No filled fields to save - downloading original PDF"),Ms(m,"original-form.pdf");return}let o=0;for(const g of c)try{if(console.log(`Processing field: ${g.fieldName} = ${g.value}`),!h.some(N=>N.getName()===g.fieldName)){console.warn(`Field ${g.fieldName} not found in PDF`);continue}switch(g.fieldType){case"Tx":try{l.getTextField(g.fieldName).setText(g.value),o++,console.log(`✓ Set text field: ${g.fieldName}`)}catch(N){console.warn(`Could not set text for field: ${g.fieldName}`,N)}break;case"Btn":try{const N=l.getCheckBox(g.fieldName);(g.value==="Yes"||g.value==="On")&&(N.check(),o++,console.log(`✓ Checked field: ${g.fieldName}`))}catch(N){console.warn(`Could not set checkbox for field: ${g.fieldName}`,N)}break;case"Ch":try{l.getDropdown(g.fieldName).select(g.value),o++,console.log(`✓ Set dropdown field: ${g.fieldName}`)}catch(N){console.warn(`Could not set dropdown for field: ${g.fieldName}`,N)}break}}catch(v){console.warn(`Field processing error for "${g.fieldName}":`,v instanceof Error?v.message:String(v))}if(console.log(`Successfully processed ${o} fields`),o>0){console.log("Flattening form...");try{l.flatten(),console.log("Form flattened successfully")}catch(g){console.warn("Could not flatten form, saving without flattening:",g)}}console.log("Saving final PDF...");const x=await r.save();if(console.log("PDF save completed, checking bytes..."),!x)throw new Error("PDF save returned null or undefined");if(!(x instanceof Uint8Array))throw new Error(`PDF save returned invalid type: ${typeof x}`);if(console.log("PDF saved successfully, bytes:",x.length),x.length===0)throw new Error("Generated PDF is empty (0 bytes)");if(x.length<100)throw new Error(`Generated PDF is too small (${x.length} bytes) - likely corrupted`);Ms(x,"filled-form.pdf")}catch(a){console.error("Error saving filled PDF:",a);const r=a instanceof Error?a.message:String(a);alert(`Failed to save PDF: ${r}`)}}function Ms(s,t){try{if(!s||s.length<100)throw new Error(`PDF data is empty or too small (${(s==null?void 0:s.length)||0} bytes). Something went wrong.`);if(console.log(`Creating blob with ${s.length} bytes`),!(s instanceof Uint8Array))throw new Error(`Invalid data type for PDF: ${typeof s}`);const a=new Blob([new Uint8Array(s)],{type:"application/pdf"});if(!a||a.size===0)throw new Error("Failed to create blob from PDF data");console.log(`Blob created successfully: ${a.size} bytes`);const r=URL.createObjectURL(a),m=document.createElement("a");m.href=r,m.download=t,m.style.display="none",document.body.appendChild(m),setTimeout(()=>{m.click(),document.body.removeChild(m),URL.revokeObjectURL(r),console.log(`Download initiated successfully: ${t} (${a.size} bytes)`)},10)}catch(a){throw console.error("Error in downloadBlob:",a),a}}function Pi({file:s,pdfDocument:t,currentPage:a,onFieldsDetected:r,onSave:m,className:l}){const h=n.useRef(null),c=n.useRef(null),[o,x]=n.useState(null),[g,v]=n.useState(1),[N,S]=n.useState(0),[A,H]=n.useState([]),[_,O]=n.useState(!1),[W,k]=n.useState(1.5);n.useEffect(()=>{t?(x(t),S(t.numPages),v(a||1),d(t)):s&&V(s)},[s,t,a]),n.useEffect(()=>{o&&h.current&&i(o,g)},[o,g,W]);const Y=`fields-${W}-${g}`,V=async F=>{try{if(O(!0),F.size===0)throw new Error("PDF file is empty");const z=await F.arrayBuffer();if(z.byteLength===0)throw new Error("PDF file has no content");const C=await ts({data:new Uint8Array(z),verbosity:0}).promise;x(C),S(C.numPages),v(1),await i(C,1),await d(C)}catch(z){console.error("Error loading PDF:",z),x(null),S(0),H([])}finally{O(!1)}},i=async(F,z)=>{if(!h.current){console.log("Canvas ref not available");return}try{const C=await F.getPage(z),D=C.getViewport({scale:W}),R=h.current,P=R.getContext("2d");if(!P){console.log("Canvas context not available");return}R.height=D.height,R.width=D.width,await C.render({canvasContext:P,viewport:D}).promise,console.log(`Successfully rendered page ${z}`)}catch(C){console.error(`Error rendering page ${z}:`,C)}},d=async F=>{const z=[];for(let C=1;C<=F.numPages;C++){const D=await p(F,C);z.push(...D)}H(z),r(z)},p=async(F,z)=>(await(await F.getPage(z)).getAnnotations()).filter(P=>P.subtype==="Widget").map((P,K)=>({id:P.id||`field_${z}_${K}`,fieldName:P.fieldName||`field_${z}_${K}`,fieldType:P.fieldType,rect:P.rect,value:P.fieldValue||P.buttonValue||"",options:P.options||[],radioGroup:P.radioButton?P.fieldName:void 0,page:z,required:P.required||!1})),f=n.useCallback((F,z)=>{H(C=>C.map(R=>R.id===F?{...R,value:z}:R))},[]),y=n.useCallback((F,z)=>{H(C=>C.map(D=>D.radioGroup===F?{...D,value:D.id===z?"Yes":"Off"}:D))},[]),j=F=>{var q;if(F.page!==g)return null;const z=h.current;if(!z)return null;const[C,D,R,P]=F.rect,K=(R-C)*W,X=(P-D)*W,he=C*W,Z=z.height-P*W,ee={position:"absolute",left:he,top:Z,width:K,height:X,zIndex:10,fontSize:"14px",border:"2px solid #3b82f6",borderRadius:"3px",backgroundColor:"rgba(59, 130, 246, 0.1)",color:"#1e40af",fontWeight:"500"};switch(F.fieldType){case"Tx":const E=F.fieldName.toLowerCase().includes("date"),U=F.fieldName.toLowerCase().includes("email");return e.jsx("input",{type:E?"date":U?"email":"text",value:F.value,onChange:$=>f(F.id,$.target.value),placeholder:F.fieldName,required:F.required,style:{...ee,padding:"4px 6px",boxSizing:"border-box",backgroundColor:"rgba(255, 255, 255, 0.9)"}},F.id);case"Btn":return F.radioGroup?e.jsx("input",{type:"radio",name:F.radioGroup,checked:F.value==="Yes",onChange:()=>y(F.radioGroup,F.id),style:{...ee,width:Math.min(K,X),height:Math.min(K,X),accentColor:"#3b82f6",cursor:"pointer",margin:"0",transform:"scale(1.2)"}},F.id):e.jsx("input",{type:"checkbox",checked:F.value==="Yes"||F.value==="On",onChange:$=>f(F.id,$.target.checked?"Yes":"Off"),style:{...ee,width:Math.min(K,X),height:Math.min(K,X),accentColor:"#3b82f6",cursor:"pointer",margin:"0",transform:"scale(1.2)"}},F.id);case"Ch":return e.jsxs("select",{value:F.value,onChange:$=>f(F.id,$.target.value),required:F.required,style:{...ee,backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"2px"},children:[e.jsx("option",{value:"",children:"Select..."}),(q=F.options)==null?void 0:q.map(($,Q)=>e.jsx("option",{value:$,children:$},Q))]},F.id);case"Sig":return e.jsx("input",{type:"text",placeholder:"Signature",value:F.value,onChange:$=>f(F.id,$.target.value),required:F.required,style:{...ee,fontStyle:"italic",fontFamily:"cursive",borderBottom:"2px solid #000",borderTop:"none",borderLeft:"none",borderRight:"none",backgroundColor:"transparent",padding:"2px 4px"}},F.id);default:return null}},M=async F=>{o&&F>=1&&F<=N&&(v(F),await i(o,F))},B=(()=>{const F=A.length,z=A.filter(R=>R.value&&R.value.trim()!=="").length,C=A.filter(R=>R.required).length,D=A.filter(R=>R.required&&R.value&&R.value.trim()!=="").length;return{total:F,filled:z,required:C,requiredFilled:D}})();return!s&&!t?e.jsx("div",{className:`flex items-center justify-center h-64 border-2 border-dashed border-gray-300 rounded-lg ${l}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(We,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Upload a PDF to view fillable form fields"})]})}):e.jsxs("div",{className:`space-y-4 ${l}`,children:[A.length>0&&e.jsxs(de,{children:[e.jsx(Fe,{className:"pb-3",children:e.jsx(ke,{className:"text-lg",children:"Form Fields"})}),e.jsxs(ue,{children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Pe,{variant:"secondary",children:[B.filled,"/",B.total," fields filled"]}),B.required>0&&e.jsxs(Pe,{variant:B.requiredFilled===B.required?"default":"destructive",children:[B.requiredFilled,"/",B.required," required"]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsxs(I,{onClick:()=>m(A),disabled:_,size:"sm",children:[e.jsx(va,{className:"h-4 w-4 mr-2"}),"Save Form Data"]}),s&&e.jsxs(I,{onClick:()=>ki(s,A),disabled:_,size:"sm",variant:"outline",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Download Filled PDF"]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[N>1&&e.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>M(g-1),disabled:g<=1,children:"Previous"}),e.jsxs("span",{className:"text-sm",children:["Page ",g," of ",N]}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>M(g+1),disabled:g>=N,children:"Next"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>k(W*.8),disabled:W<=.5,children:"Zoom Out"}),e.jsxs("span",{className:"text-sm",children:[Math.round(W*100),"%"]}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>k(W*1.25),disabled:W>=3,children:"Zoom In"})]})]}),e.jsxs("div",{ref:c,className:"relative bg-white overflow-auto",style:{maxHeight:"70vh"},children:[_&&e.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading PDF..."})]})}),e.jsx("canvas",{ref:h,className:"block",style:{maxWidth:"100%",height:"auto"}}),e.jsx("div",{children:A.map(j)},Y)]})]}),!1]})}const cs=n.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(na,{ref:r,className:G("relative overflow-hidden",s),...a,children:[e.jsx(rr,{className:"h-full w-full rounded-[inherit]",children:t}),e.jsx($a,{}),e.jsx(ir,{})]}));cs.displayName=na.displayName;const $a=n.forwardRef(({className:s,orientation:t="vertical",...a},r)=>e.jsx(ra,{ref:r,orientation:t,className:G("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...a,children:e.jsx(or,{className:"relative flex-1 rounded-full bg-border"})}));$a.displayName=ra.displayName;const Wa=n.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:G("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...t}));Wa.displayName="Textarea";function Ei({pdfDocument:s,canvasRef:t,currentPage:a,onTextDetected:r,onTextBoxCreate:m}){const[l,h]=n.useState(!1),[c,o]=n.useState(0),[x,g]=n.useState([]),[v,N]=n.useState(""),[S,A]=n.useState("eng"),H=[{code:"eng",name:"English"},{code:"spa",name:"Spanish"},{code:"fra",name:"French"},{code:"deu",name:"German"},{code:"chi_sim",name:"Chinese (Simplified)"},{code:"jpn",name:"Japanese"},{code:"kor",name:"Korean"},{code:"rus",name:"Russian"},{code:"ara",name:"Arabic"},{code:"por",name:"Portuguese"}],_=n.useCallback(async()=>{if(s){h(!0),o(0);try{const d=await(await s.getPage(a)).getTextContent();let p="";const f=[];d.items.forEach((y,j)=>{y.str&&y.str.trim()&&(p+=y.str+" ",f.push({id:`pdf-text-${j}`,text:y.str,confidence:100,boundingBox:{x0:y.transform[4],y0:y.transform[5],x1:y.transform[4]+y.width,y1:y.transform[5]+y.height},page:a}))}),N(p.trim()),g(f),r==null||r(f),o(100)}catch(i){console.error("PDF text extraction error:",i)}finally{h(!1)}}},[s,a,r]),O=n.useCallback(async()=>{if(t.current){h(!0),o(0);try{const d=t.current.toDataURL("image/png"),p=await ot.createWorker(S);await p.setParameters({PSM:ot.PSM.SINGLE_BLOCK,tessedit_char_whitelist:`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz .,!?-()[]{}:;"'`});const{data:f}=await p.recognize(d,{logger:M=>{M.status==="recognizing text"&&o(Math.round(M.progress*100))}}),j=(f.words||[]).filter(M=>M.text.trim()&&M.confidence>30).map((M,b)=>({id:`ocr-${b}`,text:M.text,confidence:M.confidence,boundingBox:M.boundingBox,page:a}));N(f.text),g(j),r==null||r(j),await p.terminate()}catch(i){console.error("OCR processing error:",i)}finally{h(!1),o(0)}}},[t,a,S,r]),W=n.useCallback(()=>{navigator.clipboard.writeText(v)},[v]),k=n.useCallback(()=>{const i=new Blob([v],{type:"text/plain"}),d=URL.createObjectURL(i),p=document.createElement("a");p.href=d,p.download=`extracted-text-page-${a}.txt`,p.click(),URL.revokeObjectURL(d)},[v,a]),Y=n.useCallback(i=>{m&&m(i.boundingBox.x0,i.boundingBox.y0,i.text)},[m]),V=n.useCallback(i=>{if(!t.current)return;const p=t.current.getContext("2d");p&&(p.save(),p.fillStyle="rgba(255, 255, 0, 0.3)",p.fillRect(i.boundingBox.x0,i.boundingBox.y0,i.boundingBox.x1-i.boundingBox.x0,i.boundingBox.y1-i.boundingBox.y0),p.restore())},[t]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(de,{children:[e.jsx(Fe,{children:e.jsxs(ke,{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"h-5 w-5"}),"Text Recognition"]})}),e.jsxs(ue,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(I,{onClick:_,disabled:l||!s,size:"sm",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"Extract PDF Text"]}),e.jsxs(I,{onClick:O,disabled:l||!t.current,size:"sm",variant:"outline",children:[e.jsx(ma,{className:"h-4 w-4 mr-1"}),"OCR Scan"]}),e.jsx("select",{value:S,onChange:i=>A(i.target.value),className:"px-3 py-1 border rounded text-sm",disabled:l,children:H.map(i=>e.jsx("option",{value:i.code,children:i.name},i.code))}),x.length>0&&e.jsxs(Pe,{variant:"secondary",children:[x.length," text regions found"]})]}),l&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ls,{value:c,className:"w-full"}),e.jsx("p",{className:"text-sm text-gray-500",children:c>0?`Processing: ${c}%`:"Initializing..."})]})]})]}),v&&e.jsxs(de,{children:[e.jsx(Fe,{children:e.jsxs(ke,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Extracted Text"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{size:"sm",variant:"outline",onClick:W,children:[e.jsx(yr,{className:"h-4 w-4 mr-1"}),"Copy"]}),e.jsxs(I,{size:"sm",variant:"outline",onClick:k,children:[e.jsx(De,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})}),e.jsx(ue,{children:e.jsx(Wa,{value:v,onChange:i=>N(i.target.value),className:"min-h-32 font-mono text-sm",placeholder:"Extracted text will appear here..."})})]}),x.length>0&&e.jsxs(de,{children:[e.jsx(Fe,{children:e.jsx(ke,{children:"Detected Text Regions"})}),e.jsx(ue,{children:e.jsx(cs,{className:"h-48",children:e.jsx("div",{className:"space-y-2",children:x.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:i.text}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Confidence: ",Math.round(i.confidence),"%"]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{size:"sm",variant:"outline",onClick:()=>V(i),children:"Highlight"}),m&&e.jsx(I,{size:"sm",onClick:()=>Y(i),children:"Add Box"})]})]},i.id))})})})]})]})}function Ri({eraserSize:s,setEraserSize:t,onErase:a,currentTool:r,currentPage:m,canvasRef:l}){const[h,c]=n.useState({x:0,y:0}),[o,x]=n.useState(!1),g=A=>{var W;if(r!=="eraser")return;const H=(W=l.current)==null?void 0:W.getBoundingClientRect();if(!H)return;const _=A.clientX-H.left,O=A.clientY-H.top;c({x:_,y:O}),x(!0),a(_,O,s)},v=A=>{var W;const H=(W=l.current)==null?void 0:W.getBoundingClientRect();if(!H)return;const _=A.clientX-H.left,O=A.clientY-H.top;c({x:_,y:O}),o&&r==="eraser"&&a(_,O,s)},N=()=>{x(!1)},S=()=>{x(!1)};return r!=="eraser"?null:e.jsx("div",{className:"eraser-layer absolute inset-0 z-30",onMouseDown:g,onMouseMove:v,onMouseUp:N,onMouseLeave:S,style:{cursor:"none",pointerEvents:r==="eraser"?"auto":"none"},children:e.jsx("div",{className:"eraser-cursor absolute rounded-full border-2 border-black bg-white bg-opacity-50 pointer-events-none",style:{left:`${h.x-s/2}px`,top:`${h.y-s/2}px`,width:`${s}px`,height:`${s}px`}})})}const Wt={name:"Arial",family:"Arial, Helvetica, sans-serif",style:"normal",weight:"400",loaded:!0,size:12,variants:["normal","bold","italic","bolditalic"]},le=n.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...r},m)=>e.jsx(ia,{ref:m,decorative:a,orientation:t,className:G("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));le.displayName=ia.displayName;const Ze=cr,Qe=dr,ze=n.forwardRef(({className:s,align:t="center",sideOffset:a=4,...r},m)=>e.jsx(lr,{children:e.jsx(oa,{ref:m,align:t,sideOffset:a,className:G("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...r})}));ze.displayName=oa.displayName;const Ti=({currentTool:s,setCurrentTool:t,zoom:a,onUndo:r,onRedo:m,canUndo:l,canRedo:h,setZoom:c,onZoomIn:o,onZoomOut:x,onFontChange:g,fontList:v,selectedFont:N,rotation:S,highlightColor:A,onHighlightColorChange:H,onAnnotationColorChange:_,lineColor:O,lineStrokeWidth:W,onLineColorChange:k,onLineStrokeWidthChange:Y,setRotation:V,currentPage:i,totalPages:d,setCurrentPage:p,fileInputRef:f,handleFileUpload:y,savePDF:j,annotationColor:M,setAnnotationColor:b,fileName:B,onDownload:F,isLoading:z,whiteoutMode:C,onWhiteoutToggle:D,signatureName:R,signatureFont:P,setSignatureName:K,setSignatureFont:X,setShowSignatureDialog:he})=>{const[Z,ee]=Ue.useState(!1),[q,E]=Ue.useState(!1),[U,$]=Ue.useState(!1),[Q,ie]=Ue.useState(!1),oe=L=>{var we;const ne=(we=L.target.files)==null?void 0:we[0];ne&&y(ne)},se=()=>{c(L=>Math.min(L+10,200)),o()},Ie=()=>{c(L=>Math.max(L-10,50)),x()},ye=()=>{V(L=>(L+90)%360)},te=()=>{p(L=>L>1?L-1:L)},je=()=>{p(L=>L<d?L+1:L)},mt=L=>{t(L)},be=L=>{const ne=v.find(we=>we.name===L);ne&&g(ne)},ve=L=>{switch(L){case"select":return e.jsx(Vt,{className:"h-4 w-4"});case"text":return e.jsx(Yt,{className:"h-4 w-4"});case"highlight":return e.jsx(Ht,{className:"h-4 w-4"});case"rectangle":return e.jsx(et,{className:"h-4 w-4"});case"circle":return e.jsx(xa,{className:"h-4 w-4"});case"freeform":return e.jsx(it,{className:"h-4 w-4"});case"signature":return e.jsx(fa,{className:"h-4 w-4"});case"eraser":return e.jsx(ga,{className:"h-4 w-4"});case"form":return e.jsx(Nr,{className:"h-4 w-4"});case"image":return e.jsx(wr,{className:"h-4 w-4"});case"checkmark":return e.jsx(vr,{className:"h-4 w-4"});case"x-mark":return e.jsx(Jt,{className:"h-4 w-4"});case"line":return e.jsx(Rs,{className:"h-4 w-4"});case"ocr":return e.jsx(We,{className:"h-4 w-4"});case"whiteout":return e.jsx(et,{className:"h-4 w-4"});case"inlineEdit":return e.jsx(it,{className:"h-4 w-4"});default:return e.jsx(Vt,{className:"h-4 w-4"})}},xt=L=>{switch(L){case"select":return"Select";case"text":return"Text";case"highlight":return"Highlight";case"rectangle":return"Rectangle";case"circle":return"Circle";case"freeform":return"Freeform";case"signature":return"Signature";case"eraser":return"Eraser";case"form":return"Form";case"image":return"Image";case"checkmark":return"Checkmark";case"x-mark":return"X Mark";case"line":return"Line";case"ocr":return"OCR";case"whiteout":return"Whiteout";case"inlineEdit":return"Inline Edit";default:return"Select"}};return e.jsx("div",{className:"w-full flex justify-center",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm w-full",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{ref:f,type:"file",accept:".pdf",onChange:oe,className:"hidden"}),e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{var L;return(L=f.current)==null?void 0:L.click()},disabled:z,children:[e.jsx(jr,{className:"h-4 w-4 mr-1"}),"Upload"]}),e.jsxs(I,{variant:"outline",size:"sm",onClick:j,disabled:z,children:[e.jsx(va,{className:"h-4 w-4 mr-1"}),"Save"]}),e.jsxs(I,{variant:"outline",size:"sm",onClick:F,disabled:z||!B,children:[e.jsx(De,{className:"h-4 w-4 mr-1"}),"Download"]})]}),e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:r,disabled:!l,title:"Undo",children:e.jsx(ya,{className:"h-4 w-4"})}),e.jsx(I,{variant:"outline",size:"sm",onClick:m,disabled:!h,title:"Redo",children:e.jsx(ja,{className:"h-4 w-4"})})]}),e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsx("div",{className:"flex items-center gap-1",children:["select","text","highlight","rectangle","circle","freeform","signature","eraser"].map(L=>e.jsx(I,{variant:s===L?"default":"outline",size:"sm",onClick:()=>mt(L),title:xt(L),children:ve(L)},L))}),e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsx("div",{className:"flex items-center gap-1",children:["form","image","checkmark","x-mark","line","ocr","whiteout"].map(L=>e.jsx(I,{variant:s===L?"default":"outline",size:"sm",onClick:()=>mt(L),title:xt(L),children:ve(L)},L))}),e.jsx(le,{orientation:"vertical",className:"h-6"}),(s==="text"||s==="signature")&&e.jsxs(e.Fragment,{children:[e.jsxs(Ze,{open:Q,onOpenChange:ie,children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(Yt,{className:"h-4 w-4 mr-1"}),N.name]})}),e.jsx(ze,{className:"w-64",children:e.jsx("div",{className:"space-y-2",children:e.jsxs(qt,{value:N.name,onValueChange:be,children:[e.jsx(dt,{children:e.jsx(Gt,{placeholder:"Select font"})}),e.jsx(ut,{children:v.map(L=>e.jsx(Se,{value:L.name,children:e.jsx("span",{style:{fontFamily:L.family},children:L.name})},L.name))})]})})})]}),e.jsx(le,{orientation:"vertical",className:"h-6"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(Ze,{open:Z,onOpenChange:ee,children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(I,{variant:"outline",size:"sm",title:"Annotation Color",children:[e.jsx(pa,{className:"h-4 w-4 mr-1"}),e.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:M}})]})}),e.jsx(ze,{className:"w-auto p-0",children:e.jsx(Mt,{color:M,onChange:L=>{b(L.hex),_(L.hex)}})})]}),s==="highlight"&&e.jsxs(Ze,{open:q,onOpenChange:E,children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(I,{variant:"outline",size:"sm",title:"Highlight Color",children:[e.jsx(Ht,{className:"h-4 w-4 mr-1"}),e.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:A}})]})}),e.jsx(ze,{className:"w-auto p-0",children:e.jsx(Mt,{color:A,onChange:L=>H(L.hex)})})]}),s==="line"&&e.jsxs(e.Fragment,{children:[e.jsxs(Ze,{open:U,onOpenChange:$,children:[e.jsx(Qe,{asChild:!0,children:e.jsxs(I,{variant:"outline",size:"sm",title:"Line Color",children:[e.jsx(Rs,{className:"h-4 w-4 mr-1"}),e.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:O}})]})}),e.jsx(ze,{className:"w-auto p-0",children:e.jsx(Mt,{color:O,onChange:L=>k(L.hex)})})]}),e.jsxs("div",{className:"flex items-center gap-2 px-2",children:[e.jsx("span",{className:"text-xs",children:"Width:"}),e.jsx(ct,{value:[W],onValueChange:L=>Y(L[0]),max:10,min:1,step:1,className:"w-16"}),e.jsxs("span",{className:"text-xs w-6",children:[W,"px"]})]})]})]}),e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsxs(I,{variant:C?"default":"outline",size:"sm",onClick:D,title:"Toggle Whiteout Mode",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),"Whiteout"]}),e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:te,disabled:i<=1,title:"Previous Page",children:e.jsx(Qt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ce,{type:"number",value:i,onChange:L=>{const ne=parseInt(L.target.value);ne>=1&&ne<=d&&p(ne)},className:"w-16 text-center",min:1,max:d}),e.jsxs("span",{className:"text-sm text-gray-500",children:["/ ",d]})]}),e.jsx(I,{variant:"outline",size:"sm",onClick:je,disabled:i>=d,title:"Next Page",children:e.jsx(es,{className:"h-4 w-4"})})]}),e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:Ie,disabled:a<=50,title:"Zoom Out",children:e.jsx(wa,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ce,{type:"number",value:a,onChange:L=>{const ne=parseInt(L.target.value);ne>=50&&ne<=200&&c(ne)},className:"w-16 text-center",min:50,max:200}),e.jsx("span",{className:"text-sm text-gray-500",children:"%"})]}),e.jsx(I,{variant:"outline",size:"sm",onClick:se,disabled:a>=200,title:"Zoom In",children:e.jsx(Na,{className:"h-4 w-4"})})]}),e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsx(I,{variant:"outline",size:"sm",onClick:ye,title:`Rotate (${S}°)`,children:e.jsx(br,{className:"h-4 w-4"})}),s==="signature"&&e.jsxs(e.Fragment,{children:[e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{placeholder:"Signature name",value:R,onChange:L=>K(L.target.value),className:"w-32"}),e.jsxs(qt,{value:P,onValueChange:X,children:[e.jsx(dt,{className:"w-32",children:e.jsx(Gt,{placeholder:"Font"})}),e.jsxs(ut,{children:[e.jsx(Se,{value:"Dancing Script",children:"Dancing Script"}),e.jsx(Se,{value:"Great Vibes",children:"Great Vibes"}),e.jsx(Se,{value:"Allura",children:"Allura"}),e.jsx(Se,{value:"Alex Brush",children:"Alex Brush"})]})]}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>he(!0),children:"Create Signature"})]})]}),B&&e.jsxs(e.Fragment,{children:[e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{className:"max-w-32 truncate",title:B,children:B})]})]}),z&&e.jsxs(e.Fragment,{children:[e.jsx(le,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("span",{children:"Processing..."})]})]})]})})},Ai=ur,_a=n.forwardRef(({className:s,...t},a)=>e.jsx(la,{ref:a,className:G("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));_a.displayName=la.displayName;const nt=n.forwardRef(({className:s,...t},a)=>e.jsx(ca,{ref:a,className:G("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));nt.displayName=ca.displayName;const rt=n.forwardRef(({className:s,...t},a)=>e.jsx(da,{ref:a,className:G("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));rt.displayName=da.displayName;function Di(s){const{annotations:t,textBoxes:a,whiteoutBlocks:r,textElements:m,onSelectAnnotation:l,onDeleteAnnotation:h,onSelectTextBox:c,onDeleteTextBox:o,onSelectWhiteoutBlock:x,onDeleteWhiteoutBlock:g,pdfDocument:v,currentPage:N,setCurrentPage:S,totalPages:A,fileName:H}=s,[_,O]=n.useState([]),[W,k]=n.useState("pages"),[Y,V]=n.useState(!1);return n.useEffect(()=>{if(!v){O([]);return}(async()=>{V(!0);try{const d=[];for(let p=1;p<=A;p++){const f=await v.getPage(p),y=f.getViewport({scale:.2}),j=document.createElement("canvas"),M=j.getContext("2d");M&&(j.height=y.height,j.width=y.width,await f.render({canvasContext:M,viewport:y}).promise,d.push(j.toDataURL()))}O(d)}catch(d){console.error("Error generating thumbnails:",d)}finally{V(!1)}})()},[v,A]),e.jsx("div",{className:"w-64 border-r bg-white dark:bg-gray-900 flex flex-col",children:e.jsxs(Ai,{value:W,onValueChange:k,className:"flex-1 flex flex-col",children:[e.jsxs(_a,{className:"grid grid-cols-3",children:[e.jsxs(nt,{value:"pages",children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"Pages"]}),e.jsxs(nt,{value:"layers",children:[e.jsx(Sr,{className:"h-4 w-4 mr-1"}),"Layers"]}),e.jsxs(nt,{value:"properties",children:[e.jsx(Cr,{className:"h-4 w-4 mr-1"}),"Props"]})]}),e.jsxs(rt,{value:"pages",className:"flex-1 flex flex-col p-0",children:[e.jsxs("div",{className:"p-2 border-b flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Page ",N," of ",A]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{size:"icon",variant:"ghost",onClick:()=>S(Math.max(1,N-1)),disabled:N<=1,children:e.jsx(Qt,{className:"h-4 w-4"})}),e.jsx(I,{size:"icon",variant:"ghost",onClick:()=>S(Math.min(A,N+1)),disabled:N>=A,children:e.jsx(es,{className:"h-4 w-4"})})]})]}),e.jsx(cs,{className:"flex-1",children:Y?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsx("div",{className:"p-2 space-y-2",children:_.map((i,d)=>e.jsx("div",{className:`border rounded p-1 cursor-pointer transition-all ${N===d+1?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,onClick:()=>S(d+1),children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:i,alt:`Page ${d+1}`,className:"w-full"}),e.jsx("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-xs px-1 rounded-tl",children:d+1})]})},d))})})]}),e.jsx(rt,{value:"layers",className:"flex-1",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Document Layers"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"layer-text",className:"mr-2",defaultChecked:!0}),e.jsx("label",{htmlFor:"layer-text",children:"Text Elements"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"layer-annotations",className:"mr-2",defaultChecked:!0}),e.jsx("label",{htmlFor:"layer-annotations",children:"Annotations"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"layer-whiteout",className:"mr-2",defaultChecked:!0}),e.jsx("label",{htmlFor:"layer-whiteout",children:"Whiteout"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"layer-base",className:"mr-2",defaultChecked:!0}),e.jsx("label",{htmlFor:"layer-base",children:"Base Document"})]})]})]})}),e.jsx(rt,{value:"properties",className:"flex-1",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Document Properties"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Filename:"})," ",H]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Pages:"})," ",A]})]})]})})]})})}var Va={exports:{}};const Ii={},Mi=Object.freeze(Object.defineProperty({__proto__:null,default:Ii},Symbol.toStringTag,{value:"Module"})),Os=Tr(Mi);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2025
 * @license MIT
 */(function(s){(function(){var t="input is invalid type",a=typeof window=="object",r=a?window:{};r.JS_SHA256_NO_WINDOW&&(a=!1);var m=!a&&typeof self=="object",l=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node&&process.type!="renderer";l?r=Ar:m&&(r=self);var h=!r.JS_SHA256_NO_COMMON_JS&&!0&&s.exports,c=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",o="0123456789abcdef".split(""),x=[-2147483648,8388608,32768,128],g=[24,16,8,0],v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],N=["hex","array","digest","arrayBuffer"],S=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"}),c&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(i){return typeof i=="object"&&i.buffer&&i.buffer.constructor===ArrayBuffer});var A=function(i,d){return function(p){return new k(d,!0).update(p)[i]()}},H=function(i){var d=A("hex",i);l&&(d=_(d,i)),d.create=function(){return new k(i)},d.update=function(y){return d.create().update(y)};for(var p=0;p<N.length;++p){var f=N[p];d[f]=A(f,i)}return d},_=function(i,d){var p=Os,f=Os.Buffer,y=d?"sha224":"sha256",j;f.from&&!r.JS_SHA256_NO_BUFFER_FROM?j=f.from:j=function(b){return new f(b)};var M=function(b){if(typeof b=="string")return p.createHash(y).update(b,"utf8").digest("hex");if(b==null)throw new Error(t);return b.constructor===ArrayBuffer&&(b=new Uint8Array(b)),Array.isArray(b)||ArrayBuffer.isView(b)||b.constructor===f?p.createHash(y).update(j(b)).digest("hex"):i(b)};return M},O=function(i,d){return function(p,f){return new Y(p,d,!0).update(f)[i]()}},W=function(i){var d=O("hex",i);d.create=function(y){return new Y(y,i)},d.update=function(y,j){return d.create(y).update(j)};for(var p=0;p<N.length;++p){var f=N[p];d[f]=O(f,i)}return d};function k(i,d){d?(S[0]=S[16]=S[1]=S[2]=S[3]=S[4]=S[5]=S[6]=S[7]=S[8]=S[9]=S[10]=S[11]=S[12]=S[13]=S[14]=S[15]=0,this.blocks=S):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=i}k.prototype.update=function(i){if(!this.finalized){var d,p=typeof i;if(p!=="string"){if(p==="object"){if(i===null)throw new Error(t);if(c&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!Array.isArray(i)&&(!c||!ArrayBuffer.isView(i)))throw new Error(t)}else throw new Error(t);d=!0}for(var f,y=0,j,M=i.length,b=this.blocks;y<M;){if(this.hashed&&(this.hashed=!1,b[0]=this.block,this.block=b[16]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=b[10]=b[11]=b[12]=b[13]=b[14]=b[15]=0),d)for(j=this.start;y<M&&j<64;++y)b[j>>>2]|=i[y]<<g[j++&3];else for(j=this.start;y<M&&j<64;++y)f=i.charCodeAt(y),f<128?b[j>>>2]|=f<<g[j++&3]:f<2048?(b[j>>>2]|=(192|f>>>6)<<g[j++&3],b[j>>>2]|=(128|f&63)<<g[j++&3]):f<55296||f>=57344?(b[j>>>2]|=(224|f>>>12)<<g[j++&3],b[j>>>2]|=(128|f>>>6&63)<<g[j++&3],b[j>>>2]|=(128|f&63)<<g[j++&3]):(f=65536+((f&1023)<<10|i.charCodeAt(++y)&1023),b[j>>>2]|=(240|f>>>18)<<g[j++&3],b[j>>>2]|=(128|f>>>12&63)<<g[j++&3],b[j>>>2]|=(128|f>>>6&63)<<g[j++&3],b[j>>>2]|=(128|f&63)<<g[j++&3]);this.lastByteIndex=j,this.bytes+=j-this.start,j>=64?(this.block=b[16],this.start=j-64,this.hash(),this.hashed=!0):this.start=j}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var i=this.blocks,d=this.lastByteIndex;i[16]=this.block,i[d>>>2]|=x[d&3],this.block=i[16],d>=56&&(this.hashed||this.hash(),i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),i[14]=this.hBytes<<3|this.bytes>>>29,i[15]=this.bytes<<3,this.hash()}},k.prototype.hash=function(){var i=this.h0,d=this.h1,p=this.h2,f=this.h3,y=this.h4,j=this.h5,M=this.h6,b=this.h7,B=this.blocks,F,z,C,D,R,P,K,X,he,Z,ee;for(F=16;F<64;++F)R=B[F-15],z=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,R=B[F-2],C=(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10,B[F]=B[F-16]+z+B[F-7]+C<<0;for(ee=d&p,F=0;F<64;F+=4)this.first?(this.is224?(X=300032,R=B[0]-1413257819,b=R-150054599<<0,f=R+24177077<<0):(X=704751109,R=B[0]-210244248,b=R-1521486534<<0,f=R+143694565<<0),this.first=!1):(z=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),C=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),X=i&d,D=X^i&p^ee,K=y&j^~y&M,R=b+C+K+v[F]+B[F],P=z+D,b=f+R<<0,f=R+P<<0),z=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),C=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),he=f&i,D=he^f&d^X,K=b&y^~b&j,R=M+C+K+v[F+1]+B[F+1],P=z+D,M=p+R<<0,p=R+P<<0,z=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),C=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),Z=p&f,D=Z^p&i^he,K=M&b^~M&y,R=j+C+K+v[F+2]+B[F+2],P=z+D,j=d+R<<0,d=R+P<<0,z=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),C=(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7),ee=d&p,D=ee^d&f^Z,K=j&M^~j&b,R=y+C+K+v[F+3]+B[F+3],P=z+D,y=i+R<<0,i=R+P<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+i<<0,this.h1=this.h1+d<<0,this.h2=this.h2+p<<0,this.h3=this.h3+f<<0,this.h4=this.h4+y<<0,this.h5=this.h5+j<<0,this.h6=this.h6+M<<0,this.h7=this.h7+b<<0},k.prototype.hex=function(){this.finalize();var i=this.h0,d=this.h1,p=this.h2,f=this.h3,y=this.h4,j=this.h5,M=this.h6,b=this.h7,B=o[i>>>28&15]+o[i>>>24&15]+o[i>>>20&15]+o[i>>>16&15]+o[i>>>12&15]+o[i>>>8&15]+o[i>>>4&15]+o[i&15]+o[d>>>28&15]+o[d>>>24&15]+o[d>>>20&15]+o[d>>>16&15]+o[d>>>12&15]+o[d>>>8&15]+o[d>>>4&15]+o[d&15]+o[p>>>28&15]+o[p>>>24&15]+o[p>>>20&15]+o[p>>>16&15]+o[p>>>12&15]+o[p>>>8&15]+o[p>>>4&15]+o[p&15]+o[f>>>28&15]+o[f>>>24&15]+o[f>>>20&15]+o[f>>>16&15]+o[f>>>12&15]+o[f>>>8&15]+o[f>>>4&15]+o[f&15]+o[y>>>28&15]+o[y>>>24&15]+o[y>>>20&15]+o[y>>>16&15]+o[y>>>12&15]+o[y>>>8&15]+o[y>>>4&15]+o[y&15]+o[j>>>28&15]+o[j>>>24&15]+o[j>>>20&15]+o[j>>>16&15]+o[j>>>12&15]+o[j>>>8&15]+o[j>>>4&15]+o[j&15]+o[M>>>28&15]+o[M>>>24&15]+o[M>>>20&15]+o[M>>>16&15]+o[M>>>12&15]+o[M>>>8&15]+o[M>>>4&15]+o[M&15];return this.is224||(B+=o[b>>>28&15]+o[b>>>24&15]+o[b>>>20&15]+o[b>>>16&15]+o[b>>>12&15]+o[b>>>8&15]+o[b>>>4&15]+o[b&15]),B},k.prototype.toString=k.prototype.hex,k.prototype.digest=function(){this.finalize();var i=this.h0,d=this.h1,p=this.h2,f=this.h3,y=this.h4,j=this.h5,M=this.h6,b=this.h7,B=[i>>>24&255,i>>>16&255,i>>>8&255,i&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,j>>>24&255,j>>>16&255,j>>>8&255,j&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255];return this.is224||B.push(b>>>24&255,b>>>16&255,b>>>8&255,b&255),B},k.prototype.array=k.prototype.digest,k.prototype.arrayBuffer=function(){this.finalize();var i=new ArrayBuffer(this.is224?28:32),d=new DataView(i);return d.setUint32(0,this.h0),d.setUint32(4,this.h1),d.setUint32(8,this.h2),d.setUint32(12,this.h3),d.setUint32(16,this.h4),d.setUint32(20,this.h5),d.setUint32(24,this.h6),this.is224||d.setUint32(28,this.h7),i};function Y(i,d,p){var f,y=typeof i;if(y==="string"){var j=[],M=i.length,b=0,B;for(f=0;f<M;++f)B=i.charCodeAt(f),B<128?j[b++]=B:B<2048?(j[b++]=192|B>>>6,j[b++]=128|B&63):B<55296||B>=57344?(j[b++]=224|B>>>12,j[b++]=128|B>>>6&63,j[b++]=128|B&63):(B=65536+((B&1023)<<10|i.charCodeAt(++f)&1023),j[b++]=240|B>>>18,j[b++]=128|B>>>12&63,j[b++]=128|B>>>6&63,j[b++]=128|B&63);i=j}else if(y==="object"){if(i===null)throw new Error(t);if(c&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!Array.isArray(i)&&(!c||!ArrayBuffer.isView(i)))throw new Error(t)}else throw new Error(t);i.length>64&&(i=new k(d,!0).update(i).array());var F=[],z=[];for(f=0;f<64;++f){var C=i[f]||0;F[f]=92^C,z[f]=54^C}k.call(this,d,p),this.update(z),this.oKeyPad=F,this.inner=!0,this.sharedMemory=p}Y.prototype=new k,Y.prototype.finalize=function(){if(k.prototype.finalize.call(this),this.inner){this.inner=!1;var i=this.array();k.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(i),k.prototype.finalize.call(this)}};var V=H();V.sha256=V,V.sha224=H(!0),V.sha256.hmac=W(),V.sha224.hmac=W(!0),h?s.exports=V:(r.sha256=V.sha256,r.sha224=V.sha224)})()})(Va);var Oi=Va.exports;class Te{static getInstance(){return Te.instance||(Te.instance=new Te),Te.instance}generateSignatureHash(t){return Oi.sha256(t)}createSignatureData(t){return{dataUrl:t,hash:this.generateSignatureHash(t)}}validateSignature(t){return!t.dataUrl||!t.hash?!1:this.generateSignatureHash(t.dataUrl)===t.hash}createSignaturePlacement(t,a,r,m=150,l=75,h=1){return{x:t,y:a,width:m,height:l,src:r,page:h}}resizeSignature(t,a,r){const m=document.createElement("canvas"),l=m.getContext("2d");if(!l)throw new Error("Could not get canvas context");return m.width=a,m.height=r,l.drawImage(t,0,0,a,r),m.toDataURL("image/png")}trimSignatureCanvas(t){const a=t.getContext("2d");if(!a)throw new Error("Could not get canvas context");const m=a.getImageData(0,0,t.width,t.height).data;let l=t.width,h=0,c=t.height,o=0;for(let S=0;S<t.height;S++)for(let A=0;A<t.width;A++)m[(S*t.width+A)*4+3]>0&&(l=Math.min(l,A),h=Math.max(h,A),c=Math.min(c,S),o=Math.max(o,S));const x=document.createElement("canvas"),g=x.getContext("2d");if(!g)throw new Error("Could not get trimmed canvas context");const v=h-l+1,N=o-c+1;return x.width=v,x.height=N,g.drawImage(t,l,c,v,N,0,0,v,N),x.toDataURL("image/png")}}const ds=Te.getInstance(),Li=({onSave:s,onComplete:t,onSigned:a,onClose:r,showCancel:m=!1,width:l=400,height:h=200})=>{const c=n.useRef(null),o=n.useCallback(()=>{var g;(g=c.current)==null||g.clear()},[]),x=n.useCallback(()=>{if(!c.current||c.current.isEmpty())return;const g=c.current.getTrimmedCanvas().toDataURL("image/png"),v=ds.createSignatureData(g);s==null||s(g),t==null||t(g),a==null||a(v),o()},[s,t,a,o]);return e.jsxs("div",{className:"border-2 border-dashed border-gray-400 rounded-lg p-4 bg-white max-w-full mx-auto",children:[e.jsx(zn,{ref:c,penColor:"black",backgroundColor:"#f8f9fa",canvasProps:{width:l,height:h,className:"border rounded bg-gray-100"}}),e.jsxs("div",{className:"mt-4 flex justify-center gap-4 flex-wrap",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 font-bold border-none rounded bg-indigo-600 text-white hover:bg-indigo-700 cursor-pointer",children:"Clear"}),e.jsx("button",{onClick:x,className:"px-4 py-2 font-bold border-none rounded bg-indigo-600 text-white hover:bg-indigo-700 cursor-pointer",children:"Save"}),m&&e.jsx("button",{onClick:r,className:"px-4 py-2 font-bold border-none rounded bg-gray-600 text-white hover:bg-gray-700 cursor-pointer",children:"Cancel"})]})]})},Bi=({signatureDataUrl:s,onPlace:t,currentPage:a=1})=>{const[r,m]=n.useState([]),l=n.useCallback(h=>{if(!s)return;const c=h.currentTarget.getBoundingClientRect(),o=h.clientX-c.left,x=h.clientY-c.top,g=ds.createSignaturePlacement(o,x,s,150,75,a);m(v=>[...v,g]),t==null||t(g)},[s,t,a]);return e.jsx("div",{className:"relative w-full h-full border-2 border-dashed border-gray-400 bg-gray-50 min-h-48 cursor-crosshair",onClick:l,children:r.map((h,c)=>e.jsx("img",{src:h.src,alt:"Signature",className:"absolute pointer-events-none",style:{left:h.x,top:h.y,width:h.width,height:h.height}},c))})},Ui=s=>{const[t,a]=n.useState(void 0),[r,m]=n.useState(!1),l=n.useCallback(o=>{var g,v,N;a(o);const x=ds.createSignatureData(o);(g=s.onSave)==null||g.call(s,o),(v=s.onComplete)==null||v.call(s,o),(N=s.onSigned)==null||N.call(s,x),m(!0)},[s]),h=n.useCallback(o=>{var x;(x=s.onPlace)==null||x.call(s,o)},[s]),c=n.useCallback(()=>{var o;a(void 0),m(!1),(o=s.onClose)==null||o.call(s)},[s]);return e.jsxs("div",{className:"space-y-4",children:[!r&&e.jsx(Li,{onSave:l,onComplete:s.onComplete,onSigned:s.onSigned,onClose:c,showCancel:!!s.onClose,width:500,height:200}),r&&t&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Click anywhere on the document below to place your signature:"}),e.jsx(Bi,{signatureDataUrl:t,onPlace:h}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:c,className:"px-4 py-2 font-bold border-none rounded bg-indigo-600 text-white hover:bg-indigo-700 cursor-pointer",children:"Done"})})]})]})},zi=[{code:"eng",name:"English"},{code:"spa",name:"Spanish"},{code:"fra",name:"French"},{code:"deu",name:"German"},{code:"chi_sim",name:"Chinese (Simplified)"},{code:"jpn",name:"Japanese"},{code:"kor",name:"Korean"},{code:"rus",name:"Russian"},{code:"ara",name:"Arabic"},{code:"por",name:"Portuguese"}];class Ae{static getInstance(){return Ae.instance||(Ae.instance=new Ae),Ae.instance}async performOCR(t,a="eng",r=1,m=1,l){try{const h=await ot.createWorker(a);await h.setParameters({tessedit_pageseg_mode:ot.PSM.SINGLE_BLOCK,tessedit_char_whitelist:`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz .,!?-()[]{}:;"'`});const c=await h.recognize(t,{logger:x=>{x.status==="recognizing text"&&l&&l(Math.round(((r-1)/m+x.progress/m)*100))}}),o=Array.isArray(c.words)?c.words.filter(x=>x.text&&x.text.trim()&&x.confidence>30).map((x,g)=>({id:`ocr-${r}-${g}`,text:x.text,confidence:x.confidence,boundingBox:x.boundingBox,page:r})):[];return await h.terminate(),{ocrText:c.text||"",ocrResults:o}}catch(h){throw new Error("OCR failed: "+((h==null?void 0:h.message)||h))}}async performPDFOCR(t,a="eng",r){try{const m=await t.arrayBuffer(),l=await ts({data:m}).promise;let h=[];const c=[];let o;for(let x=1;x<=l.numPages;x++){r&&r(Math.round((x-1)/l.numPages*100));const g=await l.getPage(x),v=g.getViewport({scale:2}),N=document.createElement("canvas"),S=N.getContext("2d");N.width=v.width,N.height=v.height,await g.render({canvasContext:S,viewport:v}).promise;const A=N.toDataURL("image/png");x===1&&(o=A);const{ocrText:H,ocrResults:_}=await this.performOCR(A,a,x,l.numPages,r);c.push(H),h=h.concat(_)}return{ocrText:c.join(`

`),ocrResults:h,previewUrl:o}}catch(m){throw new Error("Failed to extract text from PDF: "+((m==null?void 0:m.message)||m))}}async extractPDFText(t,a){try{const m=await(await t.getPage(a)).getTextContent();let l="";const h=[];return(m.items||[]).forEach((c,o)=>{c.str&&c.str.trim()&&(l+=c.str+" ",h.push({id:`pdf-text-${o}`,text:c.str,confidence:100,boundingBox:{x0:c.transform[4],y0:c.transform[5],x1:c.transform[4]+(c.width||0),y1:c.transform[5]+(c.height||0)},page:a}))}),{extractedText:l.trim(),results:h}}catch{throw new Error("PDF text extraction error")}}highlightTextOnCanvas(t,a){if(!(a!=null&&a.current))return;const m=a.current.getContext("2d");m&&(m.save(),m.fillStyle="rgba(255, 255, 0, 0.3)",m.fillRect(t.boundingBox.x0,t.boundingBox.y0,t.boundingBox.x1-t.boundingBox.x0,t.boundingBox.y1-t.boundingBox.y0),m.restore())}}const Be=Ae.getInstance(),$i=({pdfDocument:s,canvasRef:t,currentPage:a=1,onTextDetected:r,onTextBoxCreate:m,onTextExtracted:l})=>{const[h,c]=n.useState(!1),[o,x]=n.useState(0),[g,v]=n.useState([]),[N,S]=n.useState(""),[A,H]=n.useState("eng"),[_,O]=n.useState(null),[W,k]=n.useState(null),Y=n.useRef(null),V=n.useCallback(async(C,D=1,R=1)=>{c(!0),O(null),x(0);try{const{ocrText:P,ocrResults:K}=await Be.performOCR(C,A,D,R,x);return R===1&&(S(P),v(K),r==null||r(K),l==null||l(P),x(100)),{ocrText:P,ocrResults:K}}catch(P){return O(P.message),{ocrText:"",ocrResults:[]}}finally{R===1&&c(!1)}},[A,r,l]),i=n.useCallback(async C=>{c(!0),x(0),O(null);try{const{ocrText:D,ocrResults:R,previewUrl:P}=await Be.performPDFOCR(C,A,x);S(D),v(R),k(P??null),r==null||r(R),l==null||l(D),x(100)}catch(D){O(D.message)}finally{c(!1)}},[A,r,l]),d=()=>{var C;return(C=Y.current)==null?void 0:C.click()},p=async C=>{var R;const D=(R=C.target.files)==null?void 0:R[0];if(D)if(O(null),k(null),S(""),v([]),D.type==="application/pdf")await i(D);else if(D.type.startsWith("image/")){const P=URL.createObjectURL(D);k(P),await V(P)}else O("Unsupported file type. Please upload an image or PDF.")},f=n.useCallback(async()=>{if(!(t!=null&&t.current))return;k(null);const D=t.current.toDataURL("image/png");await V(D)},[t,V]),y=n.useCallback(async()=>{if(s){c(!0),x(0),O(null);try{const{extractedText:C,results:D}=await Be.extractPDFText(s,a);S(C),v(D),r==null||r(D),l==null||l(C),x(100)}catch(C){O(C.message)}finally{c(!1)}}},[s,a,r,l]),j=n.useCallback(()=>{N&&navigator.clipboard.writeText(N)},[N]),M=n.useCallback(()=>{const C=new Blob([N],{type:"text/plain"}),D=URL.createObjectURL(C),R=document.createElement("a");R.href=D,R.download=`extracted-text-page-${a}.txt`,R.click(),URL.revokeObjectURL(D)},[N,a]),b=n.useCallback(C=>{m&&m(C.boundingBox.x0,C.boundingBox.y0,C.text)},[m]),B=n.useCallback(C=>{t&&Be.highlightTextOnCanvas(C,t)},[t]),F=async()=>{const C=document.createElement("input");C.type="file",C.accept="image/*",C.onchange=async D=>{var P;const R=(P=D.target.files)==null?void 0:P[0];if(R){c(!0);try{const{ocrText:K}=await Be.performOCR(R,A);S(K),l==null||l(K),x(100)}catch(K){O(K.message)}finally{c(!1)}}},C.click()},z=async C=>{if(C.preventDefault(),h)return;const D=C.dataTransfer.files[0];if(D)if(O(null),k(null),S(""),v([]),D.type==="application/pdf")await i(D);else if(D.type.startsWith("image/")){const R=URL.createObjectURL(D);k(R),await V(R)}else O("Unsupported file type. Please upload an image or PDF.")};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:h,children:"🔎 Extract Text from Image (Quick OCR)"}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg py-6 px-4 cursor-pointer transition-colors ${h?"opacity-60 pointer-events-none":"hover:bg-gray-50 border-gray-300"}`,onClick:d,onDrop:z,onDragOver:C=>C.preventDefault(),role:"button",tabIndex:0,children:[e.jsx("input",{ref:Y,type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:p}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Drag & drop or click to upload an image or PDF"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Supported: JPG, PNG, PDF"})]})]}),W&&e.jsx("div",{className:"text-center",children:e.jsx("img",{src:W,alt:"Preview",className:"inline-block max-h-56 border rounded shadow-sm"})}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsx("button",{onClick:y,disabled:h||!s,className:"px-3 py-2 bg-gray-600 text-white rounded disabled:opacity-50",children:"Extract PDF Text"}),e.jsx("button",{onClick:f,disabled:h||!(t!=null&&t.current),className:"px-3 py-2 bg-gray-600 text-white rounded disabled:opacity-50",children:"OCR Canvas"}),e.jsx("select",{value:A,onChange:C=>H(C.target.value),disabled:h,className:"px-2 py-1 border rounded",children:zi.map(C=>e.jsx("option",{value:C.code,children:C.name},C.code))}),g.length>0&&e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[g.length," text regions found"]})]}),h&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-200",style:{width:`${o}%`}})}),e.jsx("p",{className:"text-sm text-gray-600",children:o>0?`Processing: ${o}%`:"Initializing..."})]}),_&&e.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:_}),N&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("strong",{className:"text-sm",children:"Extracted Text"}),e.jsx("button",{onClick:j,className:"text-xs px-2 py-1 bg-gray-100 rounded hover:bg-gray-200",children:"Copy"}),e.jsx("button",{onClick:M,className:"text-xs px-2 py-1 bg-gray-100 rounded hover:bg-gray-200",children:"Download"})]}),e.jsx("textarea",{value:N,onChange:C=>S(C.target.value),className:"w-full min-h-20 font-mono text-sm border rounded p-2",placeholder:"Extracted text will appear here..."})]}),g.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("strong",{className:"text-sm",children:"Detected Text Regions"}),e.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:g.map(C=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:C.text}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Confidence: ",Math.round(C.confidence),"%"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"text-xs px-2 py-1 bg-yellow-200 rounded hover:bg-yellow-300",onClick:()=>B(C),children:"Highlight"}),m&&e.jsx("button",{className:"text-xs px-2 py-1 bg-blue-200 rounded hover:bg-blue-300",onClick:()=>b(C),children:"Add Box"})]})]},C.id))})]})]})};function Ha({className:s}){const[t,a]=n.useState(null),[r,m]=n.useState(0),[l,h]=n.useState(!1),[c,o]=n.useState(null),[x,g]=n.useState(""),v=u=>{switch(u){case"eraser":return"crosshair";case"highlight":case"rectangle":case"circle":case"freeform":case"signature":case"text":case"checkmark":case"x-mark":case"line":return"crosshair";default:return"default"}},[N,S]=n.useState("select"),[A,H]=n.useState("edit"),[_,O]=n.useState([]),[W,k]=n.useState("#FFFF00"),[Y,V]=n.useState(!1),[i,d]=n.useState([]),[p,f]=n.useState([]),[y,j]=n.useState({}),[M,b]=n.useState(null),[B,F]=n.useState(null),[z,C]=n.useState(null),[D,R]=n.useState(null),[P,K]=n.useState(1),[X,he]=n.useState(0),[Z,ee]=n.useState(100),[q]=n.useState(!0),[E,U]=n.useState(1),[$,Q]=n.useState([]),[ie,oe]=n.useState([]),[se,Ie]=n.useState([]),[ye,te]=n.useState(new Set),[je,mt]=n.useState([{name:"Arial",family:"Arial, sans-serif",loaded:!0,style:"normal",weight:"normal"},{name:"Times New Roman",family:"'Times New Roman', serif",loaded:!0,style:"normal",weight:"normal"},{name:"Courier New",family:"'Courier New', monospace",loaded:!0,style:"normal",weight:"normal"}]),[be,ve]=n.useState(Wt),[xt,L]=n.useState(!1),ne=u=>{if(typeof u=="string"){const w=je.find(T=>T.name===u);ve(w||Wt)}else ve(u)},[we,qa]=n.useState(14),[us,Ga]=n.useState("normal"),[hs,Ka]=n.useState("normal"),[Ja,Gi]=n.useState(!1),[Me,ft]=n.useState(""),[Ve,gt]=n.useState("Dancing Script"),[pt,He]=n.useState(!1),[Ye,qe]=n.useState([]),[Ki,Xa]=n.useState({}),[Ji,ms]=n.useState(null),[Za,xs]=n.useState(!1),[Qa,en]=n.useState(null),[fs,yt]=n.useState(null),[tn,jt]=n.useState(""),[Xi,gs]=n.useState({x:0,y:0}),[bt,sn]=n.useState(20),[an,vt]=n.useState(!1),[ps,nn]=n.useState(2),[ys,rn]=n.useState("#000000"),[Ne,wt]=n.useState(null),[on,Nt]=n.useState(!1),[Zi,ln]=n.useState(null),[cn,dn]=n.useState("#FFFF00"),[Qi,un]=n.useState([]),[Oe,js]=n.useState([{annotations:[],textElements:{},formFields:[],textBoxes:[],whiteoutBlocks:[],textLayerElements:[]}]),[Re,St]=n.useState(0),[bs,Ge]=n.useState(!1),[Ke,eo]=n.useState(""),me=n.useRef(null),hn=n.useRef(null),Je=n.useRef(null),mn=n.useRef(null),xn=n.useRef(null),vs=n.useRef("");n.useEffect(()=>{if(bs)return;const u=JSON.stringify({annotations:_,textElements:y,formFields:Ye,textBoxes:i,whiteoutBlocks:p,textLayerElements:$});if(u!==vs.current&&(_.length>0||Object.keys(y).length>0||Ye.length>0||i.length>0||p.length>0||$.length>0)){vs.current=u;const w={annotations:[..._],textElements:{...y},formFields:[...Ye],textBoxes:[...i],whiteoutBlocks:[...p],textLayerElements:[...$]};js(T=>[...T,w].slice(-50)),St(T=>Math.min(T+1,49))}},[_,y,Ye,i,p,$,bs]),n.useEffect(()=>{D&&P&&ws(D,P)},[D,P,Z,r]),n.useEffect(()=>{t&&o(null)},[t]);const ws=async(u,w)=>{if(me.current)try{h(!0);const T=await u.getPage(w),J=Z/100,re=T.getViewport({scale:J,rotation:r}),xe=me.current,Dt=xe.getContext("2d");if(!Dt)return;xe.height=re.height,xe.width=re.width,Dt.clearRect(0,0,xe.width,xe.height),await T.render({canvasContext:Dt,viewport:re}).promise,o(null)}catch(T){console.error("Error rendering page:",T),o(`Failed to render page ${w}`)}finally{h(!1)}},Ns=async u=>{try{h(!0),g(u.name);const w=await u.arrayBuffer(),T=new Uint8Array(w);a(T);const J=await ts({data:T}).promise;R(J),he(J.numPages),K(1),await ws(J,1)}catch(w){console.error("Error loading PDF:",w),o("Failed to load PDF file")}finally{h(!1)}},fn=u=>{te(new Set([u]))},gn=u=>{te(w=>{const T=new Set(w);return T.has(u)?T.delete(u):T.add(u),T})},pn=()=>{const u=E.toString(),w={id:u,text:`Text Box ${u}`,x:200,y:200,width:150,height:50,fontSize:16,fontStyle:"normal",fontWeight:"normal",page:P,font:"Arial",size:16,color:"#000000"};d(T=>[...T,w]),te(new Set([u])),U(T=>T+1)},yn=()=>{d(u=>u.filter(w=>!ye.has(w.id))),te(new Set)},Ct=()=>{te(new Set),b(null),F(null),C(null),ms(null)},jn=(u,w)=>{d(T=>T.map(J=>J.id===u?{...J,...w}:J))},Ft=u=>{d(w=>w.filter(T=>T.id!==u)),te(w=>{const T=new Set(w);return T.delete(u),T})},kt=u=>{const w=`textbox_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,T={...u,id:w};d(J=>[...J,T])},Xe=u=>{const w=me.current;if(!w)return{x:0,y:0};const T=w.getBoundingClientRect(),J=w.width/T.width,re=w.height/T.height;return{x:(u.clientX-T.left)*J,y:(u.clientY-T.top)*re}},bn=u=>{const w=Xe(u);switch(N){case"text":{const T={x:w.x,y:w.y,width:200,height:30,text:"New Text",fontSize:we,fontFamily:be.family,color:"#000000",page:P,rotation:0,opacity:1,bold:us==="bold",italic:hs==="italic",underline:!1,strikeThrough:!1,size:16,font:be.family};kt(T);break}case"signature":{Me&&Ss({x:w.x,y:w.y,text:Me,font:Ve});break}case"form":if(Ke){const T={id:`field_${Date.now()}`,type:Ke,x:w.x,y:w.y,width:100,height:30,page:P,value:"",placeholder:`New ${Ke} field`,required:!1,rect:{x:w.x,y:w.y,width:100,height:30},options:Ke==="select"?["Option 1","Option 2"]:void 0};Dn(T)}break}},vn=u=>{const w=Xe(u);N==="line"?(wt(w),Nt(!0)):N==="eraser"&&(vt(!0),gs(w),Pt(w.x,w.y,bt))},wn=u=>{const w=Xe(u);ln(w),N==="eraser"&&an&&(gs(w),Pt(w.x,w.y,bt))},Nn=u=>{const w=Xe(u);if(N==="line"&&on&&Ne){const T={id:`line_${Date.now()}`,type:"line",x:Ne.x,y:Ne.y,width:w.x-Ne.x,height:w.y-Ne.y,page:P,color:ys,strokeWidth:ps,opacity:1,points:[Ne.x,Ne.y,w.x,w.y],fontSize:16};En(T),Nt(!1),wt(null)}else N==="eraser"&&vt(!1)},Sn=(u,w)=>{d(T=>T.map(J=>J.id===u?{...J,...w}:J))},Pt=(u,w,T)=>{O(J=>J.filter(re=>re.page!==P?!0:Math.sqrt(Math.pow(re.x-u,2)+Math.pow(re.y-w,2))>T)),d(J=>J.filter(re=>re.page!==P?!0:Math.sqrt(Math.pow(re.x-u,2)+Math.pow(re.y-w,2))>T))},Cn=async u=>{if(D)try{xs(!0);const w={id:`ocr_${Date.now()}`,text:"Extracted text from OCR",confidence:.95,boundingBox:{x0:u.x,y0:u.y,x1:u.x+u.width,y1:u.y+u.height},page:P};oe(T=>[...T,w])}catch(w){console.error("OCR extraction failed:",w)}finally{xs(!1)}},Fn=u=>{const w=u.reduce((T,J)=>(T[J.id]=String(J.value??""),T),{});Xa(w),console.log("Form data saved:",w)},kn=u=>{qe(u),Ie(u)},Ss=u=>{const w={x:u.x,y:u.y,width:200,height:50,text:u.text,fontSize:24,fontFamily:u.font,color:"#000000",page:P,rotation:0,bold:!1,italic:!0,underline:!1,font:u.font,size:16};kt(w),He(!1)},Pn=async u=>{await Cn(u)},En=u=>{O(w=>[...w,u])},Cs=u=>{O(w=>w.filter(T=>T.id!==u)),M===u&&b(null)},Fs=u=>{b(u),Ct()},Et=u=>{f(w=>w.filter(T=>T.id!==u)),z===u&&C(null)},Rt=u=>{C(u),te(new Set),b(null),F(null),ms(null)},Rn=(u,w)=>{f(T=>T.map(J=>J.id===u?{...J,...w}:J))},Tn=u=>{const w={...u,id:`whiteout-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};f(T=>[...T,w])},An=u=>{console.log("Whiteout blocks changed:",u.length),localStorage.setItem("whiteout-blocks",JSON.stringify(u)),js(Oe)},Dn=u=>{qe(w=>[...w,u])},Tt=u=>{u>=1&&u<=X&&K(u)},ks=u=>{ee(Math.max(25,Math.min(400,u)))},In=()=>{if(Re>0){Ge(!0);const u=Oe[Re-1];O(u.annotations),j(u.textElements),qe(u.formFields),d(u.textBoxes),f(u.whiteoutBlocks),Q(u.textLayerElements),St(w=>w-1),setTimeout(()=>Ge(!1),100)}},Mn=()=>{if(Re<Oe.length-1){Ge(!0);const u=Oe[Re+1];O(u.annotations),j(u.textElements),qe(u.formFields),d(u.textBoxes),f(u.whiteoutBlocks),Q(u.textLayerElements),St(w=>w+1),setTimeout(()=>Ge(!1),100)}},On=u=>{var T;const w=(T=u.target.files)==null?void 0:T[0];w&&w.type==="application/pdf"&&Ns(w)},Ln=u=>{const w=Array.from(u.target.files||[]);un(T=>[...T,...w])},At=async()=>{if(t)try{const u=new Blob([new Uint8Array(t)],{type:"application/pdf"}),w=URL.createObjectURL(u),T=document.createElement("a");T.href=w,T.download=x||"edited-document.pdf",document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(w)}catch(u){console.error("Export failed:",u)}},Bn=u=>{S(u),Ct(),u!=="whiteout"&&V(!1),u!=="signature"&&He(!1),u!=="line"&&(Nt(!1),wt(null)),u!=="eraser"&&vt(!1)};return e.jsxs("div",{className:"flex justify-center w-full",children:[e.jsx("input",{ref:Je,type:"file",accept:".pdf",onChange:On,className:"hidden"}),e.jsx("input",{ref:mn,type:"file",accept:".pdf",multiple:!0,onChange:Ln,className:"hidden"}),e.jsx("input",{ref:xn,type:"file",accept:"image/*",onChange:u=>{var T;const w=(T=u.target.files)==null?void 0:T[0];if(w){const J=new FileReader;J.onload=re=>{var xe;yt((xe=re.target)==null?void 0:xe.result),jt(w.name)},J.readAsDataURL(w)}},className:"hidden"}),e.jsx(Di,{annotations:_,textBoxes:i,whiteoutBlocks:p,textElements:y,onSelectAnnotation:Fs,onDeleteAnnotation:Cs,onSelectTextBox:u=>F(u),onDeleteTextBox:Ft,onSelectWhiteoutBlock:Rt,onDeleteWhiteoutBlock:Et,pdfDocument:D,currentPage:P,setCurrentPage:Tt,totalPages:X,fileName:x}),e.jsxs("div",{className:"w-full max-w-5xl relative overflow-auto bg-white",children:["  ",e.jsx(Ti,{currentTool:N,onToolChange:Bn,onUndo:In,onRedo:Mn,handleFileUpload:u=>{u&&Ns(u)},canUndo:Re>0,canRedo:Re<Oe.length-1,setCurrentTool:S,zoom:Z,onZoomIn:()=>ee(u=>Math.min(u+10,400)),onZoomOut:()=>ee(u=>Math.max(u-10,25)),setZoom:ee,rotation:r,setRotation:m,fileName:x,onDownload:At,isLoading:l,selectedFont:be,onFontChange:u=>{ve(u)},fontList:je,highlightColor:cn,onHighlightColorChange:dn,onAnnotationColorChange:k,annotationColor:W,setAnnotationColor:k,lineColor:ys,lineStrokeWidth:ps,onLineColorChange:rn,onLineStrokeWidthChange:nn,whiteoutMode:Y,onWhiteoutToggle:()=>V(u=>!u),signatureName:Me,signatureFont:Ve,setSignatureName:ft,setSignatureFont:gt,showSignatureDialog:pt,setShowSignatureDialog:He,currentPage:P,totalPages:X,setCurrentPage:K,fileInputRef:Je,savePDF:At}),e.jsx("div",{className:"flex-1 min-h-0 w-full relative overflow-auto bg-white",children:c?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 mb-4",children:c}),e.jsx(I,{onClick:()=>{var u;return(u=Je.current)==null?void 0:u.click()},children:"Load PDF"})]})}):D?e.jsxs("div",{className:"relative w-full max-w-full mx-auto",children:[e.jsx("canvas",{ref:me,onClick:bn,onMouseDown:vn,onMouseMove:wn,onMouseUp:Nn,style:{cursor:v(N),display:"block",width:"100%",maxWidth:"100%",height:"auto"},className:"block mx-auto shadow-lg w-full max-w-full"}),e.jsx("canvas",{ref:hn,className:"absolute top-0 left-0 pointer-events-none w-full max-w-full",style:{width:"100%",maxWidth:"100%",height:"auto"}}),e.jsx(La,{textBoxes:i.filter(u=>u.page===P),textLayerElements:$,selectedBoxIds:ye,onSelect:fn,onMultiSelect:gn,onClearSelection:Ct,onUpdate:jn,onRemove:Ft,onAdd:kt,currentPage:P,canvasRef:me,fontList:je}),e.jsx(Ci,{whiteoutBlocks:p,setWhiteoutBlocks:f,selectedBlockId:z,onSelect:Rt,onUpdate:Rn,onRemove:Et,onAdd:Tn,isActive:N==="whiteout",currentPage:P,canvasRef:me,scale:Z/100,page:P,onBlocksChange:An}),A==="forms"&&e.jsx(Pi,{file:null,pdfDocument:D,currentPage:P,onFieldsDetected:kn,onSave:Fn,detectedFormFields:se,className:s}),N==="ocr"&&e.jsx(Ei,{ocrResults:ie.filter(u=>u.page===P),selectedBlockId:Qa,onSelect:en,onExtract:Pn,onEdit:u=>{},canvasRef:me,currentPage:P}),N==="eraser"&&e.jsx(Ri,{canvasRef:me,currentPage:P,eraserSize:bt,onErase:Pt,currentTool:N,setEraserSize:sn})]}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No PDF loaded"}),e.jsx(I,{onClick:()=>{var u;return(u=Je.current)==null?void 0:u.click()},children:"Load PDF"})]})})}),D&&q&&e.jsxs("div",{className:"border-t bg-white p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{size:"sm",variant:"outline",onClick:()=>Tt(P-1),disabled:P<=1,children:e.jsx(Qt,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",P," of ",X]}),e.jsx(I,{size:"sm",variant:"outline",onClick:()=>Tt(P+1),disabled:P>=X,children:e.jsx(es,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{size:"sm",variant:"outline",onClick:()=>ks(Z-25),disabled:Z<=25,children:e.jsx(wa,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm min-w-[60px] text-center",children:[Z,"%"]}),e.jsx(I,{size:"sm",variant:"outline",onClick:()=>ks(Z+25),disabled:Z>=400,children:e.jsx(Na,{className:"h-4 w-4"})}),e.jsxs(I,{size:"sm",variant:"outline",onClick:At,disabled:!D,children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsx(xi,{annotations:_,textBoxes:i,whiteoutBlocks:p,textElements:y,onSelectAnnotation:Fs,onDeleteAnnotation:Cs,onSelectTextBox:u=>F(u),onDeleteTextBox:Ft,onSelectWhiteoutBlock:Rt,onDeleteWhiteoutBlock:Et,pdfDocument:D,currentPage:P,totalPages:X,canvasRef:me,zoom:Z}),e.jsx(gi,{textBoxes:i,setTextBoxes:d,selectedTextBox:B,setSelectedTextBox:F,canvasRef:me,currentPage:P,zoom:Z,onRemove:yn,onAdd:pn,onFontChange:ne,fontList:je,selectedFont:be,onTextBoxUpdate:Sn,originalPdfData:t,showControls:q}),e.jsx(Ni,{selectedFont:be.name,onFontChange:u=>{const w=je.find(T=>T.name===u);ve(w||Wt)},fontSize:we,onFontSizeChange:qa,fontWeight:us,onFontWeightChange:Ga,fontStyle:hs,onFontStyleChange:Ka,showAdvanced:Ja}),pt&&e.jsx(Ui,{signatureName:Me,setSignatureName:ft,signatureFont:Ve,setSignatureFont:gt,showSignatureDialog:pt,setShowSignatureDialog:He,onPlaceSignature:u=>{Ss({x:u.x,y:u.y,text:Me,font:Ve})},currentPage:P,annotationColor:W,onNameChange:ft,onFontChange:gt}),N==="image"&&fs&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[e.jsx("h3",{children:"Image Tool"}),e.jsx("img",{src:fs,alt:tn,className:"max-w-xs max-h-xs"}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(I,{onClick:()=>{yt(null),jt(""),S("select")},children:"Place Image"}),e.jsx(I,{variant:"outline",onClick:()=>{yt(null),jt(""),S("select")},children:"Cancel"})]})]})}),N==="ocr"&&e.jsx($i,{isProcessing:Za,onTextDetected:u=>oe(u),onTextExtracted:u=>{},pdfDocument:D,canvasRef:me,currentPage:P})]})]})}function Wi(){const s=Ta();return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsxs("div",{className:"w-full max-w-5xl mx-auto flex flex-col flex-1",children:[e.jsxs("div",{className:"border-b bg-white dark:bg-gray-900 w-full",children:[e.jsxs("header",{className:"border-b bg-white dark:bg-gray-900 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/70x70logo.png",alt:"PDF4EVER Logo",className:"h-8 w-8"}),e.jsxs("span",{className:"text-xl font-bold",children:[e.jsx("span",{style:{color:"#005aff"},children:"PDF4"}),e.jsx("span",{style:{color:"#ff3900"},children:"EVER"})]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:"Sign In"}),e.jsx(I,{size:"sm",children:"Sign Up"})]})})]}),s&&e.jsx("div",{className:"bg-blue-100 text-blue-800 px-4 py-2 text-center",children:"Welcome to the mobile version!"})]}),e.jsx("div",{className:"flex-1 min-h-0 w-full relative overflow-auto bg-white",children:e.jsx(Ha,{})})]}),e.jsx("div",{className:"w-full max-w-5xl mx-auto",children:e.jsx(hi,{})})]})}function _i(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(de,{className:"w-full max-w-md mx-4",children:e.jsxs(ue,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(Fr,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Vi(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(lt,{href:"/",children:e.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("img",{src:"/70x70logo.png",alt:"PDF4EVER Logo",className:"h-10 w-10"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent",children:"PDF4EVER"})]})}),e.jsx(lt,{href:"/",children:e.jsxs(I,{variant:"ghost",children:[e.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-8",children:"Effective Date: December 6, 2024"}),e.jsxs("div",{className:"prose prose-lg dark:prose-invert max-w-none space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),e.jsx("p",{children:'PDF4EVER ("we," "our," or "us") is committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our PDF editing web application and services (the "Service"). This policy complies with applicable federal laws and the laws of the State of Missouri.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Our Privacy-First Commitment"}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-l-4 border-blue-500",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Zero File Storage Policy"}),e.jsxs("p",{children:[e.jsx("strong",{children:"We do not store, save, or retain any PDF files or documents you process through our Service."})," ","All PDF editing, processing, and manipulation occurs entirely within your web browser using client-side technology. Your files never leave your device or are transmitted to our servers."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Information We Collect"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.1 Personal Information"}),e.jsx("p",{children:"When you create an account, we collect:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Email address (required for account creation and communication)"}),e.jsx("li",{children:"First and last name (for account personalization)"}),e.jsx("li",{children:"Password (securely hashed and encrypted)"}),e.jsx("li",{children:"Profile information from OAuth providers (Google) if you choose to sign in via these services"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"3.2 Usage Information"}),e.jsx("p",{children:"We automatically collect certain information when you use our Service:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Device information (browser type, operating system, device identifiers)"}),e.jsx("li",{children:"Usage analytics (pages visited, features used, time spent on Service)"}),e.jsx("li",{children:"IP address and location data (for security and fraud prevention)"}),e.jsx("li",{children:"Log files and technical data (for debugging and service improvement)"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"3.3 Cookies and Tracking Technologies"}),e.jsx("p",{children:"We use cookies and similar technologies for:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Authentication and session management"}),e.jsx("li",{children:"User preferences and settings"}),e.jsx("li",{children:"Security features and fraud prevention"}),e.jsx("li",{children:"Analytics and service improvement"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. How We Use Your Information"}),e.jsx("p",{children:"We use collected information solely for the following purposes:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Service Provision:"})," To provide, maintain, and improve our PDF editing services"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Account Management:"})," To create and manage your user account"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Authentication:"})," To verify your identity and secure your account"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communication:"})," To send important updates, security alerts, and support messages"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Security:"})," To detect, prevent, and address technical issues and security threats"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Compliance:"})," To comply with applicable laws and regulations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Improvement:"})," To analyze usage patterns and improve our Service"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Information Sharing and Disclosure"}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-6 rounded-lg border-l-4 border-green-500 mb-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No Third-Party Data Sharing"}),e.jsxs("p",{children:[e.jsx("strong",{children:"We do not sell, rent, trade, or otherwise share your personal information with third parties for their marketing or commercial purposes."})," ","Your data is used exclusively for the functioning of our Service."]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"Limited Disclosure Circumstances"}),e.jsx("p",{children:"We may disclose your information only in the following limited circumstances:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Requirements:"})," When required by law, court order, or government request"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Safety and Security:"})," To protect the rights, property, or safety of PDF4EVER, our users, or the public"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets (with user notification)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Consent:"})," When you have given explicit consent for specific sharing"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"Service Providers"}),e.jsx("p",{children:"We may share information with trusted service providers who assist us in operating our Service, including:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Supabase (database and authentication services)"}),e.jsx("li",{children:"Google (OAuth authentication services)"}),e.jsx("li",{children:"Hosting and infrastructure providers"})]}),e.jsx("p",{className:"mt-3",children:"These providers are contractually bound to protect your information and use it only for the specified purposes."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Data Security"}),e.jsx("p",{children:"We implement comprehensive security measures to protect your information:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Encryption:"})," All data transmission uses industry-standard SSL/TLS encryption"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Password Security:"})," Passwords are hashed using bcrypt with salt"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Access Controls:"})," Strict access controls and authentication requirements"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Regular Audits:"})," Regular security assessments and vulnerability testing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data Minimization:"})," We collect and retain only necessary information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Secure Infrastructure:"})," Use of reputable cloud providers with robust security measures"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Your Rights and Choices"}),e.jsx("p",{children:"You have the following rights regarding your personal information:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Access:"})," Request access to your personal information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Correction:"})," Request correction of inaccurate information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deletion:"})," Request deletion of your account and associated data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Portability:"})," Request a copy of your data in a portable format"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Opt-out:"})," Unsubscribe from promotional communications"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cookie Control:"})," Manage cookie preferences through your browser settings"]})]}),e.jsx("p",{className:"mt-3",children:"To exercise these rights, contact us at privacy@pdf4ever.com"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Data Retention"}),e.jsx("p",{children:"We retain your information for the following periods:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Account Information:"})," Until you delete your account or request deletion"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Usage Data:"})," Up to 2 years for analytics and service improvement"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Compliance:"})," As required by applicable laws and regulations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Security Logs:"})," Up to 1 year for security and fraud prevention"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),e.jsx("p",{children:"Our Service is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If we become aware that we have collected personal information from a child under 13, we will take steps to delete such information promptly."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. International Users"}),e.jsx("p",{children:"Our Service is operated from the United States. If you are accessing our Service from outside the United States, please be aware that your information may be transferred to, stored, and processed in the United States where our servers are located and our central database is operated."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to This Privacy Policy"}),e.jsx("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Effective Date" at the top. We encourage you to review this Privacy Policy periodically for any changes.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Information"}),e.jsx("p",{children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mt-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," privacy@pdf4ever.com"]}),e.jsx("p",{children:e.jsx("strong",{children:"Mailing Address:"})}),e.jsxs("p",{children:["PDF4EVER Privacy Team",e.jsx("br",{}),"[Your Business Address]",e.jsx("br",{}),"[City], Missouri [ZIP Code]",e.jsx("br",{}),"United States"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Missouri-Specific Rights"}),e.jsx("p",{children:"As a resident of Missouri, you may have additional rights under Missouri state law. We comply with all applicable Missouri data protection requirements, including proper notification procedures for data breaches and adherence to Missouri's consumer protection laws."})]})]})]})]})}function Hi(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(lt,{href:"/",children:e.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("img",{src:"/70x70logo.png",alt:"PDF4EVER Logo",className:"h-10 w-10"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent",children:"PDF4EVER"})]})}),e.jsx(lt,{href:"/",children:e.jsxs(I,{variant:"ghost",children:[e.jsx(Sa,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-8",children:"Effective Date: December 6, 2024"}),e.jsxs("div",{className:"prose prose-lg dark:prose-invert max-w-none space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),e.jsx("p",{children:'Welcome to PDF4EVER. These Terms of Service ("Terms") constitute a legally binding agreement between you ("User," "you," or "your") and PDF4EVER ("Company," "we," "our," or "us") regarding your use of our PDF editing web application and related services (collectively, the "Service"). By accessing or using our Service, you agree to be bound by these Terms and our Privacy Policy, which is incorporated herein by reference.'}),e.jsx("p",{children:"If you do not agree to these Terms, you may not access or use our Service. These Terms are governed by the laws of the State of Missouri and applicable federal laws of the United States."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),e.jsx("p",{children:"PDF4EVER provides a web-based PDF editing platform that allows users to edit, annotate, merge, split, and manipulate PDF documents entirely within their web browser. Our Service operates on a privacy-first principle where all document processing occurs client-side, ensuring that your files never leave your device."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.1 Service Features"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"PDF text editing and formatting"}),e.jsx("li",{children:"Digital signature capabilities"}),e.jsx("li",{children:"Form filling and completion"}),e.jsx("li",{children:"OCR (Optical Character Recognition) text extraction"}),e.jsx("li",{children:"Page merging and splitting"}),e.jsx("li",{children:"Annotation tools and markup"}),e.jsx("li",{children:"Font matching and text detection"}),e.jsx("li",{children:"Invoice generation and document templates"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"2.2 Privacy-First Architecture"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-l-4 border-blue-500",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Important:"})," All PDF processing occurs locally in your web browser. We do not upload, store, or retain any PDF files or document content on our servers. This ensures complete privacy and security of your documents."]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts and Registration"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.1 Account Creation"}),e.jsx("p",{children:"To access certain features of our Service, you must create a user account. You may register using:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Email address and password"}),e.jsx("li",{children:"Google OAuth authentication"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"3.2 Account Responsibilities"}),e.jsx("p",{children:"You are responsible for:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Providing accurate and complete registration information"}),e.jsx("li",{children:"Maintaining the confidentiality of your account credentials"}),e.jsx("li",{children:"All activities that occur under your account"}),e.jsx("li",{children:"Immediately notifying us of any unauthorized use of your account"}),e.jsx("li",{children:"Using strong passwords that meet our security requirements"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"3.3 Account Termination"}),e.jsx("p",{children:"You may terminate your account at any time. We reserve the right to suspend or terminate accounts that violate these Terms or engage in prohibited activities."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Acceptable Use Policy"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.1 Permitted Uses"}),e.jsx("p",{children:"You may use our Service for lawful purposes, including:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Personal document editing and management"}),e.jsx("li",{children:"Business document processing and workflow"}),e.jsx("li",{children:"Educational and academic document preparation"}),e.jsx("li",{children:"Legal document review and editing (non-attorney users)"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"4.2 Prohibited Uses"}),e.jsx("p",{children:"You agree not to use our Service to:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Process documents containing illegal content or activities"}),e.jsx("li",{children:"Violate any applicable laws, regulations, or third-party rights"}),e.jsx("li",{children:"Distribute malware, viruses, or other harmful code"}),e.jsx("li",{children:"Attempt to gain unauthorized access to our systems or other users' accounts"}),e.jsx("li",{children:"Reverse engineer, decompile, or attempt to extract source code"}),e.jsx("li",{children:"Use automated scripts or bots to access the Service"}),e.jsx("li",{children:"Interfere with or disrupt the Service's functionality"}),e.jsx("li",{children:"Create fraudulent or misleading documents"}),e.jsx("li",{children:"Process documents containing personal information of others without consent"}),e.jsx("li",{children:"Violate intellectual property rights of third parties"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Intellectual Property Rights"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"5.1 Our Intellectual Property"}),e.jsx("p",{children:"The Service, including its software, design, text, graphics, logos, and other content, is owned by PDF4EVER and is protected by intellectual property laws. You are granted a limited, non-exclusive, non-transferable license to use the Service for its intended purpose."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"5.2 Your Content"}),e.jsx("p",{children:"You retain all rights to the documents and content you process through our Service. Since we do not store your files, we do not claim any ownership rights to your content. You are solely responsible for ensuring you have the right to process any documents you upload to the Service."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"5.3 Feedback and Suggestions"}),e.jsx("p",{children:"Any feedback, suggestions, or ideas you provide to us regarding the Service may be used by us without any obligation to compensate you."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Privacy and Data Protection"}),e.jsx("p",{children:"Your privacy is fundamental to our Service. We encourage you to review our Privacy Policy, which explains our data collection, use, and protection practices. Key privacy principles include:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"No storage of your PDF files or document content"}),e.jsx("li",{children:"Client-side processing to ensure document privacy"}),e.jsx("li",{children:"Minimal data collection for account functionality only"}),e.jsx("li",{children:"No sharing of personal information with third parties for marketing purposes"}),e.jsx("li",{children:"Strong security measures to protect account information"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Service Availability and Modifications"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"7.1 Service Availability"}),e.jsx("p",{children:"We strive to maintain continuous Service availability but cannot guarantee uninterrupted access. The Service may be temporarily unavailable due to maintenance, updates, or technical issues."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"7.2 Service Modifications"}),e.jsx("p",{children:"We reserve the right to modify, update, or discontinue features of the Service at any time. We will provide reasonable notice of material changes that affect Service functionality."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Disclaimers and Limitations of Liability"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"8.1 Service Disclaimers"}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg border-l-4 border-yellow-500",children:e.jsx("p",{children:'THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.'})}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"8.2 Limitation of Liability"}),e.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, PDF4EVER SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF DATA, LOSS OF PROFITS, OR BUSINESS INTERRUPTION."}),e.jsx("p",{children:"OUR TOTAL LIABILITY TO YOU FOR ANY CLAIMS ARISING OUT OF OR RELATING TO THESE TERMS OR THE SERVICE SHALL NOT EXCEED THE AMOUNT YOU PAID TO US IN THE TWELVE (12) MONTHS PRECEDING THE CLAIM."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"8.3 Missouri Law Compliance"}),e.jsx("p",{children:"Some jurisdictions do not allow the exclusion of certain warranties or limitation of liability. In such cases, our liability will be limited to the maximum extent permitted by Missouri state law."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Indemnification"}),e.jsx("p",{children:"You agree to indemnify, defend, and hold harmless PDF4EVER, its officers, directors, employees, and agents from and against any claims, damages, losses, costs, and expenses (including reasonable attorneys' fees) arising out of or relating to:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Your use of the Service"}),e.jsx("li",{children:"Your violation of these Terms"}),e.jsx("li",{children:"Your violation of any applicable laws or regulations"}),e.jsx("li",{children:"Your infringement of any third-party rights"}),e.jsx("li",{children:"Content you process through the Service"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Governing Law and Dispute Resolution"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"10.1 Governing Law"}),e.jsx("p",{children:"These Terms are governed by and construed in accordance with the laws of the State of Missouri, without regard to its conflict of law principles. Any disputes shall be resolved in the state or federal courts located in Missouri."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"10.2 Dispute Resolution"}),e.jsx("p",{children:"Before filing any legal claim, you agree to first contact us to attempt to resolve the dispute informally. We will work in good faith to resolve any issues through direct communication."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"10.3 Class Action Waiver"}),e.jsx("p",{children:"You agree that any dispute resolution proceedings will be conducted only on an individual basis and not in a class, consolidated, or representative action."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Termination"}),e.jsx("p",{children:"Either party may terminate this agreement at any time. Upon termination:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Your access to the Service will be immediately suspended"}),e.jsx("li",{children:"Your account information may be deleted in accordance with our Privacy Policy"}),e.jsx("li",{children:"Provisions that should survive termination will remain in effect"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Changes to Terms"}),e.jsx("p",{children:"We may update these Terms from time to time to reflect changes in our Service, legal requirements, or business practices. Material changes will be communicated through:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Email notification to registered users"}),e.jsx("li",{children:"Prominent notice on our website"}),e.jsx("li",{children:"In-app notifications"})]}),e.jsx("p",{children:"Continued use of the Service after changes take effect constitutes acceptance of the updated Terms."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Severability"}),e.jsx("p",{children:"If any provision of these Terms is found to be unenforceable or invalid, the remaining provisions will continue in full force and effect."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Entire Agreement"}),e.jsx("p",{children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and PDF4EVER regarding the Service and supersede all prior agreements and understandings."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Contact Information"}),e.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mt-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," legal@pdf4ever.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Support:"})," support@pdf4ever.com"]}),e.jsx("p",{children:e.jsx("strong",{children:"Mailing Address:"})}),e.jsxs("p",{children:["PDF4EVER Legal Department",e.jsx("br",{}),"[Your Business Address]",e.jsx("br",{}),"[City], Missouri [ZIP Code]",e.jsx("br",{}),"United States"]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-l-4 border-blue-500 mt-8",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Questions or Concerns?"}),e.jsx("p",{children:"We're committed to transparency and user satisfaction. If you have any questions about these Terms or need clarification on any provision, please don't hesitate to contact our support team."})]})]})]})]})}function Yi(){const s=Ta();return ss(),e.jsx(Gr,{defaultTheme:"dark",storageKey:"pdf4ever-theme",children:e.jsxs($n,{children:[e.jsx(zr,{}),s&&e.jsx("div",{children:"Welcome, mobile user!"}),e.jsxs(Wn,{children:[e.jsx(Le,{path:"/",element:e.jsx(Wi,{})}),e.jsx(Le,{path:"/editor",element:e.jsx(Ha,{})}),e.jsx(Le,{path:"/privacy-policy",element:e.jsx(Vi,{})}),e.jsx(Le,{path:"/terms-of-service",element:e.jsx(Hi,{})}),e.jsx(Le,{path:"*",element:e.jsx(_i,{})})]})]})})}const qi=new Ca,Ya=document.getElementById("root");if(!Ya)throw new Error("Root element not found!");_n.createRoot(Ya).render(e.jsx(Ue.StrictMode,{children:e.jsx(kr,{client:qi,children:e.jsx(Yi,{})})}));
