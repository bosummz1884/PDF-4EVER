import{e as Fe,r as i,j as e,D as bs,L as pe,B as vs,f as Ns,g as G,h as ws,R as Ss}from"./react-BElqYnvv.js";import{V as Ae,R as Ie,A as Oe,C as Le,T as Me,D as Ue,P as Ts,S as Cs,a as ze,O as Be,b as Es,c as _e,d as fe,e as Ve,f as We,L as He,g as $e,h as Ye,i as Ps,j as Ge,k as ks,l as Ds,m as Rs,n as qe,I as Fs,o as Ke,p as As,q as Xe,r as Qe,s as Is,t as Ze,u as Os,v as Je,w as es,x as Ls,y as Ms,z as ss,B as Us,E as zs,F as ts,G as Bs,H as _s,J as as,K as Vs}from"./radix-ui-DWFRdKmJ.js";import{t as Ws}from"./tailwind-plugins-D696Ktp4.js";import{X as ge,S as Hs,M as $s,C as rs,a as Ys,b as os,U as ye,Z as je,c as is,d as Gs,R as qs,P as ue,F as ie,e as Ks,I as Xs,f as Te,E as Qs,g as Zs,h as Js,H as et,T as st,i as tt,L as at,j as te,k as rt,l as ot,m as it,n as ns,o as nt,A as be,p as lt,q as Ce,r as ct,s as dt,t as ut,u as Ee,v as mt,w as ht,x as xt,y as pt}from"./lucide-BDYm4Npq.js";import{G as ls,s as Pe,b as cs,P as ft,S as gt,r as Q}from"./pdf-tools-Dxta1PCC.js";import{L as ae}from"./router-BCxoBdOX.js";import{Q as yt,a as jt}from"./react-query-CyD30DCa.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function a(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(o){if(o.ep)return;o.ep=!0;const d=a(o);fetch(o.href,d)}})();const ke=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,De=Fe,ee=(t,s)=>a=>{var r;if((s==null?void 0:s.variants)==null)return De(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:o,defaultVariants:d}=s,p=Object.keys(o).map(u=>{const l=a==null?void 0:a[u],y=d==null?void 0:d[u];if(l===null)return null;const m=ke(l)||ke(y);return o[u][m]}),n=a&&Object.entries(a).reduce((u,l)=>{let[y,m]=l;return m===void 0||(u[y]=m),u},{}),f=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((u,l)=>{let{class:y,className:m,...h}=l;return Object.entries(h).every(c=>{let[j,S]=c;return Array.isArray(S)?S.includes({...d,...n}[j]):{...d,...n}[j]===S})?[...u,y,m]:u},[]);return De(t,p,f,a==null?void 0:a.class,a==null?void 0:a.className)};function b(...t){return Ws(Fe(t))}const bt=Ts,ds=i.forwardRef(({className:t,...s},a)=>e.jsx(Ae,{ref:a,className:b("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));ds.displayName=Ae.displayName;const vt=ee("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Nt=i.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(Ie,{ref:r,className:b(vt({variant:s}),t),...a}));Nt.displayName=Ie.displayName;const wt=i.forwardRef(({className:t,...s},a)=>e.jsx(Oe,{ref:a,className:b("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));wt.displayName=Oe.displayName;const St=i.forwardRef(({className:t,...s},a)=>e.jsx(Le,{ref:a,className:b("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(ge,{className:"h-4 w-4"})}));St.displayName=Le.displayName;const Tt=i.forwardRef(({className:t,...s},a)=>e.jsx(Me,{ref:a,className:b("text-sm font-semibold",t),...s}));Tt.displayName=Me.displayName;const Ct=i.forwardRef(({className:t,...s},a)=>e.jsx(Ue,{ref:a,className:b("text-sm opacity-90",t),...s}));Ct.displayName=Ue.displayName;const Et=()=>e.jsx(bt,{children:e.jsx(ds,{})}),Pt={theme:"system",setTheme:()=>null},us=i.createContext(Pt);function kt({children:t,defaultTheme:s="dark",storageKey:a="pdf4ever-theme",...r}){const[o,d]=i.useState(()=>localStorage.getItem(a)||s);i.useEffect(()=>{const n=window.document.documentElement;if(n.classList.remove("light","dark"),o==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n.classList.add(f);return}n.classList.add(o)},[o]);const p={theme:o,setTheme:n=>{localStorage.setItem(a,n),d(n)}};return e.jsx(us.Provider,{...r,value:p,children:t})}const Dt=()=>{const t=i.useContext(us);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Rt=ee("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),w=i.forwardRef(({className:t,variant:s,size:a,asChild:r=!1,...o},d)=>{const p=r?Cs:"button";return e.jsx(p,{className:b(Rt({variant:s,size:a,className:t})),ref:d,...o})});w.displayName="Button";const Y=i.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:b("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));Y.displayName="Input";const Ft=ee("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),I=i.forwardRef(({className:t,...s},a)=>e.jsx(ze,{ref:a,className:b(Ft(),t),...s}));I.displayName=ze.displayName;const At=Es,ms=i.forwardRef(({className:t,...s},a)=>e.jsx(Be,{ref:a,className:b("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));ms.displayName=Be.displayName;const It=i.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(At,{children:[e.jsx(ms,{}),e.jsxs(_e,{ref:r,className:b("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(fe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));It.displayName=_e.displayName;const Ot=i.forwardRef(({className:t,children:s,...a},r)=>e.jsx(Ve,{ref:r,className:b("text-lg font-semibold leading-none tracking-tight",t),...a,children:s}));Ot.displayName=Ve.displayName;const Lt=i.forwardRef(({className:t,children:s,...a},r)=>e.jsx(We,{ref:r,className:b("text-sm text-muted-foreground",t),...a,children:s}));Lt.displayName=We.displayName;const Mt=i.forwardRef((t,s)=>e.jsx(fe,{ref:s,...t}));Mt.displayName=fe.displayName;const hs=Ps,ve=i.forwardRef(({className:t,...s},a)=>e.jsx(He,{ref:a,className:b("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));ve.displayName=He.displayName;const H=i.forwardRef(({className:t,...s},a)=>e.jsx($e,{ref:a,className:b("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));H.displayName=$e.displayName;const $=i.forwardRef(({className:t,...s},a)=>e.jsx(Ye,{ref:a,className:b("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));$.displayName=Ye.displayName;const Ut=ee("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),zt=i.forwardRef(({className:t,variant:s,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:b(Ut({variant:s}),t),...a}));zt.displayName="Alert";const Bt=i.forwardRef(({className:t,...s},a)=>e.jsx("h5",{ref:a,className:b("mb-1 font-medium leading-none tracking-tight",t),...s}));Bt.displayName="AlertTitle";const _t=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:b("text-sm [&_p]:leading-relaxed",t),...s}));_t.displayName="AlertDescription";const Vt=i.createContext(void 0);function Wt({children:t}){const[s,a]=i.useState(null),[r,o]=i.useState(!0),[d,p]=i.useState(null);i.useEffect(()=>{if(typeof window<"u"&&!window.location.hostname.includes("replit")){o(!1);return}n()},[]);const n=async()=>{try{const m=await fetch("/api/auth/user",{credentials:"include"});if(m.ok){const h=await m.json();a(h)}}catch(m){console.error("Auth check failed:",m)}finally{o(!1)}},y={user:s,login:async(m,h)=>{o(!0),p(null);try{const c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:m,password:h})}),j=await c.json();if(!c.ok)throw new Error(j.error||"Login failed");a(j.user)}catch(c){p(c instanceof Error?c.message:"Login failed")}finally{o(!1)}},signup:async(m,h,c)=>{o(!0),p(null);try{const j=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:m,password:h,name:c})}),S=await j.json();if(!j.ok)throw new Error(S.error||"Signup failed");a(S.user)}catch(j){p(j instanceof Error?j.message:"Signup failed")}finally{o(!1)}},logout:async()=>{o(!0);try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),a(null)}catch(m){console.error("Logout failed:",m)}finally{o(!1)}},isLoading:r,error:d};return e.jsx(Vt.Provider,{value:y,children:t})}function Ht(){const{theme:t,setTheme:s}=Dt(),a=()=>{s(t==="light"?"dark":"light")};return e.jsxs(w,{variant:"ghost",size:"icon",onClick:a,className:"h-9 w-9 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(Hs,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx($s,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const $t=({isActive:t,settings:s,onSettingChange:a})=>t?e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Text Tool"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"Font Family"}),e.jsxs("select",{value:s.fontFamily||"Arial",onChange:r=>a("fontFamily",r.target.value),className:"w-full px-2 py-1 text-xs border rounded",children:[e.jsx("option",{value:"Arial",children:"Arial"}),e.jsx("option",{value:"Helvetica",children:"Helvetica"}),e.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),e.jsx("option",{value:"Courier New",children:"Courier New"}),e.jsx("option",{value:"Georgia",children:"Georgia"}),e.jsx("option",{value:"Verdana",children:"Verdana"}),e.jsx("option",{value:"Trebuchet MS",children:"Trebuchet MS"}),e.jsx("option",{value:"Comic Sans MS",children:"Comic Sans MS"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-medium",children:["Font Size: ",s.fontSize||16,"px"]}),e.jsx("input",{type:"range",value:s.fontSize||16,onChange:r=>a("fontSize",parseInt(r.target.value)),className:"w-full",min:"8",max:"72",step:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"Text Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:s.color||"#000000",onChange:r=>a("color",r.target.value),className:"w-8 h-8 border rounded"}),e.jsx("input",{type:"text",value:s.color||"#000000",onChange:r=>a("color",r.target.value),className:"flex-1 px-2 py-1 text-xs border rounded"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"Text Style"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a("bold",!s.bold),className:`px-2 py-1 text-xs border rounded font-bold ${s.bold?"bg-blue-100 border-blue-300":"bg-white"}`,children:"B"}),e.jsx("button",{onClick:()=>a("italic",!s.italic),className:`px-2 py-1 text-xs border rounded italic ${s.italic?"bg-blue-100 border-blue-300":"bg-white"}`,children:"I"}),e.jsx("button",{onClick:()=>a("underline",!s.underline),className:`px-2 py-1 text-xs border rounded underline ${s.underline?"bg-blue-100 border-blue-300":"bg-white"}`,children:"U"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"Text Alignment"}),e.jsxs("select",{value:s.textAlign||"left",onChange:r=>a("textAlign",r.target.value),className:"w-full px-2 py-1 text-xs border rounded",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"}),e.jsx("option",{value:"justify",children:"Justify"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-medium",children:["Line Height: ",s.lineHeight||1.2]}),e.jsx("input",{type:"range",value:s.lineHeight||1.2,onChange:r=>a("lineHeight",parseFloat(r.target.value)),className:"w-full",min:"0.8",max:"3",step:"0.1"})]}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:e.jsx("div",{style:{fontFamily:s.fontFamily||"Arial",fontSize:`${Math.min(s.fontSize||16,14)}px`,color:s.color||"#000000",fontWeight:s.bold?"bold":"normal",fontStyle:s.italic?"italic":"normal",textDecoration:s.underline?"underline":"none",textAlign:s.textAlign||"left",lineHeight:s.lineHeight||1.2},children:"Sample Text"})})]}):null,q=i.forwardRef(({className:t,...s},a)=>e.jsxs(Ge,{ref:a,className:b("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(ks,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Ds,{className:"absolute h-full bg-primary"})}),e.jsx(Rs,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));q.displayName=Ge.displayName;const Yt=({settings:t,onSettingChange:s})=>e.jsx("div",{className:"space-y-4 p-4",children:e.jsxs("div",{children:[e.jsxs(I,{className:"text-xs",children:["Eraser Size: ",t.size||20,"px"]}),e.jsx(q,{value:[t.size||20],onValueChange:([a])=>s("size",a),min:5,max:100,step:5})]})}),Gt=({settings:t,onSettingChange:s})=>e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Brush Color"}),e.jsx(Y,{type:"color",value:t.color||"#000000",onChange:a=>s("color",a.target.value),className:"w-full h-8 mt-1 p-0 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs(I,{className:"text-xs",children:["Brush Size: ",t.brushSize||3,"px"]}),e.jsx(q,{value:[t.brushSize||3],onValueChange:([a])=>s("brushSize",a),min:1,max:50,step:1})]})]}),qt=({settings:t,onSettingChange:s})=>e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Highlight Color"}),e.jsx(Y,{type:"color",value:t.color||"#FFFF00",onChange:a=>s("color",a.target.value),className:"w-full h-8 mt-1 p-0 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsxs(I,{className:"text-xs",children:["Opacity: ",Math.round((t.opacity||.5)*100),"%"]}),e.jsx(q,{value:[(t.opacity||.5)*100],onValueChange:([a])=>s("opacity",a/100),min:10,max:100,step:5})]})]}),Kt=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Image Tool"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Click on the page to open a file dialog, then select an image to place on the document."})]}),Xt=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Selection Tool"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Click elements on the page to select, move, or resize them."})]}),de=({settings:t,onSettingChange:s})=>e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Stroke Color"}),e.jsx(Y,{type:"color",value:t.strokeColor||"#000000",onChange:a=>s("strokeColor",a.target.value),className:"w-full h-8 mt-1 p-0 cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Fill Color"}),e.jsx(Y,{type:"color",value:t.fillColor==="transparent"?"#ffffff":t.fillColor,onChange:a=>s("fillColor",a.target.value),className:"w-full h-8 mt-1 p-0 cursor-pointer"}),e.jsx(w,{variant:"link",className:"text-xs p-0 h-auto font-normal",onClick:()=>s("fillColor","transparent"),children:"Set Transparent"})]}),e.jsxs("div",{children:[e.jsxs(I,{className:"text-xs",children:["Stroke Width: ",t.strokeWidth||2,"px"]}),e.jsx(q,{value:[t.strokeWidth||2],onValueChange:([a])=>s("strokeWidth",a),min:1,max:50,step:1})]}),e.jsxs("div",{children:[e.jsxs(I,{className:"text-xs",children:["Corner Radius: ",t.cornerRadius||0,"px"]}),e.jsx(q,{value:[t.cornerRadius||0],onValueChange:([a])=>s("cornerRadius",a),min:0,max:50,step:1})]})]}),Qt=({isActive:t,settings:s,onSettingChange:a})=>t?e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Whiteout Tool"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-medium",children:["Brush Size: ",s.brushSize||20,"px"]}),e.jsx("input",{type:"range",value:s.brushSize||20,onChange:r=>a("brushSize",parseInt(r.target.value)),className:"w-full",min:"5",max:"100",step:"5"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"Whiteout Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:s.color||"#FFFFFF",onChange:r=>a("color",r.target.value),className:"w-8 h-8 border rounded"}),e.jsxs("select",{value:s.color||"#FFFFFF",onChange:r=>a("color",r.target.value),className:"flex-1 px-2 py-1 text-xs border rounded",children:[e.jsx("option",{value:"#FFFFFF",children:"White"}),e.jsx("option",{value:"#F5F5F5",children:"Off-White"}),e.jsx("option",{value:"#FFFACD",children:"Cream"}),e.jsx("option",{value:"#FFF8DC",children:"Cornsilk"}),e.jsx("option",{value:"custom",children:"Custom"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-xs font-medium",children:["Opacity: ",Math.round((s.opacity||1)*100),"%"]}),e.jsx("input",{type:"range",value:s.opacity||1,onChange:r=>a("opacity",parseFloat(r.target.value)),className:"w-full",min:"0.5",max:"1",step:"0.1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"Brush Shape"}),e.jsxs("select",{value:s.brushShape||"round",onChange:r=>a("brushShape",r.target.value),className:"w-full px-2 py-1 text-xs border rounded",children:[e.jsx("option",{value:"round",children:"Round"}),e.jsx("option",{value:"square",children:"Square"}),e.jsx("option",{value:"soft",children:"Soft Round"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"Application Mode"}),e.jsxs("select",{value:s.mode||"paint",onChange:r=>a("mode",r.target.value),className:"w-full px-2 py-1 text-xs border rounded",children:[e.jsx("option",{value:"paint",children:"Paint Over"}),e.jsx("option",{value:"block",children:"Block Selection"}),e.jsx("option",{value:"precise",children:"Precise Coverage"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("label",{className:"flex items-center text-xs",children:[e.jsx("input",{type:"checkbox",checked:s.smoothing||!0,onChange:r=>a("smoothing",r.target.checked),className:"mr-1"}),"Smooth Edges"]}),e.jsxs("label",{className:"flex items-center text-xs",children:[e.jsx("input",{type:"checkbox",checked:s.pressure||!1,onChange:r=>a("pressure",r.target.checked),className:"mr-1"}),"Pressure Sensitive"]})]}),e.jsx("div",{className:"p-2 border rounded bg-gray-50 flex justify-center",children:e.jsx("div",{style:{width:`${Math.min(s.brushSize||20,40)}px`,height:`${Math.min(s.brushSize||20,40)}px`,backgroundColor:s.color||"#FFFFFF",opacity:s.opacity||1,borderRadius:s.brushShape==="round"?"50%":s.brushShape==="soft"?"30%":"0",border:"1px solid #ccc"}})})]}):null;ls.workerSrc="/pdf.worker.js";console.log("PDF.js worker configured with a static path:",ls.workerSrc);class Zt{async performOCR(s,a,r,o,d){const p=await Pe.createWorker(a,1,{logger:n=>{if(n.status==="recognizing text"&&d){const f=n.progress/o,u=(r-1)/o+f;d(Math.round(u*100))}}});try{await p.setParameters({tessedit_pageseg_mode:Pe.PSM.AUTO});const{data:n}=await p.recognize(s),f=(n.words||[]).filter(u=>u.text.trim()&&u.confidence>30).map((u,l)=>({id:`ocr-${r}-${l}`,text:u.text,confidence:u.confidence,boundingBox:{x0:u.bbox.x0,y0:u.bbox.y0,x1:u.bbox.x1,y1:u.bbox.y1},page:r}));return{ocrText:n.text||"",ocrResults:f}}catch(n){throw console.error("OCR recognition failed:",n),new Error("OCR recognition failed.")}finally{await p.terminate()}}async performPDFOCR(s,a,r){const o=await s.arrayBuffer(),d=await cs({data:o}).promise;let p=[];const n=[];let f;for(let u=1;u<=d.numPages;u++){const l=await d.getPage(u),y=l.getViewport({scale:1.5}),m=document.createElement("canvas"),h=m.getContext("2d");if(!h)continue;m.width=y.width,m.height=y.height,await l.render({canvasContext:h,viewport:y}).promise;const c=m.toDataURL("image/png");u===1&&(f=c);const{ocrText:j,ocrResults:S}=await this.performOCR(c,a,u,d.numPages,r);n.push(j),p=p.concat(S)}return{ocrText:n.join(`

`),ocrResults:p,previewUrl:f}}}const Re=new Zt,R=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:b("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));R.displayName="Card";const M=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:b("flex flex-col space-y-1.5 p-6",t),...s}));M.displayName="CardHeader";const U=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:b("text-2xl font-semibold leading-none tracking-tight",t),...s}));U.displayName="CardTitle";const Jt=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:b("text-sm text-muted-foreground",t),...s}));Jt.displayName="CardDescription";const F=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:b("p-6 pt-0",t),...s}));F.displayName="CardContent";const ea=i.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:b("flex items-center p-6 pt-0",t),...s}));ea.displayName="CardFooter";const Ne=i.forwardRef(({className:t,value:s,...a},r)=>e.jsx(qe,{ref:r,className:b("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(Fs,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Ne.displayName=qe.displayName;const xs=i.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:b("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s}));xs.displayName="Textarea";const me=Us,he=zs,re=i.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(Ke,{ref:r,className:b("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(As,{asChild:!0,children:e.jsx(rs,{className:"h-4 w-4 opacity-50"})})]}));re.displayName=Ke.displayName;const ps=i.forwardRef(({className:t,...s},a)=>e.jsx(Xe,{ref:a,className:b("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ys,{className:"h-4 w-4"})}));ps.displayName=Xe.displayName;const fs=i.forwardRef(({className:t,...s},a)=>e.jsx(Qe,{ref:a,className:b("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(rs,{className:"h-4 w-4"})}));fs.displayName=Qe.displayName;const oe=i.forwardRef(({className:t,children:s,position:a="popper",...r},o)=>e.jsx(Is,{children:e.jsxs(Ze,{ref:o,className:b("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(ps,{}),e.jsx(Os,{className:b("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(fs,{})]})}));oe.displayName=Ze.displayName;const sa=i.forwardRef(({className:t,...s},a)=>e.jsx(Je,{ref:a,className:b("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));sa.displayName=Je.displayName;const L=i.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(es,{ref:r,className:b("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ls,{children:e.jsx(os,{className:"h-4 w-4"})})}),e.jsx(Ms,{children:s})]}));L.displayName=es.displayName;const ta=i.forwardRef(({className:t,...s},a)=>e.jsx(ss,{ref:a,className:b("-mx-1 my-1 h-px bg-muted",t),...s}));ta.displayName=ss.displayName;const aa=()=>{const{state:t,dispatch:s}=ne(),{canvasRef:a,currentPage:r}=t,[o,d]=i.useState(!1),[p,n]=i.useState(0),[f,u]=i.useState(""),[l,y]=i.useState("eng"),[m,h]=i.useState(null),[c,j]=i.useState(null),S=i.useCallback((C,P)=>{u(C),s({type:"SET_OCR_RESULTS",payload:{page:r,results:P}})},[s,r]),E=async C=>{d(!0),n(0),h(null),j(null),u("");try{if(C.type==="application/pdf"){const{ocrText:P,ocrResults:O,previewUrl:z}=await Re.performPDFOCR(C,l,n);S(P,O),z&&j(z)}else if(C.type.startsWith("image/")){const P=URL.createObjectURL(C);j(P);const{ocrText:O,ocrResults:z}=await Re.performOCR(C,l,1,1,n);S(O,z)}else throw new Error("Unsupported file type. Please upload an image or PDF.")}catch(P){h(P instanceof Error?P.message:"An unknown error occurred.")}finally{d(!1)}},A=C=>{var O;const P=(O=C.target.files)==null?void 0:O[0];P&&E(P)},_=C=>{if(C.preventDefault(),o)return;const P=C.dataTransfer.files[0];P&&E(P)},V=i.useCallback(async()=>{if(!(a!=null&&a.current))return;const P=a.current.toDataURL("image/png"),O=await(await fetch(P)).blob(),z=new File([O],"canvas.png",{type:"image/png"});await E(z)},[a,l,E]);return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Text Recognition (OCR)"}),e.jsx(R,{children:e.jsx(F,{className:"pt-6",children:e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors hover:bg-gray-50",onClick:()=>{var C;return(C=document.getElementById("ocr-file-input"))==null?void 0:C.click()},onDrop:_,onDragOver:C=>C.preventDefault(),children:[e.jsx(ye,{className:"mx-auto h-8 w-8 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Drag & drop or click to upload"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Image or PDF file"}),e.jsx("input",{id:"ocr-file-input",type:"file",className:"hidden",onChange:A,accept:"image/*,application/pdf"})]})})}),c&&e.jsx("img",{src:c,alt:"Preview",className:"max-h-40 mx-auto rounded border"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(w,{onClick:V,disabled:o||!(a!=null&&a.current),className:"flex-1",children:[e.jsx(je,{className:"h-4 w-4 mr-2"})," Scan Current View"]}),e.jsxs(me,{value:l,onValueChange:y,disabled:o,children:[e.jsx(re,{className:"w-[120px]",children:e.jsx(he,{})}),e.jsxs(oe,{children:[e.jsx(L,{value:"eng",children:"English"}),e.jsx(L,{value:"spa",children:"Spanish"}),e.jsx(L,{value:"deu",children:"German"}),e.jsx(L,{value:"fra",children:"French"})]})]})]}),o&&e.jsx(Ne,{value:p,className:"w-full"}),m&&e.jsx("p",{className:"text-sm text-red-600",children:m}),f&&e.jsxs(R,{children:[e.jsx(M,{children:e.jsxs(U,{className:"text-base flex justify-between items-center",children:["Extracted Text",e.jsxs(w,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(f),children:[e.jsx(is,{className:"h-3 w-3 mr-2"}),"Copy"]})]})}),e.jsx(F,{children:e.jsx(xs,{value:f,readOnly:!0,className:"min-h-32 font-mono text-xs"})})]})]})},X=()=>e.jsx("div",{className:"p-4 text-xs text-gray-500",children:"This tool has no settings."}),J={select:{name:"select",label:"Select",icon:e.jsx(tt,{size:16}),component:Xt,category:"basic",shortcut:"V",defaultSettings:{selectionMode:"single",showBounds:!0,snapToGrid:!1},description:"Select and manipulate elements"},text:{name:"text",label:"Text",icon:e.jsx(st,{size:16}),component:$t,category:"content",shortcut:"T",defaultSettings:{fontFamily:"Helvetica",fontSize:16,color:"#000000",bold:!1,italic:!1,underline:!1,lineHeight:1.2,textAlign:"left"},description:"Add and edit text boxes"},highlight:{name:"highlight",label:"Highlight",icon:e.jsx(et,{size:16}),component:qt,category:"annotation",shortcut:"H",defaultSettings:{color:"#FFFF00",opacity:.5,style:"solid",blendMode:"multiply"},description:"Highlight text and content"},rectangle:{name:"rectangle",label:"Rectangle",icon:e.jsx(Te,{size:16}),component:de,category:"shapes",shortcut:"R",defaultSettings:{strokeColor:"#000000",fillColor:"transparent",strokeWidth:2,strokeStyle:"solid",cornerRadius:0},description:"Draw rectangles and squares"},circle:{name:"circle",label:"Circle",icon:e.jsx(Js,{size:16}),component:de,category:"shapes",shortcut:"C",defaultSettings:{strokeColor:"#000000",fillColor:"transparent",strokeWidth:2,strokeStyle:"solid"},description:"Draw circles and ellipses"},line:{name:"line",label:"Line",icon:e.jsx(Zs,{size:16}),component:de,category:"shapes",shortcut:"L",defaultSettings:{strokeColor:"#000000",strokeWidth:2,strokeStyle:"solid"},description:"Draw straight lines"},freeform:{name:"freeform",label:"Draw",icon:e.jsx(ue,{size:16}),component:Gt,category:"drawing",shortcut:"F",defaultSettings:{color:"#000000",brushSize:3,smoothing:"medium"},description:"Draw freeform shapes and lines"},eraser:{name:"eraser",label:"Eraser",icon:e.jsx(Qs,{size:16}),component:Yt,category:"editing",shortcut:"E",defaultSettings:{size:20},description:"Remove annotations"},whiteout:{name:"whiteout",label:"Whiteout",icon:e.jsx(Te,{size:16,className:"fill-black"}),component:Qt,category:"editing",shortcut:"W",defaultSettings:{color:"#FFFFFF",opacity:1},description:"Cover areas of the document"},image:{name:"image",label:"Image",icon:e.jsx(Xs,{size:16}),component:Kt,category:"media",shortcut:"I",defaultSettings:{opacity:1},description:"Insert images onto the document"},signature:{name:"signature",label:"Signature",icon:e.jsx(Ks,{size:16}),component:X,category:"content",shortcut:"S",defaultSettings:{},description:"Add digital signatures"},ocr:{name:"ocr",label:"OCR",icon:e.jsx(ie,{size:16}),component:aa,category:"advanced",shortcut:"Shift+O",defaultSettings:{},description:"Recognize text in images"},inlineEdit:{name:"inlineEdit",label:"Edit Text",icon:e.jsx(ue,{size:16}),component:X,category:"editing",shortcut:"Shift+E",defaultSettings:{},description:"Edit the underlying text of the PDF"},form:{name:"form",label:"Form Field",icon:e.jsx(qs,{size:16}),component:X,category:"forms",shortcut:"Shift+F",defaultSettings:{},description:"Create interactive form fields"},checkmark:{name:"checkmark",label:"Checkmark",icon:e.jsx(Gs,{size:16}),component:X,category:"annotation",shortcut:"Shift+C",defaultSettings:{},description:"Add checkmarks"},"x-mark":{name:"x-mark",label:"X-Mark",icon:e.jsx(ge,{size:16}),component:X,category:"annotation",shortcut:"X",defaultSettings:{},description:"Add X marks"}},ra={Arial:"/fonts/arial.ttf",Helvetica:"/fonts/helvetica.ttf","Times New Roman":"/fonts/times-new-roman.ttf","Courier New":"/fonts/courier-new.ttf",Verdana:"/fonts/verdana.ttf",Georgia:"/fonts/georgia.ttf","Trebuchet MS":"/fonts/trebuchet-ms.ttf",Tahoma:"/fonts/tahoma.ttf",Impact:"/fonts/impact.ttf","Comic Sans MS":"/fonts/comic-sans-ms.ttf",Roboto:"/fonts/roboto.ttf","Open Sans":"/fonts/open-sans.ttf",Lato:"/fonts/lato.ttf",Montserrat:"/fonts/montserrat.ttf",Oswald:"/fonts/oswald.ttf",Raleway:"/fonts/raleway.ttf","PT Sans":"/fonts/pt-sans.ttf","Source Sans Pro":"/fonts/source-sans-pro.ttf",Merriweather:"/fonts/merriweather.ttf","Noto Sans":"/fonts/noto-sans.ttf",Ubuntu:"/fonts/ubuntu.ttf",Nunito:"/fonts/nunito.ttf","Work Sans":"/fonts/work-sans.ttf",Rubik:"/fonts/rubik.ttf",Poppins:"/fonts/poppins.ttf",Inter:"/fonts/inter.ttf","Fira Sans":"/fonts/fira-sans.ttf",Cabin:"/fonts/cabin.ttf","Playfair Display":"/fonts/playfair-display.ttf","Titillium Web":"/fonts/titillium-web.ttf",Inconsolata:"/fonts/inconsolata.ttf","IBM Plex Sans":"/fonts/ibm-plex-sans.ttf",Quicksand:"/fonts/quicksand.ttf",Assistant:"/fonts/assistant.ttf",Mukta:"/fonts/mukta.ttf",Arimo:"/fonts/arimo.ttf",Karla:"/fonts/karla.ttf","Josefin Sans":"/fonts/josefin-sans.ttf",Manrope:"/fonts/manrope.ttf","Zilla Slab":"/fonts/zilla-slab.ttf","Space Grotesk":"/fonts/space-grotesk.ttf",Barlow:"/fonts/barlow.ttf",Cairo:"/fonts/cairo.ttf","DM Sans":"/fonts/dm-sans.ttf",Mulish:"/fonts/mulish.ttf",Heebo:"/fonts/heebo.ttf","Exo 2":"/fonts/exo-2.ttf","Be Vietnam Pro":"/fonts/be-vietnam-pro.ttf",Anton:"/fonts/anton.ttf"};async function oa(t){const s={};for(const[a,r]of Object.entries(ra))try{const o=await fetch(r);if(o.ok){const d=await o.arrayBuffer(),p=await t.embedFont(d);s[a]=p}else console.warn(`Font file not found and will not be available: ${a} at ${r}`)}catch(o){console.warn(`Failed to load font "${a}". It will not be available.`,o)}return s}function se(t){if(!t)return{color:Q(0,0,0),opacity:1};if(t==="transparent")return{color:Q(0,0,0),opacity:0};const s=t.replace("#","");if(s.length===6){const a=parseInt(s.slice(0,2),16)/255,r=parseInt(s.slice(2,4),16)/255,o=parseInt(s.slice(4,6),16)/255;return{color:Q(a,r,o),opacity:1}}return{color:Q(0,0,0),opacity:1}}async function ia(t,s,a,r){const o=await ft.load(t),d=await oa(o),p=o.getPages();for(let n=0;n<p.length;n++){const f=p[n],u=n+1,{height:l}=f.getSize(),y=a.filter(c=>c.page===u);for(const c of y){const j=l-c.y-c.height,{color:S,opacity:E}=se(c.fillColor),{color:A,opacity:_}=se(c.strokeColor||c.color),V=c.opacity||.3,C={borderWidth:c.strokeWidth,borderColor:A,borderOpacity:_};c.type==="rectangle"?f.drawRectangle({...C,x:c.x,y:j,width:c.width,height:c.height,color:S,opacity:E}):c.type==="highlight"?f.drawRectangle({x:c.x,y:j,width:c.width,height:c.height,color:se(c.color).color,opacity:V}):c.type==="circle"&&f.drawEllipse({...C,x:c.x+c.width/2,y:j+c.height/2,xScale:c.width/2,yScale:c.height/2,color:S,opacity:E})}const m=s.filter(c=>c.page===u);for(const c of m){const j=d[c.fontFamily]||await o.embedFont(gt.Helvetica);f.drawText(c.text,{x:c.x,y:l-c.y-c.fontSize,font:j,size:c.fontSize,color:se(c.color).color,lineHeight:c.lineHeight*c.fontSize})}const h=r.filter(c=>c.page===u);for(const c of h)f.drawRectangle({x:c.x,y:l-c.y-c.height,width:c.width,height:c.height,color:Q(1,1,1)})}return await o.save()}function na(t,s){const a=new Blob([new Uint8Array(t)],{type:"application/pdf"}),r=URL.createObjectURL(a),o=document.createElement("a");o.href=r,o.download=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(o.href)}const xe={pdfDocument:null,originalPdfData:null,currentPage:1,totalPages:0,scale:1,rotation:0,isLoading:!1,fileName:"",annotations:{},textElements:{},formFields:{},whiteoutBlocks:{},ocrResults:{},selectedElementId:null,selectedElementType:null,currentTool:"select",canvasRef:null,toolSettings:Object.values(J).reduce((t,s)=>(t[s.name]={...s.defaultSettings},t),{}),history:[],historyIndex:-1};function la(t,s){switch(s.type){case"LOAD_SUCCESS":return{...xe,pdfDocument:s.payload.doc,originalPdfData:s.payload.data,totalPages:s.payload.doc.numPages,fileName:s.payload.file.name,history:[{...xe}],historyIndex:0};case"SET_LOADING":return{...t,isLoading:s.payload};case"SET_CURRENT_PAGE":return{...t,currentPage:s.payload};case"SET_SCALE":return{...t,scale:s.payload};case"SET_ROTATION":return{...t,rotation:s.payload};case"SET_CURRENT_TOOL":return{...t,currentTool:s.payload};case"SET_SELECTED_ELEMENT":return{...t,selectedElementId:s.payload.id,selectedElementType:s.payload.type};case"ADD_ANNOTATION":return{...t,annotations:{...t.annotations,[s.payload.page]:[...t.annotations[s.payload.page]||[],s.payload.annotation]}};case"UPDATE_ANNOTATION":return{...t,annotations:{...t.annotations,[s.payload.page]:(t.annotations[s.payload.page]||[]).map(a=>a.id===s.payload.id?{...a,...s.payload.updates}:a)}};case"DELETE_ANNOTATION":return{...t,annotations:{...t.annotations,[s.payload.page]:(t.annotations[s.payload.page]||[]).filter(a=>a.id!==s.payload.id)}};case"ADD_TEXT_ELEMENT":return{...t,textElements:{...t.textElements,[s.payload.page]:[...t.textElements[s.payload.page]||[],s.payload.element]}};case"UPDATE_TEXT_ELEMENT":return{...t,textElements:{...t.textElements,[s.payload.page]:(t.textElements[s.payload.page]||[]).map(a=>a.id===s.payload.id?{...a,...s.payload.updates}:a)}};case"DELETE_TEXT_ELEMENT":return{...t,textElements:{...t.textElements,[s.payload.page]:(t.textElements[s.payload.page]||[]).filter(a=>a.id!==s.payload.id)}};case"ADD_WHITEOUT_BLOCK":return{...t,whiteoutBlocks:{...t.whiteoutBlocks,[s.payload.page]:[...t.whiteoutBlocks[s.payload.page]||[],s.payload.block]}};case"UPDATE_WHITEOUT_BLOCK":return{...t,whiteoutBlocks:{...t.whiteoutBlocks,[s.payload.page]:(t.whiteoutBlocks[s.payload.page]||[]).map(a=>a.id===s.payload.id?{...a,...s.payload.updates}:a)}};case"DELETE_WHITEOUT_BLOCK":return{...t,whiteoutBlocks:{...t.whiteoutBlocks,[s.payload.page]:(t.whiteoutBlocks[s.payload.page]||[]).filter(a=>a.id!==s.payload.id)}};case"ADD_FORM_FIELD":return{...t,formFields:{...t.formFields,[s.payload.page]:[...t.formFields[s.payload.page]||[],s.payload.field]}};case"UPDATE_FORM_FIELD":return{...t,formFields:{...t.formFields,[s.payload.page]:(t.formFields[s.payload.page]||[]).map(a=>a.id===s.payload.id?{...a,...s.payload.updates}:a)}};case"DELETE_FORM_FIELD":return{...t,formFields:{...t.formFields,[s.payload.page]:(t.formFields[s.payload.page]||[]).filter(a=>a.id!==s.payload.id)}};case"SET_OCR_RESULTS":return{...t,ocrResults:{...t.ocrResults,[s.payload.page]:s.payload.results}};case"UPDATE_TOOL_SETTING":return{...t,toolSettings:{...t.toolSettings,[s.payload.toolId]:{...t.toolSettings[s.payload.toolId],[s.payload.key]:s.payload.value}}};case"SAVE_TO_HISTORY":{const a={annotations:t.annotations,formFields:t.formFields,whiteoutBlocks:t.whiteoutBlocks,textElements:t.textElements},r=t.history.slice(0,t.historyIndex+1);return r.push(a),{...t,history:r,historyIndex:r.length-1}}case"UNDO":{if(t.historyIndex<=0)return t;const a=t.historyIndex-1;return{...t,...t.history[a],historyIndex:a}}case"REDO":{if(t.historyIndex>=t.history.length-1)return t;const a=t.historyIndex+1;return{...t,...t.history[a],historyIndex:a}}default:return t}}const gs=i.createContext(void 0);function ca({children:t}){const[s,a]=i.useReducer(la,xe),r=i.useRef(null),o=i.useRef(null),f={state:s,dispatch:a,canvasRef:r,fileInputRef:o,loadPDF:async u=>{a({type:"SET_LOADING",payload:!0});try{const l=await u.arrayBuffer(),y=new Uint8Array(l),m=await cs({data:y}).promise;a({type:"LOAD_SUCCESS",payload:{doc:m,file:u,data:y}})}catch(l){console.error("Failed to load PDF:",l),a({type:"SET_LOADING",payload:!1})}},renderPage:async u=>{const l=u||s.currentPage;if(!s.pdfDocument||!r.current)return;a({type:"SET_LOADING",payload:!0});const y=r.current,m=await s.pdfDocument.getPage(l),h=m.getViewport({scale:s.scale,rotation:s.rotation});y.height=h.height,y.width=h.width;const c=y.getContext("2d");c&&await m.render({canvasContext:c,viewport:h}).promise,a({type:"SET_LOADING",payload:!1})},savePDF:async()=>{if(!s.originalPdfData){alert("No PDF file loaded to save.");return}a({type:"SET_LOADING",payload:!0});try{const u=Object.values(s.annotations).flat(),l=Object.values(s.textElements).flat(),y=Object.values(s.whiteoutBlocks).flat(),m=await ia(s.originalPdfData,l,u,y),h=s.fileName.replace(".pdf","-edited.pdf");na(m,h)}catch(u){console.error("Failed to save PDF:",u),alert("An error occurred while saving the PDF. See the console for details.")}finally{a({type:"SET_LOADING",payload:!1})}}};return e.jsx(gs.Provider,{value:f,children:t})}function ne(){const t=i.useContext(gs);if(!t)throw new Error("usePDFEditor must be used within a PDFEditorProvider");return t}function da({onUndo:t,onRedo:s,onSave:a,onDelete:r,onZoomIn:o,onZoomOut:d,setCurrentTool:p,enabled:n=!0}){const f=i.useCallback(u=>{var S;if(!n)return;const l=u.target;if(["INPUT","TEXTAREA","SELECT"].includes(l.tagName)||l.isContentEditable)return;const{key:y,ctrlKey:m,metaKey:h,shiftKey:c}=u;if(m||h)switch(u.preventDefault(),y.toLowerCase()){case"z":(c?s:t)();break;case"y":s();break;case"s":a();break;case"=":case"+":o();break;case"-":d();break}else{let E=null;for(const A of Object.values(J))if(((S=A.shortcut)==null?void 0:S.toLowerCase())===y.toLowerCase()){E=A.name;break}switch(E&&(u.preventDefault(),p(E)),u.key){case"Delete":case"Backspace":u.preventDefault(),r();break;case"Escape":u.preventDefault(),p("select");break}}},[n,t,s,a,r,o,d,p]);i.useEffect(()=>(window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}),[f])}const K=i.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(ts,{ref:r,className:b("relative overflow-hidden",t),...a,children:[e.jsx(Bs,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(ys,{}),e.jsx(_s,{})]}));K.displayName=ts.displayName;const ys=i.forwardRef(({className:t,orientation:s="vertical",...a},r)=>e.jsx(as,{ref:r,orientation:s,className:b("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...a,children:e.jsx(Vs,{className:"relative flex-1 rounded-full bg-border"})}));ys.displayName=as.displayName;function ua(){const{state:t,dispatch:s}=ne(),{pdfDocument:a,currentPage:r,totalPages:o,annotations:d}=t,[p,n]=i.useState([]),[f,u]=i.useState(!1);i.useEffect(()=>{if(!a){n([]);return}(async()=>{u(!0);try{const h=[];for(let c=1;c<=o;c++){const j=await a.getPage(c),S=j.getViewport({scale:.2}),E=document.createElement("canvas"),A=E.getContext("2d");A&&(E.height=S.height,E.width=S.width,await j.render({canvasContext:A,viewport:S}).promise,h.push(E.toDataURL()))}n(h)}catch(h){console.error("Error generating thumbnails:",h)}finally{u(!1)}})()},[a,o]);const l=m=>{m>=1&&m<=o&&s({type:"SET_CURRENT_PAGE",payload:m})},y=d[r]||[];return e.jsxs("div",{className:"w-64 border-r bg-gray-50 dark:bg-black/20 flex flex-col flex-shrink-0",children:[e.jsxs(hs,{defaultValue:"pages",className:"flex-1 flex flex-col",children:[e.jsxs(ve,{className:"grid w-full grid-cols-2",children:[e.jsxs(H,{value:"pages",children:[e.jsx(ie,{className:"h-4 w-4 mr-1"}),"Pages"]}),e.jsxs(H,{value:"layers",children:[e.jsx(at,{className:"h-4 w-4 mr-1"}),"Elements"]})]}),e.jsx($,{value:"pages",className:"flex-1 flex flex-col p-0",children:e.jsx(K,{className:"flex-1",children:f?e.jsx("div",{className:"flex items-center justify-center h-full p-4 text-sm text-muted-foreground",children:"Loading..."}):e.jsx("div",{className:"p-2 grid grid-cols-2 gap-2",children:p.map((m,h)=>e.jsx("div",{className:`border-2 rounded p-0.5 cursor-pointer transition-all ${r===h+1?"border-primary":"border-transparent hover:border-muted-foreground/50"}`,onClick:()=>l(h+1),children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:m,alt:`Page ${h+1}`,className:"w-full rounded-sm"}),e.jsx("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded-tl-md",children:h+1})]})},`thumb-${h}`))})})}),e.jsx($,{value:"layers",className:"flex-1",children:e.jsx(K,{className:"h-full",children:e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsxs("h3",{className:"font-medium mb-2 text-sm",children:["Elements on Page ",r]}),y.length>0?y.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded text-xs bg-white dark:bg-black/30 hover:bg-muted",children:[e.jsx("span",{className:"capitalize",children:m.type}),e.jsx(w,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>s({type:"DELETE_ANNOTATION",payload:{page:r,id:m.id}}),children:e.jsx(te,{className:"h-3 w-3"})})]},m.id)):e.jsx("div",{className:"text-center text-xs text-muted-foreground py-4",children:"No elements on this page."})]})})})]}),e.jsxs("div",{className:"p-2 border-t flex items-center justify-between flex-shrink-0",children:[e.jsx(w,{size:"icon",variant:"ghost",onClick:()=>l(r-1),disabled:r<=1,children:e.jsx(rt,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm font-medium",children:["Page ",r," of ",o]}),e.jsx(w,{size:"icon",variant:"ghost",onClick:()=>l(r+1),disabled:r>=o,children:e.jsx(ot,{className:"h-4 w-4"})})]})]})}function ma(){const{state:t,dispatch:s}=ne(),{currentTool:a,toolSettings:r}=t,o=(u,l)=>{s({type:"UPDATE_TOOL_SETTING",payload:{toolId:a,key:u,value:l}})},d=J[a],p=r[a],n=d.component,f=Array.from(new Set(Object.values(J).map(u=>u.category)));return e.jsxs("div",{className:"w-80 bg-gray-50 dark:bg-black/20 border-l flex flex-col flex-shrink-0",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h2",{className:"text-lg font-semibold",children:"Tools"})}),e.jsx(K,{className:"flex-1",children:f.map(u=>e.jsxs("div",{className:"p-4 border-b",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3 capitalize",children:u}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.values(J).filter(l=>l.category===u).map(l=>e.jsx(w,{variant:a===l.name?"default":"outline",size:"icon",className:"h-12 w-12",title:l.label,onClick:()=>s({type:"SET_CURRENT_TOOL",payload:l.name}),children:l.icon},l.name))})]},u))}),d&&e.jsx("div",{className:"border-t",children:e.jsxs(R,{className:"border-0 rounded-none shadow-none bg-transparent",children:[e.jsx(M,{children:e.jsxs(U,{className:"text-base flex items-center gap-2",children:[d.icon,d.label," Settings"]})}),e.jsx(F,{children:e.jsx(n,{settings:p,onSettingChange:o,editorState:t})})]})})]})}function ha({textElements:t,selectedElementId:s,scale:a,page:r,dispatch:o}){const d=(n,f)=>{o({type:"UPDATE_TEXT_ELEMENT",payload:{page:r,id:n,updates:f}})},p=n=>{o({type:"SET_SELECTED_ELEMENT",payload:{id:n,type:"text"}})};return e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:t.map(n=>e.jsx(xa,{element:n,isSelected:s===n.id,onUpdate:d,onSelect:p,onSaveHistory:()=>o({type:"SAVE_TO_HISTORY"}),scale:a},n.id))})}const xa=({element:t,isSelected:s,onUpdate:a,onSelect:r,onSaveHistory:o,scale:d})=>{const[p,n]=i.useState(!1),f=i.useRef(null);i.useEffect(()=>{p&&f.current&&(f.current.focus(),f.current.select())},[p]);const u=m=>{m.stopPropagation(),n(!0)},l=()=>{n(!1),o()},y={fontFamily:t.fontFamily,fontSize:t.fontSize*d,color:t.color,fontWeight:t.bold?"bold":"normal",fontStyle:t.italic?"italic":"normal",textDecoration:t.underline?"underline":"none",textAlign:t.textAlign,lineHeight:t.lineHeight};return e.jsx(bs,{position:{x:t.x*d,y:t.y*d},onStop:(m,h)=>{a(t.id,{x:h.x/d,y:h.y/d}),o()},scale:1,disabled:p,children:e.jsx("div",{className:`absolute pointer-events-auto cursor-move ${s?"ring-2 ring-blue-500 ring-offset-2":""}`,style:{width:t.width*d,height:t.height*d,transform:`rotate(${t.rotation}deg)`},onClick:m=>{m.stopPropagation(),r(t.id)},onDoubleClick:u,children:p?e.jsx("textarea",{ref:f,value:t.text,onChange:m=>a(t.id,{text:m.target.value}),onBlur:l,className:"w-full h-full bg-white/80 resize-none outline-none border-none p-0",style:y}):e.jsx("div",{className:"w-full h-full overflow-hidden whitespace-pre-wrap select-none",style:y,children:t.text})})})};function pa(){const{state:t,dispatch:s,canvasRef:a,fileInputRef:r,renderPage:o,loadPDF:d,savePDF:p}=ne(),{currentPage:n,currentTool:f,toolSettings:u,scale:l,selectedElementId:y,selectedElementType:m}=t,[h,c]=i.useState(null),[j,S]=i.useState(null);i.useEffect(()=>{t.pdfDocument&&o()},[t.pdfDocument,n,l,t.rotation,o]);const E=g=>{const k=a.current;if(!k)return{x:0,y:0};const B=k.getBoundingClientRect();return{x:(g.clientX-B.left)/l,y:(g.clientY-B.top)/l}},A=i.useCallback(g=>{if(g.target.closest(".draggable-text-box"))return;const k=E(g);S(k);const B=u[f];["rectangle","circle","highlight","whiteout","line"].includes(f)&&c({type:f,page:n,x:k.x,y:k.y,width:0,height:0,...B})},[n,f,u,l]),_=i.useCallback(g=>{if(!j)return;const k=E(g);h&&(h.type==="line"?c({...h,width:k.x-j.x,height:k.y-j.y}):c({...h,x:Math.min(j.x,k.x),y:Math.min(j.y,k.y),width:Math.abs(j.x-k.x),height:Math.abs(j.y-k.y)}))},[j,h,l]),V=i.useCallback(()=>{if(h&&j&&(h.width!==0||h.height!==0)){const g={...h,id:`${h.type}-${Date.now()}`};g.type==="whiteout"?s({type:"ADD_WHITEOUT_BLOCK",payload:{page:n,block:g}}):s({type:"ADD_ANNOTATION",payload:{page:n,annotation:g}}),s({type:"SAVE_TO_HISTORY"})}c(null),S(null)},[h,j,s,n]),C=i.useCallback(async g=>{var B;const k=(B=g.target.files)==null?void 0:B[0];k&&await d(k)},[d]);da({onUndo:()=>s({type:"UNDO"}),onRedo:()=>s({type:"REDO"}),onSave:p,onDelete:()=>{if(y&&m){const g=`DELETE_${m.toUpperCase()}_ELEMENT`;(g==="DELETE_ANNOTATION"||g==="DELETE_TEXT_ELEMENT")&&s({type:g,payload:{page:n,id:y}})}},onZoomIn:()=>s({type:"SET_SCALE",payload:l*1.2}),onZoomOut:()=>s({type:"SET_SCALE",payload:l/1.2}),setCurrentTool:g=>s({type:"SET_CURRENT_TOOL",payload:g})});const P=t.annotations[n]||[],O=t.textElements[n]||[],z=t.whiteoutBlocks[n]||[];return e.jsxs("div",{className:"h-full w-full bg-gray-200 flex flex-col font-sans",children:[e.jsxs("header",{className:"bg-white border-b p-2 flex items-center justify-between flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{asChild:!0,size:"sm",variant:"outline",children:e.jsxs(pe,{to:"/",children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Home"]})}),e.jsxs(w,{onClick:()=>{var g;return(g=r.current)==null?void 0:g.click()},size:"sm",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Upload PDF"]}),e.jsx("input",{ref:r,type:"file",accept:".pdf",className:"hidden",onChange:C})]}),t.fileName&&e.jsx("span",{className:"text-sm font-medium text-gray-600 truncate max-w-xs",children:t.fileName}),e.jsx("div",{})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx(ua,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center overflow-auto p-8 bg-gray-300 dark:bg-gray-800",children:t.pdfDocument?e.jsxs("div",{className:"relative shadow-lg",onMouseDown:A,onMouseMove:_,onMouseUp:V,style:{transform:`rotate(${t.rotation}deg)`},children:[e.jsx("canvas",{ref:a,className:"block"}),e.jsxs("div",{className:"absolute inset-0",children:[" ",e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[P.map(g=>e.jsx("div",{style:{position:"absolute",left:g.x*l,top:g.y*l,width:g.width*l,height:g.height*l,border:`${g.strokeWidth||2}px solid ${g.strokeColor||g.color}`,backgroundColor:g.fillColor||(g.type==="highlight"?`${g.color}80`:"transparent"),borderRadius:g.type==="circle"?"50%":`${g.cornerRadius||0}px`,opacity:g.opacity||1}},g.id)),z.map(g=>e.jsx("div",{style:{position:"absolute",left:g.x*l,top:g.y*l,width:g.width*l,height:g.height*l,backgroundColor:"white"}},g.id)),h&&e.jsx("div",{style:{position:"absolute",left:h.x*l,top:h.y*l,width:h.width*l,height:h.height*l,border:`${h.strokeWidth||2}px dashed #3B82F6`,backgroundColor:`${h.fillColor||h.color||"#3B82F6"}30`,borderRadius:h.type==="circle"?"50%":`${h.cornerRadius||0}px`}})]}),e.jsx(ha,{textElements:O,selectedElementId:y,scale:l,page:n,dispatch:s})]})]}):e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Welcome to the Editor"}),e.jsx("p",{children:'Click "Upload PDF" in the header to begin.'})]})}),e.jsx(ma,{})]})]})}function fa(){return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"container mx-auto px-4 py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Why Choose PDF4EVER?"}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsx(R,{className:"text-center p-6",children:e.jsxs(F,{className:"pt-6",children:[e.jsx(ns,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Complete Privacy"}),e.jsx("p",{className:"text-muted-foreground",children:"All processing happens locally. We never store your files on our servers."})]})}),e.jsx(R,{className:"text-center p-6",children:e.jsxs(F,{className:"pt-6",children:[e.jsx(nt,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Data Respect"}),e.jsx("p",{className:"text-muted-foreground",children:"Your personal information is never shared. We protect your privacy above all."})]})}),e.jsx(R,{className:"text-center p-6",children:e.jsxs(F,{className:"pt-6",children:[e.jsx(ue,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Professional Tools"}),e.jsx("p",{className:"text-muted-foreground",children:"Advanced editing, annotations, signatures, OCR, and form filling capabilities."})]})}),e.jsx(R,{className:"text-center p-6",children:e.jsxs(F,{className:"pt-6",children:[e.jsx(je,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Lightning Fast"}),e.jsx("p",{className:"text-muted-foreground",children:"No uploads, no waiting. Start editing immediately in your browser."})]})})]})]}),e.jsx("section",{className:"bg-primary/90 py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-primary-foreground",children:"Ready to Own Your PDF Editor?"}),e.jsx("p",{className:"text-xl mb-8 text-primary-foreground/80",children:"Pay once, own forever. Get lifetime access with all future updates included."}),e.jsx(w,{size:"lg",variant:"secondary",asChild:!0,children:e.jsx("a",{href:"/pricing",children:"View Lifetime Deal"})})]})})]})}function ga(){return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center",children:[e.jsx("header",{className:"w-full border-b bg-background sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsxs(pe,{to:"/",className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/70x70logo.png",alt:"PDF4EVER Logo",className:"h-8 w-8"}),e.jsxs("span",{className:"text-xl font-bold",children:[e.jsx("span",{className:"text-blue-600",children:"PDF4"}),e.jsx("span",{className:"text-orange-500",children:"EVER"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ht,{}),e.jsx(w,{variant:"ghost",size:"sm",children:"Sign In"}),e.jsx(w,{size:"sm",children:"Sign Up"})]})]})}),e.jsx("div",{className:"w-full border-b shadow-inner-lg bg-gray-100 dark:bg-gray-900",children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"h-[calc(100vh-61px)] max-h-[800px]",children:e.jsx(ca,{children:e.jsx(pa,{})})})})}),e.jsx("div",{className:"w-full",children:e.jsx(fa,{})}),e.jsx("footer",{className:"w-full bg-gray-900 text-white py-8",children:e.jsx("div",{className:"container mx-auto px-4 text-center",children:e.jsx("p",{className:"text-gray-400",children:"© 2025 PDF4EVER. Privacy-first PDF editing for everyone."})})})]})}const ya=ee("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Z({className:t,variant:s,...a}){return e.jsx("div",{className:b(ya({variant:s}),t),...a})}function ja(){const[t,s]=i.useState(!1),a=()=>{s(!0),console.log("Redirecting to checkout...")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/20",children:[e.jsx("header",{className:"absolute top-0 left-0 p-4",children:e.jsx(w,{asChild:!0,variant:"outline",children:e.jsxs(pe,{to:"/",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-16",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:["PDF4EVER ",e.jsx("span",{className:"text-primary",children:"Lifetime Access"})]}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Pay once, own forever. Get lifetime access to the most advanced PDF editor with all future updates included."})]}),e.jsx("div",{className:"max-w-lg mx-auto",children:e.jsxs(R,{className:"border-2 border-primary shadow-xl",children:[e.jsxs(M,{className:"text-center pb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ie,{className:"w-8 h-8 text-primary"})}),e.jsx(U,{className:"text-2xl",children:"Lifetime Access"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[e.jsx("span",{className:"text-4xl font-bold",children:"$50"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm text-muted-foreground line-through",children:"$197"}),e.jsx(Z,{variant:"destructive",children:"75% OFF"})]})]})]}),e.jsxs(F,{children:[e.jsx("ul",{className:"space-y-3 mb-8",children:["Complete PDF Editor Suite","Text Editing & Formatting","Digital Signatures","Form Filling & OCR","Document Management","Unlimited PDF Processing","All Future Updates","Priority Support","Commercial License","No Monthly Fees Ever"].map(r=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(os,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),e.jsx("span",{children:r})]},r))}),e.jsxs(w,{onClick:a,disabled:t,className:"w-full h-12 text-lg",children:[e.jsx(je,{className:"w-5 h-5 mr-2"}),t?"Processing...":"Get Lifetime Access"]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mt-4",children:"Secure payment powered by Stripe."})]})]})})]})]})}function ba(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(ae,{href:"/",children:e.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("img",{src:"/70x70logo.png",alt:"PDF4EVER Logo",className:"h-10 w-10"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent",children:"PDF4EVER"})]})}),e.jsx(ae,{href:"/",children:e.jsxs(w,{variant:"ghost",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Privacy Policy"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-8",children:"Effective Date: December 6, 2024"}),e.jsxs("div",{className:"prose prose-lg dark:prose-invert max-w-none space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Introduction"}),e.jsx("p",{children:'PDF4EVER ("we," "our," or "us") is committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our PDF editing web application and services (the "Service"). This policy complies with applicable federal laws and the laws of the State of Missouri.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Our Privacy-First Commitment"}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-l-4 border-blue-500",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Zero File Storage Policy"}),e.jsxs("p",{children:[e.jsx("strong",{children:"We do not store, save, or retain any PDF files or documents you process through our Service."})," ","All PDF editing, processing, and manipulation occurs entirely within your web browser using client-side technology. Your files never leave your device or are transmitted to our servers."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Information We Collect"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.1 Personal Information"}),e.jsx("p",{children:"When you create an account, we collect:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Email address (required for account creation and communication)"}),e.jsx("li",{children:"First and last name (for account personalization)"}),e.jsx("li",{children:"Password (securely hashed and encrypted)"}),e.jsx("li",{children:"Profile information from OAuth providers (Google) if you choose to sign in via these services"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"3.2 Usage Information"}),e.jsx("p",{children:"We automatically collect certain information when you use our Service:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Device information (browser type, operating system, device identifiers)"}),e.jsx("li",{children:"Usage analytics (pages visited, features used, time spent on Service)"}),e.jsx("li",{children:"IP address and location data (for security and fraud prevention)"}),e.jsx("li",{children:"Log files and technical data (for debugging and service improvement)"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"3.3 Cookies and Tracking Technologies"}),e.jsx("p",{children:"We use cookies and similar technologies for:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Authentication and session management"}),e.jsx("li",{children:"User preferences and settings"}),e.jsx("li",{children:"Security features and fraud prevention"}),e.jsx("li",{children:"Analytics and service improvement"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. How We Use Your Information"}),e.jsx("p",{children:"We use collected information solely for the following purposes:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Service Provision:"})," To provide, maintain, and improve our PDF editing services"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Account Management:"})," To create and manage your user account"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Authentication:"})," To verify your identity and secure your account"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communication:"})," To send important updates, security alerts, and support messages"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Security:"})," To detect, prevent, and address technical issues and security threats"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Compliance:"})," To comply with applicable laws and regulations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Improvement:"})," To analyze usage patterns and improve our Service"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Information Sharing and Disclosure"}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-6 rounded-lg border-l-4 border-green-500 mb-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No Third-Party Data Sharing"}),e.jsxs("p",{children:[e.jsx("strong",{children:"We do not sell, rent, trade, or otherwise share your personal information with third parties for their marketing or commercial purposes."})," ","Your data is used exclusively for the functioning of our Service."]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"Limited Disclosure Circumstances"}),e.jsx("p",{children:"We may disclose your information only in the following limited circumstances:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Requirements:"})," When required by law, court order, or government request"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Safety and Security:"})," To protect the rights, property, or safety of PDF4EVER, our users, or the public"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets (with user notification)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Consent:"})," When you have given explicit consent for specific sharing"]})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"Service Providers"}),e.jsx("p",{children:"We may share information with trusted service providers who assist us in operating our Service, including:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Supabase (database and authentication services)"}),e.jsx("li",{children:"Google (OAuth authentication services)"}),e.jsx("li",{children:"Hosting and infrastructure providers"})]}),e.jsx("p",{className:"mt-3",children:"These providers are contractually bound to protect your information and use it only for the specified purposes."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Data Security"}),e.jsx("p",{children:"We implement comprehensive security measures to protect your information:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Encryption:"})," All data transmission uses industry-standard SSL/TLS encryption"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Password Security:"})," Passwords are hashed using bcrypt with salt"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Access Controls:"})," Strict access controls and authentication requirements"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Regular Audits:"})," Regular security assessments and vulnerability testing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data Minimization:"})," We collect and retain only necessary information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Secure Infrastructure:"})," Use of reputable cloud providers with robust security measures"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Your Rights and Choices"}),e.jsx("p",{children:"You have the following rights regarding your personal information:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Access:"})," Request access to your personal information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Correction:"})," Request correction of inaccurate information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deletion:"})," Request deletion of your account and associated data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Portability:"})," Request a copy of your data in a portable format"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Opt-out:"})," Unsubscribe from promotional communications"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cookie Control:"})," Manage cookie preferences through your browser settings"]})]}),e.jsx("p",{className:"mt-3",children:"To exercise these rights, contact us at privacy@pdf4ever.com"})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Data Retention"}),e.jsx("p",{children:"We retain your information for the following periods:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Account Information:"})," Until you delete your account or request deletion"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Usage Data:"})," Up to 2 years for analytics and service improvement"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Compliance:"})," As required by applicable laws and regulations"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Security Logs:"})," Up to 1 year for security and fraud prevention"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Children's Privacy"}),e.jsx("p",{children:"Our Service is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If we become aware that we have collected personal information from a child under 13, we will take steps to delete such information promptly."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. International Users"}),e.jsx("p",{children:"Our Service is operated from the United States. If you are accessing our Service from outside the United States, please be aware that your information may be transferred to, stored, and processed in the United States where our servers are located and our central database is operated."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Changes to This Privacy Policy"}),e.jsx("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Effective Date" at the top. We encourage you to review this Privacy Policy periodically for any changes.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Contact Information"}),e.jsx("p",{children:"If you have any questions about this Privacy Policy or our privacy practices, please contact us:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mt-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," privacy@pdf4ever.com"]}),e.jsx("p",{children:e.jsx("strong",{children:"Mailing Address:"})}),e.jsxs("p",{children:["PDF4EVER Privacy Team",e.jsx("br",{}),"[Your Business Address]",e.jsx("br",{}),"[City], Missouri [ZIP Code]",e.jsx("br",{}),"United States"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Missouri-Specific Rights"}),e.jsx("p",{children:"As a resident of Missouri, you may have additional rights under Missouri state law. We comply with all applicable Missouri data protection requirements, including proper notification procedures for data breaches and adherence to Missouri's consumer protection laws."})]})]})]})]})}function va(){return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx(ae,{href:"/",children:e.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("img",{src:"/70x70logo.png",alt:"PDF4EVER Logo",className:"h-10 w-10"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent",children:"PDF4EVER"})]})}),e.jsx(ae,{href:"/",children:e.jsxs(w,{variant:"ghost",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Terms of Service"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-8",children:"Effective Date: December 6, 2024"}),e.jsxs("div",{className:"prose prose-lg dark:prose-invert max-w-none space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Acceptance of Terms"}),e.jsx("p",{children:'Welcome to PDF4EVER. These Terms of Service ("Terms") constitute a legally binding agreement between you ("User," "you," or "your") and PDF4EVER ("Company," "we," "our," or "us") regarding your use of our PDF editing web application and related services (collectively, the "Service"). By accessing or using our Service, you agree to be bound by these Terms and our Privacy Policy, which is incorporated herein by reference.'}),e.jsx("p",{children:"If you do not agree to these Terms, you may not access or use our Service. These Terms are governed by the laws of the State of Missouri and applicable federal laws of the United States."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Description of Service"}),e.jsx("p",{children:"PDF4EVER provides a web-based PDF editing platform that allows users to edit, annotate, merge, split, and manipulate PDF documents entirely within their web browser. Our Service operates on a privacy-first principle where all document processing occurs client-side, ensuring that your files never leave your device."}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"2.1 Service Features"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"PDF text editing and formatting"}),e.jsx("li",{children:"Digital signature capabilities"}),e.jsx("li",{children:"Form filling and completion"}),e.jsx("li",{children:"OCR (Optical Character Recognition) text extraction"}),e.jsx("li",{children:"Page merging and splitting"}),e.jsx("li",{children:"Annotation tools and markup"}),e.jsx("li",{children:"Font matching and text detection"}),e.jsx("li",{children:"Invoice generation and document templates"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"2.2 Privacy-First Architecture"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-l-4 border-blue-500",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Important:"})," All PDF processing occurs locally in your web browser. We do not upload, store, or retain any PDF files or document content on our servers. This ensures complete privacy and security of your documents."]})})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. User Accounts and Registration"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"3.1 Account Creation"}),e.jsx("p",{children:"To access certain features of our Service, you must create a user account. You may register using:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Email address and password"}),e.jsx("li",{children:"Google OAuth authentication"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"3.2 Account Responsibilities"}),e.jsx("p",{children:"You are responsible for:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Providing accurate and complete registration information"}),e.jsx("li",{children:"Maintaining the confidentiality of your account credentials"}),e.jsx("li",{children:"All activities that occur under your account"}),e.jsx("li",{children:"Immediately notifying us of any unauthorized use of your account"}),e.jsx("li",{children:"Using strong passwords that meet our security requirements"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"3.3 Account Termination"}),e.jsx("p",{children:"You may terminate your account at any time. We reserve the right to suspend or terminate accounts that violate these Terms or engage in prohibited activities."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Acceptable Use Policy"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"4.1 Permitted Uses"}),e.jsx("p",{children:"You may use our Service for lawful purposes, including:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Personal document editing and management"}),e.jsx("li",{children:"Business document processing and workflow"}),e.jsx("li",{children:"Educational and academic document preparation"}),e.jsx("li",{children:"Legal document review and editing (non-attorney users)"})]}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"4.2 Prohibited Uses"}),e.jsx("p",{children:"You agree not to use our Service to:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Process documents containing illegal content or activities"}),e.jsx("li",{children:"Violate any applicable laws, regulations, or third-party rights"}),e.jsx("li",{children:"Distribute malware, viruses, or other harmful code"}),e.jsx("li",{children:"Attempt to gain unauthorized access to our systems or other users' accounts"}),e.jsx("li",{children:"Reverse engineer, decompile, or attempt to extract source code"}),e.jsx("li",{children:"Use automated scripts or bots to access the Service"}),e.jsx("li",{children:"Interfere with or disrupt the Service's functionality"}),e.jsx("li",{children:"Create fraudulent or misleading documents"}),e.jsx("li",{children:"Process documents containing personal information of others without consent"}),e.jsx("li",{children:"Violate intellectual property rights of third parties"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Intellectual Property Rights"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"5.1 Our Intellectual Property"}),e.jsx("p",{children:"The Service, including its software, design, text, graphics, logos, and other content, is owned by PDF4EVER and is protected by intellectual property laws. You are granted a limited, non-exclusive, non-transferable license to use the Service for its intended purpose."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"5.2 Your Content"}),e.jsx("p",{children:"You retain all rights to the documents and content you process through our Service. Since we do not store your files, we do not claim any ownership rights to your content. You are solely responsible for ensuring you have the right to process any documents you upload to the Service."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"5.3 Feedback and Suggestions"}),e.jsx("p",{children:"Any feedback, suggestions, or ideas you provide to us regarding the Service may be used by us without any obligation to compensate you."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Privacy and Data Protection"}),e.jsx("p",{children:"Your privacy is fundamental to our Service. We encourage you to review our Privacy Policy, which explains our data collection, use, and protection practices. Key privacy principles include:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"No storage of your PDF files or document content"}),e.jsx("li",{children:"Client-side processing to ensure document privacy"}),e.jsx("li",{children:"Minimal data collection for account functionality only"}),e.jsx("li",{children:"No sharing of personal information with third parties for marketing purposes"}),e.jsx("li",{children:"Strong security measures to protect account information"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Service Availability and Modifications"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"7.1 Service Availability"}),e.jsx("p",{children:"We strive to maintain continuous Service availability but cannot guarantee uninterrupted access. The Service may be temporarily unavailable due to maintenance, updates, or technical issues."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"7.2 Service Modifications"}),e.jsx("p",{children:"We reserve the right to modify, update, or discontinue features of the Service at any time. We will provide reasonable notice of material changes that affect Service functionality."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Disclaimers and Limitations of Liability"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"8.1 Service Disclaimers"}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg border-l-4 border-yellow-500",children:e.jsx("p",{children:'THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.'})}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"8.2 Limitation of Liability"}),e.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, PDF4EVER SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF DATA, LOSS OF PROFITS, OR BUSINESS INTERRUPTION."}),e.jsx("p",{children:"OUR TOTAL LIABILITY TO YOU FOR ANY CLAIMS ARISING OUT OF OR RELATING TO THESE TERMS OR THE SERVICE SHALL NOT EXCEED THE AMOUNT YOU PAID TO US IN THE TWELVE (12) MONTHS PRECEDING THE CLAIM."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"8.3 Missouri Law Compliance"}),e.jsx("p",{children:"Some jurisdictions do not allow the exclusion of certain warranties or limitation of liability. In such cases, our liability will be limited to the maximum extent permitted by Missouri state law."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Indemnification"}),e.jsx("p",{children:"You agree to indemnify, defend, and hold harmless PDF4EVER, its officers, directors, employees, and agents from and against any claims, damages, losses, costs, and expenses (including reasonable attorneys' fees) arising out of or relating to:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Your use of the Service"}),e.jsx("li",{children:"Your violation of these Terms"}),e.jsx("li",{children:"Your violation of any applicable laws or regulations"}),e.jsx("li",{children:"Your infringement of any third-party rights"}),e.jsx("li",{children:"Content you process through the Service"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Governing Law and Dispute Resolution"}),e.jsx("h3",{className:"text-xl font-medium mb-3",children:"10.1 Governing Law"}),e.jsx("p",{children:"These Terms are governed by and construed in accordance with the laws of the State of Missouri, without regard to its conflict of law principles. Any disputes shall be resolved in the state or federal courts located in Missouri."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"10.2 Dispute Resolution"}),e.jsx("p",{children:"Before filing any legal claim, you agree to first contact us to attempt to resolve the dispute informally. We will work in good faith to resolve any issues through direct communication."}),e.jsx("h3",{className:"text-xl font-medium mb-3 mt-6",children:"10.3 Class Action Waiver"}),e.jsx("p",{children:"You agree that any dispute resolution proceedings will be conducted only on an individual basis and not in a class, consolidated, or representative action."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Termination"}),e.jsx("p",{children:"Either party may terminate this agreement at any time. Upon termination:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Your access to the Service will be immediately suspended"}),e.jsx("li",{children:"Your account information may be deleted in accordance with our Privacy Policy"}),e.jsx("li",{children:"Provisions that should survive termination will remain in effect"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"12. Changes to Terms"}),e.jsx("p",{children:"We may update these Terms from time to time to reflect changes in our Service, legal requirements, or business practices. Material changes will be communicated through:"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsx("li",{children:"Email notification to registered users"}),e.jsx("li",{children:"Prominent notice on our website"}),e.jsx("li",{children:"In-app notifications"})]}),e.jsx("p",{children:"Continued use of the Service after changes take effect constitutes acceptance of the updated Terms."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"13. Severability"}),e.jsx("p",{children:"If any provision of these Terms is found to be unenforceable or invalid, the remaining provisions will continue in full force and effect."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"14. Entire Agreement"}),e.jsx("p",{children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and PDF4EVER regarding the Service and supersede all prior agreements and understandings."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"15. Contact Information"}),e.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mt-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," legal@pdf4ever.com"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Support:"})," support@pdf4ever.com"]}),e.jsx("p",{children:e.jsx("strong",{children:"Mailing Address:"})}),e.jsxs("p",{children:["PDF4EVER Legal Department",e.jsx("br",{}),"[Your Business Address]",e.jsx("br",{}),"[City], Missouri [ZIP Code]",e.jsx("br",{}),"United States"]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border-l-4 border-blue-500 mt-8",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Questions or Concerns?"}),e.jsx("p",{children:"We're committed to transparency and user satisfaction. If you have any questions about these Terms or need clarification on any provision, please don't hesitate to contact our support team."})]})]})]})]})}function Na(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(R,{className:"w-full max-w-md mx-4",children:e.jsxs(F,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(lt,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function wa({onFileProcessed:t,currentFile:s}){const[a,r]=i.useState([]),[o,d]=i.useState(!1),[p,n]=i.useState(0),[f,u]=i.useState("merge"),[l,y]=i.useState([]),[m,h]=i.useState([]),[c,j]=i.useState("medium"),[S,E]=i.useState(90),A=i.useRef(null),_=i.useRef(null),V=i.useCallback(async(x,N=!1)=>{d(!0),n(0);const T=[];for(let v=0;v<x.length;v++){const D=x[v];if(D.type==="application/pdf"){n(v/x.length*50);try{const W=await D.arrayBuffer(),ce=await pdfCore.loadPDF(W),Se={id:`pdf-${Date.now()}-${v}`,name:D.name,size:D.size,data:W,pageCount:ce.numPages};T.push(Se),!N&&v===0&&(t==null||t(Se))}catch(W){console.error(`Failed to load PDF: ${D.name}`,W)}}}N?(r(v=>[...v,...T]),h(v=>[...v,...T.map(D=>D.id)])):r(T),n(100),d(!1)},[t]),C=i.useCallback(async()=>{if(!(m.length<2)){d(!0),n(0);try{const N=m.map(D=>a.find(W=>W.id===D)).filter(Boolean).map(D=>D.data);n(50);const T=await pdfCore.mergePDFs(N);n(90);const v=new Blob([new Uint8Array(T)],{type:"application/pdf"});pdfCore.downloadBlob(v,"merged-document.pdf"),n(100)}catch(x){console.error("Merge failed:",x)}finally{d(!1)}}},[a,m]),P=i.useCallback(async()=>{if(!(!s||l.length===0)){d(!0),n(0);try{const x=l.map(T=>{const v=[];for(let D=T.start;D<=T.end;D++)v.push(D);return v});n(30);const N=await pdfCore.splitPDF(s.data,x);n(80),N.forEach((T,v)=>{const D=l[v],W=new Blob([new Uint8Array(T)],{type:"application/pdf"}),ce=D.name||`${s.name}-part-${v+1}.pdf`;pdfCore.downloadBlob(W,ce)}),n(100)}catch(x){console.error("Split failed:",x)}finally{d(!1)}}},[s,l]),O=i.useCallback(async x=>{if(s){d(!0);try{const N=x||1,T=await pdfCore.rotatePDF(s.data,N,S),v=new Blob([new Uint8Array(T)],{type:"application/pdf"});n(100),pdfCore.downloadBlob(v,`${s.name}-rotated.pdf`)}catch(N){console.error("Rotation failed:",N)}finally{d(!1)}}},[s,S]),z=i.useCallback(async()=>{if(s){d(!0),n(0);try{n(50);const x=await pdfCore.compressPDF(s.data);n(90);const N=s.size,T=x.length,v=((N-T)/N*100).toFixed(1),D=new Blob([new Uint8Array(x)],{type:"application/pdf"});pdfCore.downloadBlob(D,`${s.name}-compressed.pdf`),alert(`Compression complete! Size reduced by ${v}%`),n(100)}catch(x){console.error("Compression failed:",x)}finally{d(!1)}}},[s]),g=()=>{const x={id:`range-${Date.now()}`,start:1,end:(s==null?void 0:s.pageCount)||1,name:`Part ${l.length+1}`};y([...l,x])},k=(x,N)=>{y(T=>T.map(v=>v.id===x?{...v,...N}:v))},B=x=>{y(N=>N.filter(T=>T.id!==x))},we=(x,N)=>{const T=[...m],[v]=T.splice(x,1);T.splice(N,0,v),h(T)},le=x=>{if(x===0)return"0 Bytes";const N=1024,T=["Bytes","KB","MB","GB"],v=Math.floor(Math.log(x)/Math.log(N));return parseFloat((x/Math.pow(N,v)).toFixed(2))+" "+T[v]};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsx(M,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),"PDF Toolkit"]})}),e.jsxs(F,{children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(w,{onClick:()=>{var x;return(x=A.current)==null?void 0:x.click()},variant:"outline",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Upload PDF"]}),e.jsxs(w,{onClick:()=>{var x;return(x=_.current)==null?void 0:x.click()},variant:"outline",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Add for Merge"]}),s&&e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(Z,{variant:"secondary",children:[s.name," (",s.pageCount," pages)"]}),e.jsx(Z,{variant:"outline",children:le(s.size)})]})]}),e.jsx("input",{ref:A,type:"file",accept:".pdf",multiple:!0,onChange:x=>x.target.files&&V(x.target.files),className:"hidden"}),e.jsx("input",{ref:_,type:"file",accept:".pdf",multiple:!0,onChange:x=>x.target.files&&V(x.target.files,!0),className:"hidden"})]})]}),o&&e.jsx(R,{children:e.jsxs(F,{className:"pt-6",children:[e.jsx(Ne,{value:p,className:"w-full"}),e.jsxs("p",{className:"text-sm text-center mt-2",children:["Processing... ",p,"%"]})]})}),e.jsxs(hs,{value:f,onValueChange:u,children:[e.jsxs(ve,{className:"grid w-full grid-cols-5",children:[e.jsxs(H,{value:"merge",children:[e.jsx(ct,{className:"h-4 w-4 mr-1"}),"Merge"]}),e.jsxs(H,{value:"split",children:[e.jsx(dt,{className:"h-4 w-4 mr-1"}),"Split"]}),e.jsxs(H,{value:"rotate",children:[e.jsx(ut,{className:"h-4 w-4 mr-1"}),"Rotate"]}),e.jsxs(H,{value:"compress",children:[e.jsx(Ee,{className:"h-4 w-4 mr-1"}),"Shrink"]}),e.jsxs(H,{value:"tools",children:[e.jsx(mt,{className:"h-4 w-4 mr-1"}),"Tools"]})]}),e.jsx($,{value:"merge",children:e.jsxs(R,{children:[e.jsx(M,{children:e.jsx(U,{children:"Merge PDFs"})}),e.jsx(F,{className:"space-y-4",children:a.length>0?e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"h-48 border rounded p-4",children:e.jsx("div",{className:"space-y-2",children:m.map((x,N)=>{const T=a.find(v=>v.id===x);return T?e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{variant:"outline",children:N+1}),e.jsx("span",{className:"text-sm",children:T.name}),e.jsxs(Z,{variant:"secondary",children:[T.pageCount," pages"]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(w,{size:"sm",variant:"outline",onClick:()=>we(N,Math.max(0,N-1)),disabled:N===0,children:"↑"}),e.jsx(w,{size:"sm",variant:"outline",onClick:()=>we(N,Math.min(m.length-1,N+1)),disabled:N===m.length-1,children:"↓"}),e.jsx(w,{size:"sm",variant:"destructive",onClick:()=>{r(a.filter(v=>v.id!==x)),h(m.filter(v=>v!==x))},children:e.jsx(te,{className:"h-3 w-3"})})]})]},x):null})})}),e.jsxs(w,{onClick:C,disabled:m.length<2||o,className:"w-full",children:[e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Merge ",m.length," PDFs"]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Upload multiple PDF files to merge them"})})]})}),e.jsx($,{value:"split",children:e.jsxs(R,{children:[e.jsx(M,{children:e.jsx(U,{children:"Split PDF"})}),e.jsx(F,{className:"space-y-4",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{children:"Split Ranges"}),e.jsxs(w,{size:"sm",onClick:g,children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),"Add Range"]})]}),e.jsx(K,{className:"h-48 border rounded p-4",children:e.jsx("div",{className:"space-y-3",children:l.map(x=>e.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center p-2 border rounded",children:[e.jsx(Y,{placeholder:"Name",value:x.name,onChange:N=>k(x.id,{name:N.target.value})}),e.jsx(Y,{type:"number",placeholder:"Start",min:1,max:s.pageCount,value:x.start,onChange:N=>k(x.id,{start:parseInt(N.target.value)})}),e.jsx(Y,{type:"number",placeholder:"End",min:1,max:s.pageCount,value:x.end,onChange:N=>k(x.id,{end:parseInt(N.target.value)})}),e.jsx(w,{size:"sm",variant:"destructive",onClick:()=>B(x.id),children:e.jsx(te,{className:"h-3 w-3"})})]},x.id))})})]}),e.jsxs(w,{onClick:P,disabled:l.length===0||o,className:"w-full",children:[e.jsx(xt,{className:"h-4 w-4 mr-2"}),"Split into ",l.length," files"]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Upload a PDF file to split it"})})]})}),e.jsx($,{value:"rotate",children:e.jsxs(R,{children:[e.jsx(M,{children:e.jsx(U,{children:"Rotate PDF"})}),e.jsx(F,{className:"space-y-4",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Rotation Angle"}),e.jsxs(me,{value:S.toString(),onValueChange:x=>E(parseInt(x)),children:[e.jsx(re,{children:e.jsx(he,{})}),e.jsxs(oe,{children:[e.jsx(L,{value:"90",children:"90° Clockwise"}),e.jsx(L,{value:"180",children:"180°"}),e.jsx(L,{value:"270",children:"270° Clockwise"}),e.jsx(L,{value:"-90",children:"90° Counter-clockwise"})]})]})]}),e.jsxs(w,{onClick:()=>O(),disabled:o,className:"w-full",children:[e.jsx(pt,{className:"h-4 w-4 mr-2"}),"Rotate All Pages ",S,"°"]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Upload a PDF file to rotate it"})})]})}),e.jsx($,{value:"compress",children:e.jsxs(R,{children:[e.jsx(M,{children:e.jsx(U,{children:"Compress PDF"})}),e.jsx(F,{className:"space-y-4",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:"Compression Level"}),e.jsxs(me,{value:c,onValueChange:j,children:[e.jsx(re,{children:e.jsx(he,{})}),e.jsxs(oe,{children:[e.jsx(L,{value:"low",children:"Low (Better Quality)"}),e.jsx(L,{value:"medium",children:"Medium (Balanced)"}),e.jsx(L,{value:"high",children:"High (Smaller Size)"})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Current file:"})," ",s.name]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Size:"})," ",le(s.size)]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Pages:"})," ",s.pageCount]})]}),e.jsxs(w,{onClick:z,disabled:o,className:"w-full",children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Compress PDF"]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Upload a PDF file to compress it"})})]})}),e.jsx($,{value:"tools",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs(R,{children:[e.jsx(M,{children:e.jsx(U,{children:"Batch Operations"})}),e.jsxs(F,{className:"space-y-2",children:[e.jsxs(w,{variant:"outline",className:"w-full justify-start",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Duplicate Pages"]}),e.jsxs(w,{variant:"outline",className:"w-full justify-start",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Remove Pages"]}),e.jsxs(w,{variant:"outline",className:"w-full justify-start",children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"Add Password"]})]})]}),e.jsxs(R,{children:[e.jsx(M,{children:e.jsx(U,{children:"Information"})}),e.jsx(F,{children:s&&e.jsx("div",{className:"space-y-2 text-sm",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"File name:"}),e.jsx("span",{children:s.name}),e.jsx("span",{className:"text-gray-500",children:"File size:"}),e.jsx("span",{children:le(s.size)}),e.jsx("span",{className:"text-gray-500",children:"Pages:"}),e.jsx("span",{children:s.pageCount})]})})})]})]})})]})]})}function Sa(){return e.jsx(kt,{defaultTheme:"dark",storageKey:"pdf-app-theme",children:e.jsx(vs,{children:e.jsxs(Wt,{children:[e.jsx(Et,{}),e.jsxs(Ns,{children:[e.jsx(G,{path:"/",element:e.jsx(ga,{})}),e.jsx(G,{path:"/toolkit",element:e.jsx(wa,{})}),e.jsx(G,{path:"/pricing",element:e.jsx(ja,{})}),e.jsx(G,{path:"/privacy-policy",element:e.jsx(ba,{})}),e.jsx(G,{path:"/terms-of-service",element:e.jsx(va,{})}),e.jsx(G,{path:"*",element:e.jsx(Na,{})})]})]})})})}const Ta=new yt,js=document.getElementById("root");if(!js)throw new Error("Root element not found!");ws.createRoot(js).render(e.jsx(Ss.StrictMode,{children:e.jsx(jt,{client:Ta,children:e.jsx(Sa,{})})}));
